CREATE VIEW EMBCPROD.V_DONATIONS (
   UNIQUE_KEY, 
   HISTORY_VERSION, 
   DELETED, 
   FOREIGN_DOC, 
   WEB_PAGE_LINK, 
   DATASHARE_COMMENTS, 
   OWNED_BY, 
   RELATED_REPORT_NAME, 
   DISTR_CENTER_SITE_ID, 
   TRACKING_NO, 
   DONATIONS_DATE, 
   STATUS, 
   DONOR_TYPE, 
   INDIVIDUAL, 
   ORGANIZATION, 
   POSITION, 
   AGENCY, 
   COMPANY_NAME, 
   LAST_NAME, 
   FIRST_NAME, 
   MIDDLE_INITIAL, 
   HOME_PHONE, 
   WORK_PHONE, 
   CELL_PHONE, 
   OTHER_PHONE, 
   EMAIL, 
   ADDRESS_1, 
   DONOR_CITY, 
   DONOR_STATE, 
   DONOR_ZIP, 
   DONOR_COUNTRY, 
   SCHEDULE_DONATION_PICKUP, 
   PICKUP_LAST_NAME, 
   PICKUP_FIRST_NAME, 
   PICKUP_MIDDLE_INITIAL, 
   PICKUP_HOME_PHONE, 
   PICKUP_WORK_PHONE, 
   PICKUP_CELL_PHONE, 
   PICKUP_OTHER_PHONE, 
   PICKUP_EMAIL, 
   STREET_ADDRESS, 
   CITY, 
   STATE_NAME, 
   ZIP_CODE, 
   COUNTRY_NAME, 
   ITEM_1_DESCRIPTION, 
   ITEM1_DATE_OF_INVENTORY, 
   ITEM1_ESTIMATED_VALUE, 
   ITEM1_IS_LOANED_OR_DONATED, 
   ITEM1_RETURN_DATE_TIME, 
   ITEM1_QUANTITY, 
   ITEM1_QUANTITY_UNIT, 
   ITEM1_NO_OF_PACKAGES, 
   ITEM1_PACKAGING, 
   ITEM1_CUBIC_SIZE, 
   ITEM1_CUBIC_SIZE_UNIT, 
   ITEM1_WEIGHT, 
   ITEM1_WEIGHT_UNIT, 
   ITEM1_IS_PERISHABLE, 
   ITEM1_EXP_DATE_OF_PERISHABLE, 
   ITEM1_ADDITIONAL_COMMENTS, 
   ITEM_2_DESCRIPTION, 
   ITEM2_DATE_OF_INVENTORY, 
   ITEM2_ESTIMATED_VALUE, 
   ITEM2_IS_LOANED_OR_DONATED, 
   ITEM2_RETURN_DATE_TIME, 
   ITEM2_QUANTITY, 
   ITEM2_QUANTITY_UNIT, 
   ITEM2_NO_OF_PACKAGES, 
   ITEM2_PACKAGING, 
   ITEM2_CUBIC_SIZE, 
   ITEM2_CUBIC_SIZE_UNIT, 
   ITEM2_WEIGHT, 
   ITEM2_WEIGHT_UNIT, 
   ITEM2_IS_PERISHABLE, 
   ITEM2_EXP_DATE_OF_PERISHABLE, 
   ITEM2_ADDITIONAL_COMMENTS, 
   ITEM_3_DESCRIPTION, 
   ITEM3_DATE_OF_INVENTORY, 
   ITEM3_ESTIMATED_VALUE, 
   ITEM3_IS_LOANED_OR_DONATED, 
   ITEM3_RETURN_DATE_TIME, 
   ITEM3_QUANTITY, 
   ITEM3_QUANTITY_UNIT, 
   ITEM3_NO_OF_PACKAGES, 
   ITEM3_PACKAGING, 
   ITEM3_CUBIC_SIZE, 
   ITEM3_CUBIC_SIZE_UNIT, 
   ITEM3_WEIGHT, 
   ITEM3_WEIGHT_UNIT, 
   ITEM3_IS_PERISHABLE, 
   ITEM3_EXP_DATE_OF_PERISHABLE, 
   ITEM3_ADDITIONAL_COMMENTS, 
   ITEM_4_DESCRIPTION, 
   ITEM4_DATE_OF_INVENTORY, 
   ITEM4_ESTIMATED_VALUE, 
   ITEM4_IS_LOANED_OR_DONATED, 
   ITEM4_RETURN_DATE_TIME, 
   ITEM4_QUANTITY, 
   ITEM4_QUANTITY_UNIT, 
   ITEM4_NO_OF_PACKAGES, 
   ITEM4_PACKAGING, 
   ITEM4_CUBIC_SIZE, 
   ITEM4_CUBIC_SIZE_UNIT, 
   ITEM4_WEIGHT, 
   ITEM4_WEIGHT_UNIT, 
   ITEM4_IS_PERISHABLE, 
   ITEM4_EXP_DATE_OF_PERISHABLE, 
   ITEM4_ADDITIONAL_COMMENTS, 
   ITEM_5_DESCRIPTION, 
   ITEM5_DATE_OF_INVENTORY, 
   ITEM5_ESTIMATED_VALUE, 
   ITEM5_IS_LOANED_OR_DONATED, 
   ITEM5_RETURN_DATE_TIME, 
   ITEM5_QUANTITY, 
   ITEM5_QUANTITY_UNIT, 
   ITEM5_NO_OF_PACKAGES, 
   ITEM5_PACKAGING, 
   ITEM5_CUBIC_SIZE, 
   ITEM5_CUBIC_SIZE_UNIT, 
   ITEM5_WEIGHT, 
   ITEM5_WEIGHT_UNIT, 
   ITEM5_IS_PERISHABLE, 
   ITEM5_EXP_DATE_OF_PERISHABLE, 
   ITEM5_ADDITIONAL_COMMENTS, 
   CREATION_DATE, 
   CREATED_BY, 
   MODIFICATION_DATE, 
   MODIFIED_BY, 
   TIMEZONE)
AS 
   /*
   *   SSMA warning messages:
   *   O2SS0273: Oracle SUBSTR function and SQL Server SUBSTRING function may give different results.
   */

   SELECT 
      DN.DONATIONS_ID AS UNIQUE_KEY, 
      CASE REPT.STATUS
         WHEN 'O' THEN 'Yes'
         ELSE 'No'
      END AS HISTORY_VERSION, 
      CASE REPT.STATUS
         WHEN 'D' THEN 'Yes'
         ELSE 'No'
      END AS DELETED, 
      CASE REPT.CREATED_BY
         WHEN NULL THEN 'Yes'
         ELSE 'No'
      END AS FOREIGN_DOC, 
      REPT.WEB_PAGE_LINK, 
      DS.COMMENTS AS DATASHARE_COMMENTS, 
      CASE REPT.IS_OWNER
         WHEN 'Y' THEN 'Local'
         ELSE 'No'
      END AS OWNED_BY, 
      RR.RELATED_REPORT_NAME, 
      DN.DISTR_CENTER_SITE_ID, 
      DN.TRACKING_NO, 
      DN.DONATIONS_DATE, 
      ISNULL(upper(substring(PV.COLOR_IMG_KEY, 7, (ssma_oracle.instr4_varchar(PV.COLOR_IMG_KEY, '.', 7, 1) - 7))), '') + ' - ' + ISNULL(PV.PICKLIST_VALUE, '') AS STATUS, 
      DN.DONOR_TYPE, 
      RE.INDIVIDUAL, 
      RE.ORGANIZATION, 
      RE.POSITION, 
      RE.AGENCY, 
      DN.COMPANY_NAME, 
      DN.LAST_NAME, 
      DN.FIRST_NAME, 
      DN.MIDDLE_INITIAL, 
      DN.HOME_PHONE, 
      DN.WORK_PHONE, 
      DN.CELL_PHONE, 
      DN.OTHER_PHONE, 
      DN.EMAIL, 
      DN.DONOR_STREET_ADDRESS AS ADDRESS_1, 
      /*'DONOR ADDRESS 2',*/DN.DONOR_CITY, 
      DN.DONOR_STATE, 
      DN.DONOR_ZIP, 
      DN.DONOR_COUNTRY, 
      /*'DONOR Display on Map', 'DONOR Latitude ','DONOR Longitude ','DONOR GeoLocated By'*/DN.SCHEDULE_DONATION_PICKUP, 
      DN.PICKUP_LAST_NAME, 
      DN.PICKUP_FIRST_NAME, 
      DN.PICKUP_MIDDLE_INITIAL, 
      DN.PICKUP_HOME_PHONE, 
      DN.PICKUP_WORK_PHONE, 
      DN.PICKUP_CELL_PHONE, 
      DN.PICKUP_OTHER_PHONE, 
      DN.PICKUP_EMAIL, 
      L.STREET_ADDRESS, 
      /* 'PICKUP ADDRESS 2',*/L.CITY, 
      L.STATE_NAME, 
      L.ZIP_CODE, 
      L.COUNTRY_NAME, 
      Z1.ITEM_DESCRIPTION AS ITEM_1_DESCRIPTION, 
      Z1.DATE_OF_INVENTORY AS ITEM1_DATE_OF_INVENTORY, 
      Z1.ESTIMATED_VALUE AS ITEM1_ESTIMATED_VALUE, 
      Z1.IS_LOANED_OR_DONATED AS ITEM1_IS_LOANED_OR_DONATED, 
      Z1.RETURN_DATE_TIME AS ITEM1_RETURN_DATE_TIME, 
      Z1.QUANTITY AS ITEM1_QUANTITY, 
      Z1.QUANTITY_UNIT AS ITEM1_QUANTITY_UNIT, 
      Z1.NO_OF_PACKAGES AS ITEM1_NO_OF_PACKAGES, 
      Z1.PACKAGING AS ITEM1_PACKAGING, 
      Z1.CUBIC_SIZE AS ITEM1_CUBIC_SIZE, 
      Z1.CUBIC_SIZE_UNIT AS ITEM1_CUBIC_SIZE_UNIT, 
      Z1.WEIGHT AS ITEM1_WEIGHT, 
      Z1.WEIGHT_UNIT AS ITEM1_WEIGHT_UNIT, 
      Z1.IS_PERISHABLE AS ITEM1_IS_PERISHABLE, 
      Z1.EXP_DATE_OF_PERISHABLE AS ITEM1_EXP_DATE_OF_PERISHABLE, 
      Z1.ADDITIONAL_COMMENTS AS ITEM1_ADDITIONAL_COMMENTS, 
      Z2.ITEM_DESCRIPTION AS ITEM_2_DESCRIPTION, 
      Z2.DATE_OF_INVENTORY AS ITEM2_DATE_OF_INVENTORY, 
      Z2.ESTIMATED_VALUE AS ITEM2_ESTIMATED_VALUE, 
      Z2.IS_LOANED_OR_DONATED AS ITEM2_IS_LOANED_OR_DONATED, 
      Z2.RETURN_DATE_TIME AS ITEM2_RETURN_DATE_TIME, 
      Z2.QUANTITY AS ITEM2_QUANTITY, 
      Z2.QUANTITY_UNIT AS ITEM2_QUANTITY_UNIT, 
      Z2.NO_OF_PACKAGES AS ITEM2_NO_OF_PACKAGES, 
      Z2.PACKAGING AS ITEM2_PACKAGING, 
      Z2.CUBIC_SIZE AS ITEM2_CUBIC_SIZE, 
      Z2.CUBIC_SIZE_UNIT AS ITEM2_CUBIC_SIZE_UNIT, 
      Z2.WEIGHT AS ITEM2_WEIGHT, 
      Z2.WEIGHT_UNIT AS ITEM2_WEIGHT_UNIT, 
      Z2.IS_PERISHABLE AS ITEM2_IS_PERISHABLE, 
      Z2.EXP_DATE_OF_PERISHABLE AS ITEM2_EXP_DATE_OF_PERISHABLE, 
      Z2.ADDITIONAL_COMMENTS AS ITEM2_ADDITIONAL_COMMENTS, 
      Z3.ITEM_DESCRIPTION AS ITEM_3_DESCRIPTION, 
      Z3.DATE_OF_INVENTORY AS ITEM3_DATE_OF_INVENTORY, 
      Z3.ESTIMATED_VALUE AS ITEM3_ESTIMATED_VALUE, 
      Z3.IS_LOANED_OR_DONATED AS ITEM3_IS_LOANED_OR_DONATED, 
      Z3.RETURN_DATE_TIME AS ITEM3_RETURN_DATE_TIME, 
      Z3.QUANTITY AS ITEM3_QUANTITY, 
      Z3.QUANTITY_UNIT AS ITEM3_QUANTITY_UNIT, 
      Z3.NO_OF_PACKAGES AS ITEM3_NO_OF_PACKAGES, 
      Z3.PACKAGING AS ITEM3_PACKAGING, 
      Z3.CUBIC_SIZE AS ITEM3_CUBIC_SIZE, 
      Z3.CUBIC_SIZE_UNIT AS ITEM3_CUBIC_SIZE_UNIT, 
      Z3.WEIGHT AS ITEM3_WEIGHT, 
      Z3.WEIGHT_UNIT AS ITEM3_WEIGHT_UNIT, 
      Z3.IS_PERISHABLE AS ITEM3_IS_PERISHABLE, 
      Z3.EXP_DATE_OF_PERISHABLE AS ITEM3_EXP_DATE_OF_PERISHABLE, 
      Z3.ADDITIONAL_COMMENTS AS ITEM3_ADDITIONAL_COMMENTS, 
      Z4.ITEM_DESCRIPTION AS ITEM_4_DESCRIPTION, 
      Z4.DATE_OF_INVENTORY AS ITEM4_DATE_OF_INVENTORY, 
      Z4.ESTIMATED_VALUE AS ITEM4_ESTIMATED_VALUE, 
      Z4.IS_LOANED_OR_DONATED AS ITEM4_IS_LOANED_OR_DONATED, 
      Z4.RETURN_DATE_TIME AS ITEM4_RETURN_DATE_TIME, 
      Z4.QUANTITY AS ITEM4_QUANTITY, 
      Z4.QUANTITY_UNIT AS ITEM4_QUANTITY_UNIT, 
      Z4.NO_OF_PACKAGES AS ITEM4_NO_OF_PACKAGES, 
      Z4.PACKAGING AS ITEM4_PACKAGING, 
      Z4.CUBIC_SIZE AS ITEM4_CUBIC_SIZE, 
      Z4.CUBIC_SIZE_UNIT AS ITEM4_CUBIC_SIZE_UNIT, 
      Z4.WEIGHT AS ITEM4_WEIGHT, 
      Z4.WEIGHT_UNIT AS ITEM4_WEIGHT_UNIT, 
      Z4.IS_PERISHABLE AS ITEM4_IS_PERISHABLE, 
      Z4.EXP_DATE_OF_PERISHABLE AS ITEM4_EXP_DATE_OF_PERISHABLE, 
      Z4.ADDITIONAL_COMMENTS AS ITEM4_ADDITIONAL_COMMENTS, 
      Z5.ITEM_DESCRIPTION AS ITEM_5_DESCRIPTION, 
      Z5.DATE_OF_INVENTORY AS ITEM5_DATE_OF_INVENTORY, 
      Z5.ESTIMATED_VALUE AS ITEM5_ESTIMATED_VALUE, 
      Z5.IS_LOANED_OR_DONATED AS ITEM5_IS_LOANED_OR_DONATED, 
      Z5.RETURN_DATE_TIME AS ITEM5_RETURN_DATE_TIME, 
      Z5.QUANTITY AS ITEM5_QUANTITY, 
      Z5.QUANTITY_UNIT AS ITEM5_QUANTITY_UNIT, 
      Z5.NO_OF_PACKAGES AS ITEM5_NO_OF_PACKAGES, 
      Z5.PACKAGING AS ITEM5_PACKAGING, 
      Z5.CUBIC_SIZE AS ITEM5_CUBIC_SIZE, 
      Z5.CUBIC_SIZE_UNIT AS ITEM5_CUBIC_SIZE_UNIT, 
      Z5.WEIGHT AS ITEM5_WEIGHT, 
      Z5.WEIGHT_UNIT AS ITEM5_WEIGHT_UNIT, 
      Z5.IS_PERISHABLE AS ITEM5_IS_PERISHABLE, 
      Z5.EXP_DATE_OF_PERISHABLE AS ITEM5_EXP_DATE_OF_PERISHABLE, 
      Z5.ADDITIONAL_COMMENTS AS ITEM5_ADDITIONAL_COMMENTS, 
      REPT.CREATION_DATE, 
      CASE 
         WHEN UC.USER_NAME IS NULL THEN 
            (
               SELECT TBL_REMOTE_DOCUMENT_USER_INFO.CREATED_BY_USER_LOGIN_ID
               FROM EMBCPROD.TBL_REMOTE_DOCUMENT_USER_INFO
               WHERE TBL_REMOTE_DOCUMENT_USER_INFO.GLOBAL_REPORT_ID = DN.DONATIONS_ID
            )
         ELSE UC.USER_NAME
      END AS CREATED_BY, 
      REPT.MODIFICATION_DATE, 
      CASE 
         WHEN UM.USER_NAME IS NULL THEN 
            (
               SELECT TBL_REMOTE_DOCUMENT_USER_INFO$2.MODIFIED_BY_USER_LOGIN_ID
               FROM EMBCPROD.TBL_REMOTE_DOCUMENT_USER_INFO  AS TBL_REMOTE_DOCUMENT_USER_INFO$2
               WHERE TBL_REMOTE_DOCUMENT_USER_INFO$2.GLOBAL_REPORT_ID = DN.DONATIONS_ID
            )
         ELSE UM.USER_NAME
      END AS MODIFIED_BY, 
      
         (
            SELECT TBL_EEMS_CONFIGURATION.CUSTOMER_TIMEZONE
            FROM EMBCPROD.TBL_EEMS_CONFIGURATION, EMBCPROD.TBL_REPORT
            WHERE TBL_EEMS_CONFIGURATION.CONFIGURATION_ID = TBL_REPORT.GLOBAL_REPORT_ID AND TBL_REPORT.STATUS = 'A'
         ) AS TIMEZONE
   FROM 
      (EMBCPROD.TBL_DONATIONS  AS DN 
         LEFT JOIN EMBCPROD.TBL_PICKLIST_VALUE  AS PV 
         ON DN.STATUS = PV.PICKLIST_VALUE_ID), 
      ((((EMBCPROD.TBL_REPORT  AS REPT 
         LEFT JOIN EMBCPROD.TBL_LOCATION  AS L 
         ON REPT.LOCATION_ID = L.LOCATION_ID) 
         LEFT JOIN EMBCPROD.TBL_RESPONSIBLE_ENTITY  AS RE 
         ON REPT.ENTITY_ID = RE.ENTITY_ID) 
         LEFT JOIN EMBCPROD.TBL_GEO_LOCATION_MAPPING  AS G 
         ON REPT.GEO_LOCATION_MAPPING_ID = G.GEO_LOCATION_MAPPING_ID) 
         LEFT JOIN EMBCPROD.TBL_DATA_SHARING  AS DS 
         ON REPT.DATA_SHARING_ID = DS.DATA_SHARING_ID) 
         LEFT JOIN EMBCPROD.TBL_RELATED_REPORT  AS RR 
         ON 
            REPT.GLOBAL_REPORT_ID = RR.GLOBAL_REPORT_ID AND 
            RR.RELATED_REPORT_TYPE = 'EIA' AND 
            RR.RELATED_GLOBAL_REPORT_ID IN 
            (
               SELECT TBL_REPORT$2.GLOBAL_REPORT_ID
               FROM EMBCPROD.TBL_REPORT  AS TBL_REPORT$2
               WHERE TBL_REPORT$2.STATUS IN ( 'A', 'C', 'D' )
            ) 
         LEFT JOIN EMBCPROD.TBL_REPORT  AS UCR 
         ON UCR.REPORT_ID = REPT.CREATED_BY 
         LEFT JOIN EMBCPROD.TBL_USER  AS UC 
         ON UCR.GLOBAL_REPORT_ID = UC.USER_ID AND UCR.STATUS IN ( 'A', 'D' ) 
         LEFT JOIN EMBCPROD.TBL_REPORT  AS UMR 
         ON UMR.REPORT_ID = REPT.MODIFIED_BY 
         LEFT JOIN EMBCPROD.TBL_USER  AS UM 
         ON UM.USER_ID = UMR.GLOBAL_REPORT_ID AND UMR.STATUS IN ( 'A', 'D' ), 
      (
         SELECT 
            TBL_DONATION_ITEM.PARENT_ID, 
            TBL_DONATION_ITEM.ITEM_DESCRIPTION, 
            TBL_DONATION_ITEM.DATE_OF_INVENTORY, 
            TBL_DONATION_ITEM.ESTIMATED_VALUE, 
            TBL_DONATION_ITEM.IS_LOANED_OR_DONATED, 
            TBL_DONATION_ITEM.RETURN_DATE_TIME, 
            TBL_DONATION_ITEM.QUANTITY, 
            TBL_DONATION_ITEM.QUANTITY_UNIT, 
            TBL_DONATION_ITEM.NO_OF_PACKAGES, 
            TBL_DONATION_ITEM.PACKAGING, 
            TBL_DONATION_ITEM.CUBIC_SIZE, 
            TBL_DONATION_ITEM.CUBIC_SIZE_UNIT, 
            TBL_DONATION_ITEM.WEIGHT, 
            TBL_DONATION_ITEM.WEIGHT_UNIT, 
            TBL_DONATION_ITEM.IS_PERISHABLE, 
            TBL_DONATION_ITEM.EXP_DATE_OF_PERISHABLE, 
            TBL_DONATION_ITEM.ADDITIONAL_COMMENTS
         FROM EMBCPROD.TBL_DONATION_ITEM
         WHERE TBL_DONATION_ITEM.ITEM_ORDER = '0'
      )  AS Z1, 
      (
         SELECT 
            TBL_DONATION_ITEM$2.PARENT_ID, 
            TBL_DONATION_ITEM$2.ITEM_DESCRIPTION, 
            TBL_DONATION_ITEM$2.DATE_OF_INVENTORY, 
            TBL_DONATION_ITEM$2.ESTIMATED_VALUE, 
            TBL_DONATION_ITEM$2.IS_LOANED_OR_DONATED, 
            TBL_DONATION_ITEM$2.RETURN_DATE_TIME, 
            TBL_DONATION_ITEM$2.QUANTITY, 
            TBL_DONATION_ITEM$2.QUANTITY_UNIT, 
            TBL_DONATION_ITEM$2.NO_OF_PACKAGES, 
            TBL_DONATION_ITEM$2.PACKAGING, 
            TBL_DONATION_ITEM$2.CUBIC_SIZE, 
            TBL_DONATION_ITEM$2.CUBIC_SIZE_UNIT, 
            TBL_DONATION_ITEM$2.WEIGHT, 
            TBL_DONATION_ITEM$2.WEIGHT_UNIT, 
            TBL_DONATION_ITEM$2.IS_PERISHABLE, 
            TBL_DONATION_ITEM$2.EXP_DATE_OF_PERISHABLE, 
            TBL_DONATION_ITEM$2.ADDITIONAL_COMMENTS
         FROM EMBCPROD.TBL_DONATION_ITEM  AS TBL_DONATION_ITEM$2
         WHERE TBL_DONATION_ITEM$2.ITEM_ORDER = '1'
      )  AS Z2, 
      (
         SELECT 
            TBL_DONATION_ITEM$3.PARENT_ID, 
            TBL_DONATION_ITEM$3.ITEM_DESCRIPTION, 
            TBL_DONATION_ITEM$3.DATE_OF_INVENTORY, 
            TBL_DONATION_ITEM$3.ESTIMATED_VALUE, 
            TBL_DONATION_ITEM$3.IS_LOANED_OR_DONATED, 
            TBL_DONATION_ITEM$3.RETURN_DATE_TIME, 
            TBL_DONATION_ITEM$3.QUANTITY, 
            TBL_DONATION_ITEM$3.QUANTITY_UNIT, 
            TBL_DONATION_ITEM$3.NO_OF_PACKAGES, 
            TBL_DONATION_ITEM$3.PACKAGING, 
            TBL_DONATION_ITEM$3.CUBIC_SIZE, 
            TBL_DONATION_ITEM$3.CUBIC_SIZE_UNIT, 
            TBL_DONATION_ITEM$3.WEIGHT, 
            TBL_DONATION_ITEM$3.WEIGHT_UNIT, 
            TBL_DONATION_ITEM$3.IS_PERISHABLE, 
            TBL_DONATION_ITEM$3.EXP_DATE_OF_PERISHABLE, 
            TBL_DONATION_ITEM$3.ADDITIONAL_COMMENTS
         FROM EMBCPROD.TBL_DONATION_ITEM  AS TBL_DONATION_ITEM$3
         WHERE TBL_DONATION_ITEM$3.ITEM_ORDER = '2'
      )  AS Z3, 
      (
         SELECT 
            TBL_DONATION_ITEM$4.PARENT_ID, 
            TBL_DONATION_ITEM$4.ITEM_DESCRIPTION, 
            TBL_DONATION_ITEM$4.DATE_OF_INVENTORY, 
            TBL_DONATION_ITEM$4.ESTIMATED_VALUE, 
            TBL_DONATION_ITEM$4.IS_LOANED_OR_DONATED, 
            TBL_DONATION_ITEM$4.RETURN_DATE_TIME, 
            TBL_DONATION_ITEM$4.QUANTITY, 
            TBL_DONATION_ITEM$4.QUANTITY_UNIT, 
            TBL_DONATION_ITEM$4.NO_OF_PACKAGES, 
            TBL_DONATION_ITEM$4.PACKAGING, 
            TBL_DONATION_ITEM$4.CUBIC_SIZE, 
            TBL_DONATION_ITEM$4.CUBIC_SIZE_UNIT, 
            TBL_DONATION_ITEM$4.WEIGHT, 
            TBL_DONATION_ITEM$4.WEIGHT_UNIT, 
            TBL_DONATION_ITEM$4.IS_PERISHABLE, 
            TBL_DONATION_ITEM$4.EXP_DATE_OF_PERISHABLE, 
            TBL_DONATION_ITEM$4.ADDITIONAL_COMMENTS
         FROM EMBCPROD.TBL_DONATION_ITEM  AS TBL_DONATION_ITEM$4
         WHERE TBL_DONATION_ITEM$4.ITEM_ORDER = '3'
      )  AS Z4, 
      (
         SELECT 
            TBL_DONATION_ITEM$5.PARENT_ID, 
            TBL_DONATION_ITEM$5.ITEM_DESCRIPTION, 
            TBL_DONATION_ITEM$5.DATE_OF_INVENTORY, 
            TBL_DONATION_ITEM$5.ESTIMATED_VALUE, 
            TBL_DONATION_ITEM$5.IS_LOANED_OR_DONATED, 
            TBL_DONATION_ITEM$5.RETURN_DATE_TIME, 
            TBL_DONATION_ITEM$5.QUANTITY, 
            TBL_DONATION_ITEM$5.QUANTITY_UNIT, 
            TBL_DONATION_ITEM$5.NO_OF_PACKAGES, 
            TBL_DONATION_ITEM$5.PACKAGING, 
            TBL_DONATION_ITEM$5.CUBIC_SIZE, 
            TBL_DONATION_ITEM$5.CUBIC_SIZE_UNIT, 
            TBL_DONATION_ITEM$5.WEIGHT, 
            TBL_DONATION_ITEM$5.WEIGHT_UNIT, 
            TBL_DONATION_ITEM$5.IS_PERISHABLE, 
            TBL_DONATION_ITEM$5.EXP_DATE_OF_PERISHABLE, 
            TBL_DONATION_ITEM$5.ADDITIONAL_COMMENTS
         FROM EMBCPROD.TBL_DONATION_ITEM  AS TBL_DONATION_ITEM$5
         WHERE TBL_DONATION_ITEM$5.ITEM_ORDER = '4'
      )  AS Z5
   WHERE 
      DN.DONATIONS_ID = REPT.GLOBAL_REPORT_ID AND 
      Z1.PARENT_ID = DN.DONATIONS_ID AND 
      Z2.PARENT_ID = DN.DONATIONS_ID AND 
      Z3.PARENT_ID = DN.DONATIONS_ID AND 
      Z4.PARENT_ID = DN.DONATIONS_ID AND 
      Z5.PARENT_ID = DN.DONATIONS_ID
GO
EXECUTE sp_addextendedproperty @name = N'MS_SSMA_SOURCE', @value = N'EMBCPROD.V_DONATIONS', @level0type = N'SCHEMA', @level0name = N'EMBCPROD', @level1type = N'VIEW', @level1name = N'V_DONATIONS';

