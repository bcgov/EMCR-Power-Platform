CREATE    VIEW dbo.[Domino_ReporterLive_PECC 801 - Situation Report] AS  SELECT *  FROM (   SELECT j.DocID as Doc_Id, b.Name, ISNULL(b.Text, '') as [Text]   FROM dbo.DominoData j   CROSS APPLY OPENJSON (FormData) a   CROSS APPLY OPENJSON (a.value)    WITH (    [Name] VARCHAR(50)      ,[Text] VARCHAR(MAX)      ,[Values] NVARCHAR(MAX) AS JSON   ) b    where FormName = 'PECC 801 - Situation Report'     and isJson(FormData) =1  ) App  PIVOT   (    MAX([Text])  FOR [Name]IN ([ReportType],[IncidentLocation],[Parent_UNID],[IncidentJurisdiction_16],[EvacueesGroupLodging],[UpdateNumber],[IncidentResponse_12],[PECC801ContactNumber],[ESSWorkersComments],[ReportApproverSignature],[EvacGrpLodgComments],[IncidentResponse_3],[ReportApproverPosition],[IncidentResponse_8],[IncidentResponse_15],[deaths],[IncidentJurisdiction_22],[PREOCName],[From],[IncidentResponse_22],[IncidentJurisdiction_8],[ESSVolunteersActivated],[ESSWorkersActivated],[ReportApprovalDateTime],[RelatedIncidentNumber],[EvacueesCommercialLodging],[IncidentResponse_19],[IncidentResponse_21],[IncidentJurisdiction_13],[IncidentJurisdiction_24],[InjuryComments],[IncidentJurisdiction_1],[IncidentResponse_5],[PECC801SituationOverview],[IncidentResponse_14],[IncidentJurisdiction_10],[Universal_ID],[IncidentJurisdiction_17],[ReportApprovedBy],[IncidentResponse_11],[EvacRegComments],[IncidentResponse_16],[Form],[FatalityComments],[PECC801DamageCostEst],[PECC801Comments],[EvacueesRegistered],[IncidentJurisdiction_11],[Evacuated],[EvacuatedComments],[PECC801ResponseActivities],[injuries],[IncidentJurisdiction_23],[IncidentJurisdiction_12],[IncidentResponse_23],[PECC801CriticalRequirements],[Missing],[IncidentJurisdiction_7],[IncidentJurisdiction_19],[PECC801WeatherConditions],[PECC801IncidentDescription],[IncidentJurisdiction_21],[tmpFrom],[IncidentResponse_7],[IncidentResponse_9],[$Fonts],[IncidentResponse_24],[IncidentResponse_18],[IncidentJurisdiction_18],[$UpdatedBy],[ESSVolunteersComments],[IncidentJurisdiction],[IncidentResponse_6],[ReceptionOpenComments],[$Revisions],[IncidentJurisdiction_2],[IncidentResponse_13],[PECC801EMail],[MissingComments],[$REF],[IncidentResponse],[IncidentResponse_20],[IncidentJurisdiction_20],[IncidentJurisdiction_15],[ActualName],[timeComposed],[IncidentJurisdiction_5],[ReportNumber],[IncidentJurisdiction_9],[RelatedIncident],[IncidentResponse_4],[IncidentResponse_17],[IncidentJurisdiction_4],[IncidentJurisdiction_6],[IncidentResponse_2],[DateComposed],[IncidentJurisdiction_3],[IncidentResponse_1],[EvacCommLodgComments],[$Conflict],[IncidentJurisdiction_14],[ReceptionCentresOpen],[IncidentResponse_10])) as PivotTable
