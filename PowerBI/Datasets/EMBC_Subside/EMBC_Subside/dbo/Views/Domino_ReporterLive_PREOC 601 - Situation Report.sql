CREATE    VIEW dbo.[Domino_ReporterLive_PREOC 601 - Situation Report] AS  SELECT *  FROM (   SELECT j.DocID as Doc_Id, b.Name, ISNULL(b.Text, '') as [Text]   FROM dbo.DominoData j   CROSS APPLY OPENJSON (FormData) a   CROSS APPLY OPENJSON (a.value)    WITH (    [Name] VARCHAR(50)      ,[Text] VARCHAR(MAX)      ,[Values] NVARCHAR(MAX) AS JSON   ) b    where FormName = 'PREOC 601 - Situation Report'     and isJson(FormData) =1  ) App  PIVOT   (    MAX([Text])  FOR [Name]IN ([IncidentDetails_22],[SituationForecast],[IncidentDetails_1],[IncidentDetails_11],[IncidentJurisdiction_1],[IncidentResponse_12],[ESSWorkersComments],[UpdateNumber],[PREOCName],[IncidentJurisdiction_11],[IncidentResponse_19],[deaths],[$RespondedTo],[EvacueesGroupLodging],[IncidentStatus_21],[PREOCEMail],[IncidentStatus_6],[EvacRegComments],[From],[IncidentJurisdiction_24],[IncidentJurisdiction_13],[EvacueesRegistered],[Evacuated],[OriginalModTime],[IncidentStatus_17],[IncidentStatus_5],[IncidentJurisdiction_8],[IncidentStatus_19],[CommunicationsImpact],[IncidentResponse_5],[IncidentResponse_15],[EvacGrpLodgComments],[IncidentStatus_13],[IncidentResponse_22],[IncidentDetails_8],[IncidentJurisdiction_10],[Form714Attached],[PREOCPhoneNumber],[IncidentJurisdiction_22],[IncidentStatus_24],[CriticalRequirements],[EvacueesCommercialLodging],[ESSWorkersActivated],[IncidentStatus],[ReportApproverPosition],[DamagedHomesComments],[IncidentStatus_10],[ESSVolunteersActivated],[IncidentResponse_11],[IncidentDetails_7],[IncidentDetails_16],[IncidentJurisdiction_16],[ReportApprovedBy],[Parent_UNID],[PREOCSituationOverview],[IncidentResponse_16],[PREOCCity],[InjuryComments],[ReportApproverSignature],[RelatedIncidentNumber],[IncidentResponse_8],[IncidentJurisdiction_3],[IncidentDetails_5],[IncidentResponse_14],[IncidentStatus_4],[IncidentStatus_14],[IncidentResponse_21],[IncidentDetails_13],[IncidentDetails_20],[ReportType],[FatalityComments],[IncidentJurisdiction_17],[IncidentResponse_3],[Universal_ID],[IncidentDetails_17],[NumDamagedHomes],[IncidentStatus_3],[Draft_Approved],[Form],[IncidentDetails_2],[IncidentDetails_9],[IncidentJurisdiction_20],[injuries],[tmpFrom],[DateComposed],[IncidentJurisdiction_5],[IncidentJurisdiction_9],[IncidentStatus_12],[$Fonts],[IncidentResponse_23],[Missing],[IncidentResponse_4],[IncidentResponse_6],[PREOC601IncidentDescription],[IncidentJurisdiction_14],[PREOCStreetAddress],[IncidentResponse],[ActionPlan],[$FILE],[DamagedBusinessComments],[IncidentStatus_23],[IncidentStatus_9],[IncidentResponse_24],[IncidentStatus_22],[IncidentResponse_18],[IncidentDetails_6],[IncidentDetails_15],[$Conflict],[IncidentResponse_7],[IncidentStatus_15],[IncidentResponse_9],[RelatedIncident],[IncidentJurisdiction_4],[IncidentDetails_12],[IncidentJurisdiction_12],[IncidentStatus_7],[IncidentJurisdiction_19],[IncidentStatus_20],[IncidentDetails],[IncidentStatus_11],[NumDamagedBusinesses],[IncidentJurisdiction_23],[$Revisions],[IncidentStatus_2],[MissingComments],[IncidentJurisdiction_6],[$UpdatedBy],[IncidentStatus_16],[ESSVolunteersComments],[IncidentJurisdiction_21],[IncidentResponse_10],[ReceptionOpenComments],[ReceptionCentresOpen],[IncidentJurisdiction],[TransportationImpact],[$REF],[IncidentJurisdiction_15],[IncidentResponse_17],[UtilityImpact],[IncidentStatus_1],[IncidentResponse_13],[IncidentDetails_10],[IncidentDetails_23],[IncidentResponse_1],[IncidentJurisdiction_2],[IncidentDetails_4],[IncidentDetails_19],[ActualName],[IncidentStatus_8],[IncidentDetails_14],[IncidentResponse_20],[EvacuatedComments],[$OLEOBJINFO],[IncidentJurisdiction_7],[EvacCommLodgComments],[ReportNumber],[PREOCFaxNumber],[IncidentDetails_24],[IncidentJurisdiction_18],[IncidentDetails_3],[IncidentStatus_18],[IncidentDetails_18],[IncidentDetails_21],[timeComposed],[IncidentResponse_2])) as PivotTable
