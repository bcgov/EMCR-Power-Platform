CREATE    VIEW dbo.Domino_ECCLOG_PWOR AS  SELECT *  FROM (   SELECT j.DocID as 'DocumentID', b.Name, ISNULL(b.Text, '') as [Text]   FROM dbo.DominoData j   CROSS APPLY OPENJSON (FormData) a   CROSS APPLY OPENJSON (a.value)    WITH (    [Name] VARCHAR(50)      ,[Text] VARCHAR(MAX)      ,[Values] NVARCHAR(MAX) AS JSON   ) b    where FormName = 'PWOR'     and isJson(FormData) =1  ) App  PIVOT   (    MAX([Text])  FOR [Name]IN ([$Conflict],[$ConflictAction],[$KeepPrivate],[$REF],[$Revisions],[$UpdatedBy],[ActionTaken],[Address],[AltContactNo1],[AltContactNo1Type],[AltContactNo2],[AltContactNo2Type],[AltContactNo3],[AltContactNo3Type],[Area],[Attractants],[Caller],[City],[CopiedToEM2000],[Copy],[Delete],[DetailsDate_1],[DetailsDate_10],[DetailsDate_11],[DetailsDate_2],[DetailsDate_3],[DetailsDate_4],[DetailsDate_5],[DetailsDate_6],[DetailsDate_7],[DetailsDate_8],[DetailsDate_9],[DetailsText_1],[DetailsText_10],[DetailsText_11],[DetailsText_2],[DetailsText_3],[DetailsText_4],[DetailsText_5],[DetailsText_6],[DetailsText_7],[DetailsText_8],[DetailsText_9],[DetailsTime_1],[DetailsTime_10],[DetailsTime_11],[DetailsTime_2],[DetailsTime_3],[DetailsTime_4],[DetailsTime_5],[DetailsTime_6],[DetailsTime_7],[DetailsTime_8],[DetailsTime_9],[District],[docID],[Email],[FaCTS_Update],[Form],[FormName],[INCIDENTCURRENT],[IncidentDateTime],[IncidentNumber],[IncidentSubject],[IncidentSubType],[IncidentTimeLogged],[IncidentType],[LocationDescription],[NatureOfComplaint],[NtfReportData],[OccurrenceLocation],[OccurrenceNotes],[OccurrenceRegion],[OriginalModTime],[PostalCode],[PrimaryContactNo],[PrimaryContactNoType],[Readers],[Recipients],[Recipients2],[ReferredBy],[ReportAuthor],[ReportAuthorPosition],[ReportDisplayDate],[Species],[TaskCategory],[UniversalID])) as PivotTable
