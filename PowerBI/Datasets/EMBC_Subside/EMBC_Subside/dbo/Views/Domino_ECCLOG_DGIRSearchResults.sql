CREATE    VIEW dbo.Domino_ECCLOG_DGIRSearchResults AS  SELECT *  FROM (   SELECT j.DocID as 'DocumentID', b.Name, ISNULL(b.Text, '') as [Text]   FROM dbo.DominoData j   CROSS APPLY OPENJSON (FormData) a   CROSS APPLY OPENJSON (a.value)    WITH (    [Name] VARCHAR(50)      ,[Text] VARCHAR(MAX)      ,[Values] NVARCHAR(MAX) AS JSON   ) b    where FormName = 'DGIRSearchResults'     and isJson(FormData) =1  ) App  PIVOT   (    MAX([Text])  FOR [Name]IN ([$UpdatedBy],[Delete],[Form],[LINKSPAGE1],[LinksPage101],[LinksPage11],[LinksPage111],[LinksPage121],[LinksPage131],[LinksPage141],[LinksPage21],[LinksPage31],[LinksPage41],[LinksPage51],[LinksPage61],[LinksPage71],[LinksPage81],[LinksPage91],[NEXTTEXT],[NUMRESULTSTEXT],[ResultText],[SEARCHTYPE],[SELECTEDQUERY],[SELECTEDQUERYFORDISPLAY])) as PivotTable
