/*
Deployment script for EMBC

This code was generated by a tool.
Changes to this file may cause incorrect behavior and will be lost if
the code is regenerated.
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER ON;

SET NUMERIC_ROUNDABORT OFF;


GO
:setvar DatabaseName "EMBC"
:setvar DefaultFilePrefix "EMBC"
:setvar DefaultDataPath "F:\MSSQL\Data\"
:setvar DefaultLogPath "F:\MSSQL\Log\"

GO
:on error exit
GO
/*
Detect SQLCMD mode and disable script execution if SQLCMD mode is not supported.
To re-enable the script after enabling SQLCMD mode, execute the following:
SET NOEXEC OFF; 
*/
:setvar __IsSqlCmdEnabled "True"
GO
IF N'$(__IsSqlCmdEnabled)' NOT LIKE N'True'
    BEGIN
        PRINT N'SQLCMD mode must be enabled to successfully execute this script.';
        SET NOEXEC ON;
    END


GO
USE [$(DatabaseName)];


GO
/*
The type for column address1_postalcode in table [dfa_stage].[contact] is currently  NVARCHAR (50) NULL but is being changed to  NVARCHAR (20) NULL. Data loss could occur.

The type for column address2_postalcode in table [dfa_stage].[contact] is currently  NVARCHAR (50) NULL but is being changed to  NVARCHAR (20) NULL. Data loss could occur.

The type for column address3_postalcode in table [dfa_stage].[contact] is currently  NVARCHAR (50) NULL but is being changed to  NVARCHAR (20) NULL. Data loss could occur.

The type for column mobilephone in table [dfa_stage].[contact] is currently  NVARCHAR (100) NULL but is being changed to  NVARCHAR (50) NULL. Data loss could occur.
*/

--IF EXISTS (select top 1 1 from [dfa_stage].[contact])
--    RAISERROR (N'Rows were detected. The schema update is terminating because data loss might occur.', 16, 127) WITH NOWAIT

GO
/*
The type for column dfa_contactphone in table [dfa_stage].[dfa_buildingownerlandlord] is currently  NVARCHAR (50) NULL but is being changed to  NVARCHAR (15) NULL. Data loss could occur.

The type for column dfa_contactphone2 in table [dfa_stage].[dfa_buildingownerlandlord] is currently  NVARCHAR (50) NULL but is being changed to  NVARCHAR (15) NULL. Data loss could occur.
*/

--IF EXISTS (select top 1 1 from [dfa_stage].[dfa_buildingownerlandlord])
--    RAISERROR (N'Rows were detected. The schema update is terminating because data loss might occur.', 16, 127) WITH NOWAIT

GO
/*
The type for column dfa_eventidname in table [dfa_stage].[dfa_effectedregioncommunity] is currently  NVARCHAR (100) NULL but is being changed to  NVARCHAR (20) NULL. Data loss could occur.
*/

--IF EXISTS (select top 1 1 from [dfa_stage].[dfa_effectedregioncommunity])
--    RAISERROR (N'Rows were detected. The schema update is terminating because data loss might occur.', 16, 127) WITH NOWAIT

GO
/*
The type for column dfa_id in table [dfa_stage].[dfa_event] is currently  NVARCHAR (50) NULL but is being changed to  NVARCHAR (20) NULL. Data loss could occur.
*/

--IF EXISTS (select top 1 1 from [dfa_stage].[dfa_event])
--    RAISERROR (N'Rows were detected. The schema update is terminating because data loss might occur.', 16, 127) WITH NOWAIT

GO
/*
The type for column dfa_eventidname in table [dfa_stage].[dfa_privatesectorstatusreport] is currently  NVARCHAR (100) NULL but is being changed to  NVARCHAR (20) NULL. Data loss could occur.
*/

--IF EXISTS (select top 1 1 from [dfa_stage].[dfa_privatesectorstatusreport])
--    RAISERROR (N'Rows were detected. The schema update is terminating because data loss might occur.', 16, 127) WITH NOWAIT

GO
/*
The type for column dfa_eventidname in table [dfa_stage].[dfa_projectstatusreport] is currently  NVARCHAR (100) NULL but is being changed to  NVARCHAR (20) NULL. Data loss could occur.
*/

--IF EXISTS (select top 1 1 from [dfa_stage].[dfa_projectstatusreport])
--    RAISERROR (N'Rows were detected. The schema update is terminating because data loss might occur.', 16, 127) WITH NOWAIT

GO
/*
The type for column dfa_eventidname in table [dfa_stage].[dfa_publicsectorstatusreport] is currently  NVARCHAR (100) NULL but is being changed to  NVARCHAR (20) NULL. Data loss could occur.

The type for column dfa_name in table [dfa_stage].[dfa_publicsectorstatusreport] is currently  NVARCHAR (200) NULL but is being changed to  NVARCHAR (100) NULL. Data loss could occur.
*/

--IF EXISTS (select top 1 1 from [dfa_stage].[dfa_publicsectorstatusreport])
--    RAISERROR (N'Rows were detected. The schema update is terminating because data loss might occur.', 16, 127) WITH NOWAIT

GO
/*
The type for column dfa_damagedpropertypostalcode in table [dfa_stage].[incident] is currently  NVARCHAR (50) NULL but is being changed to  NVARCHAR (10) NULL. Data loss could occur.

The type for column dfa_eventidname in table [dfa_stage].[incident] is currently  NVARCHAR (100) NULL but is being changed to  NVARCHAR (20) NULL. Data loss could occur.

The type for column dfa_mailingaddresspostalcode in table [dfa_stage].[incident] is currently  NVARCHAR (50) NULL but is being changed to  NVARCHAR (10) NULL. Data loss could occur.

The type for column dfa_pid in table [dfa_stage].[incident] is currently  NVARCHAR (500) NULL but is being changed to  NVARCHAR (11) NULL. Data loss could occur.
*/

--IF EXISTS (select top 1 1 from [dfa_stage].[incident])
--    RAISERROR (N'Rows were detected. The schema update is terminating because data loss might occur.', 16, 127) WITH NOWAIT

GO
--PRINT N'Dropping Permission...';


--GO
--REVOKE EXECUTE
--    ON OBJECT::[dfa_stage].[usp_ResetETL] TO [dfalsuser] CASCADE
--    AS [dbo];


--GO
--PRINT N'Dropping Permission...';


--GO
--REVOKE EXECUTE
--    ON OBJECT::[dfa_stage].[usp_ResetETL] TO [embc_etl] CASCADE
--    AS [dbo];


--GO
--PRINT N'Dropping Permission...';


--GO
--REVOKE ALTER
--    ON SCHEMA::[ssma_oracle] TO [IDIR\ESOTELO] CASCADE;


--GO
--PRINT N'Dropping Permission...';


--GO
--REVOKE EXECUTE
--    ON SCHEMA::[ssma_oracle] TO [IDIR\ESOTELO] CASCADE;


--GO
--PRINT N'Dropping Permission...';


--GO
--REVOKE INSERT
--    ON SCHEMA::[ssma_oracle] TO [IDIR\ESOTELO] CASCADE;


--GO
--PRINT N'Dropping Permission...';


--GO
--REVOKE SELECT
--    ON SCHEMA::[ssma_oracle] TO [IDIR\ESOTELO] CASCADE;


--GO
--PRINT N'Dropping Permission...';


--GO
--REVOKE UPDATE
--    ON SCHEMA::[ssma_oracle] TO [IDIR\ESOTELO] CASCADE;


--GO
--PRINT N'Dropping Permission...';


--GO
--REVOKE VIEW DEFINITION
--    ON SCHEMA::[ssma_oracle] TO [IDIR\ESOTELO] CASCADE;


--GO
PRINT N'Removing schema binding from [dfa_rpt].[FactCase]...';


GO
ALTER VIEW [dfa_rpt].[FactCase]
AS
SELECT ISNULL(CONVERT (NVARCHAR (40), COALESCE (r.dfa_areacommunityid, i.[dfa_areacommunityid], [dfa_areacommunity2id])), '-1') AS DimLocationBK,
       dfa_applicanttypename,
       i.createdon AS CreatedDate,
       [dfa_totalfederalclaimamount_date] AS TotalFederalClaimAmountDate,
       [dfa_totalineligibleamount_date] AS TotalIneligibleAmountDate,
       [dfa_totalprovincialeligibleamount_date] AS TotalProvincialEligibleAmountDate,
       [dfa_secondaryapplicantsigneddate] AS SecondaryApplicantSignedDate,
       [dfa_primaryapplicantsigneddate] AS PrimaryApplicantSignedDate,
       [dfa_letterofacknowledgement] AS LetterOfAcknowledgmentDate,
       [dfa_evaluationreportreceiveddate] AS EvaluationReportReceivedDate,
       [dfa_dateapplicantcontacted] AS ApplicantContactedDate,
       [dfa_dateassigned] AS AssignedDate,
       [dfa_dateassignedtofm] AS AssignedToFMDate,
       [dfa_datecasereceivedbyfm] AS ReceivedByFMDate,
       [dfa_dateevaluationfilereceived] AS EvaluationFileReceivedDate,
       [dfa_datefileclosed] AS FileClosedDate,
       [dfa_dateofapplicantsitevisit] AS OfApplicantSiteVisitDate,
       [dfa_dateofdamage] AS DamageDate,
       [dfa_dateofdamageto] AS DamageToDate,
       [dfa_datereceived] AS ReceivedDate,
       [dfa_datereportcompleted] AS ReportCompletedDate,
       [dfa_datereturntotheresidence] AS ReturnToTheResidenceDate,
       [dfa_crpreceived] AS CRPReceivedDate,
       [dfa_bringforwarddate] AS BringForwardDate,
       [dfa_atpercent] AS AtPercent,
       [dfa_balanceowing] AS BalanceOwing,
       [dfa_balanceowing_base] AS BalanceOwingBase,
       [dfa_claimstotalpayable] AS ClaimsTotalPayable,
       [dfa_claimstotalpayable_base] AS ClaimsTotalPayabaleBase,
       [dfa_claimstotalpayable80] AS ClaimsTotalPayable80,
       [dfa_claimstotalpayable80_base] AS ClaimsTotalPayable80Base,
       [dfa_embcamount80] AS EMCRAmount80,
       [dfa_embcamount80_base] AS EMCRAmount80Base,
       [dfa_embcapprovedamount] AS EMCRApprovedAmount,
       [dfa_embcapprovedamount_base] AS EMCRApprovedAmountBase,
       isnull(CONVERT (NVARCHAR (40), i.[dfa_eventid]), '-1') AS DimEventBK,
       [dfa_federalclaimamounttotal] AS FederalClaimAmount,
       [dfa_federalclaimamounttotal_base] AS FederalClaimAmountBase,
       [dfa_forecastclaimamount] AS ForecastClaimAmount,
       [dfa_forecastclaimamount_base] AS ForecastClaimAmountBase,
       [dfa_ineligibleamounttotal] AS IneligibleAmountTotal,
       [dfa_ineligibleamounttotal_base] AS IneligibleAmountTotalBase,
       [dfa_less1000deductable] AS Less1000Deductable,
       [dfa_projectapprovedamountsubtotals] AS ProjectApprovedAmountSubtotals,
       [dfa_projectapprovedamountsubtotals_base] AS ProjectApprovedAmountSubtotalsBase,
       [dfa_provincialeligibleamounttotal] AS ProvincialEligibalyAmountTotal,
       [dfa_provincialeligibleamounttotal_base] AS PRovincialEligibletAmountTotalBase,
       [dfa_totalfederalclaimamount] AS TotalFederalClaimAmount,
       [dfa_totalfederalclaimamount_base] AS TotalFederalClaimAmountBase,
       [dfa_totalineligibleamount] AS TotalIneligibleAmount,
       [dfa_totalineligibleamount_base] AS TotalIneligibleAmountBase,
       [dfa_totalpaid] AS TotalPaid,
       [dfa_totalpaid_base] AS TotalPaidBase,
       [dfa_totalprovincialeligibleamount] AS TotalProvincialEligibleAmount,
       [dfa_totalprovincialeligibleamount_base] AS TotalProvincialEligibleAmountBase,
       [incidentid] AS DimCaseBK
FROM   [dfa_stage].[incident] AS i
       LEFT OUTER JOIN
       dfa_stage.dfa_effectedregioncommunity AS r
       ON r.dfa_effectedregioncommunityid = i.dfa_effectedcommunityregionid;


GO
PRINT N'Removing schema binding from [dfa_rpt].[FactProject]...';


GO
ALTER VIEW [dfa_rpt].[FactProject]
AS
SELECT a.[dfa_actualcostcalculatedwithapprovedpercentag] AS ActualCostCalculatedWithApprovedPercentage,
       a.[dfa_actualcostcalculatedwithapprovedpercentag_base] AS ActualCostCalculatedWithApprovedPercentageBase,
       a.[dfa_actualcostwithtax] AS ActualCostWithTax,
       a.[dfa_actualcostwithtax_base] AS ActualCostWithTaxBase,
       a.[dfa_approvedcost] AS ApprovedCost,
       a.[dfa_approvedcost_base] AS ApprovedCostBase,
       a.[dfa_approvedcostcalculatedwithpercentage] AS ApprovedCostCalculatedWithPercentage,
       a.[dfa_approvedcostcalculatedwithpercentage_base] AS ApprovedCostCalculatedWithPercentageBase,
       a.[dfa_approvedpercentages] AS ApprovedPercentages,
       a.[dfa_caseid] AS DimCaseBK,
       a.[dfa_dateofdamage] AS DamageDate,
       a.[dfa_dateofdamagefrom] AS DamafeFromDate,
       a.[dfa_dateofdamageto] AS DamageToDate,
       a.[dfa_estimatedcompletiondateofproject] AS EstimatedCompletionDate,
       a.[dfa_estimatedcost] AS EstimatedCost,
       a.[dfa_estimatedcost_base] AS EstimatedCostBase,
       a.[dfa_estimatedcostcalculatedpercentage] AS EstimatedCostCalculatedPercentage,
       a.[dfa_estimatedcostcalculatedpercentage_base] AS EstimatedCostCalculatedPercentageBase,
       a.[dfa_latestrequestforinfo] AS LatestRequestForInfoDate,
       a.[dfa_projectid] AS DimProjectDetailBK,
       isnull(CONVERT (NVARCHAR (40), b.[dfa_eventid]), '-1') AS DimEventBK,
       ISNULL(CONVERT (NVARCHAR (40), COALESCE (r.dfa_areacommunityid, b.[dfa_areacommunityid], b.[dfa_areacommunity2id])), '-1') AS DimLocationBK,
       b.incidentid AS DimCaseDetailBK,
       a.dfa_projectapproveddate AS 'ProjectApprovedDate',
       a.dfa_projectcompletiondate AS 'ProjectCompletionDate',
       a.dfa_18monthdeadline AS '18MonthDeadline',
       CONVERT (DATE, a.modifiedon) AS ProjectModifiedOn,
       CONVERT (DATE, a.createdon) AS ProjectCreatedOn,
       dfa_totalpaidafterpercent AS TotalPaidAfterPercent,
       ClaimPaidDate
FROM   [dfa_stage].[dfa_project] AS a
       INNER JOIN
       [dfa_stage].incident AS b
       ON a.dfa_caseid = b.incidentid
       LEFT OUTER JOIN
       (SELECT   MAX(dfa_claimpaiddate) AS ClaimPaidDate,
                 dfa_recoveryplanid AS dfa_projectID
        FROM     dfa_stage.dfa_projectclaim
        WHERE    dfa_claimpaiddate IS NOT NULL
        GROUP BY dfa_recoveryplanid) AS c
       ON c.dfa_projectID = a.dfa_projectid
       LEFT OUTER JOIN
       dfa_stage.dfa_effectedregioncommunity AS r
       ON r.dfa_effectedregioncommunityid = b.dfa_effectedcommunityregionid;


GO
PRINT N'Removing schema binding from [dfa_rpt].[DimCaseDetail]...';


GO
ALTER VIEW [dfa_rpt].[DimCaseDetail]
AS
SELECT DISTINCT [caseorigincodename] AS CaseOrigin,
                a.[createdbyname] AS CreatedByName,
                [customeridname] AS Applicant,
                [description] AS Description,
                [dfa_acopyofarentalagreementorleasename] AS CopyOfRentAgreementOrLease,
                [dfa_additionalapplicants] AS AdditionalApplicants,
                [dfa_adminreviewrequiredname] AS AdminReviewRequired,
                [dfa_alistingofthedirectorsname] AS AListingOfTheDirectors,
                [dfa_alloccupantsidentifiedname] AS AllApplicantsIdentified,
                [dfa_alternatecontactidname] AS AlternateContact,
                [dfa_appealstatusname] AS AppealStatus,
                [dfa_applicanttypename] AS ApplicantType,
                [dfa_applicationfordfaname] AS ApplicationForDFA,
                [dfa_applicationformsignedname] AS ApplicationFormSigned,
                [dfa_applicationnumber] AS ApplicationNumber,
                [dfa_areyounowresidingintheresidencename] AS AreYouNowResidingInTheResidence,
                [dfa_assignedtoname] AS AssignedTo,
                [dfa_assignmentcomment] AS AssignmentText,
                [dfa_bcaapropertyassessmentname] AS BCAPropertyAssessment,
                [dfa_bcassessmentrollreportifapplicantownsthename] AS BCAAssessmentRollReportIfApplicantOwns,
                [dfa_bcassessmentrollreportname] AS BCAAssessmentRollReport,
                [dfa_bcsocietiesregistrationname] AS BCSocietiesRegistration,
                [dfa_bringforwardcomments] AS BringForwardComments,
                [dfa_buildingownerlandlordname] AS BuildingOwnerLandlord,
                [dfa_businessmanagedbyallownersondaytodaybasisname] AS BusinessManagedByAllOwnersDayToDay,
                [dfa_causeofdamagelossname] AS CauseOfDamageLoss,
                [dfa_causeofdamagelossother] AS CauseOfDamageLossOther,
                [dfa_centralsecuritiesregistername] AS CentralSecuritiesRegister,
                [dfa_checkoutbyidname] AS CheckOutBy,
                [dfa_claimsummarysheetname] AS ClaimSummarySheet,
                [dfa_claimtypename] AS ClaimType,
                [dfa_compliancename] AS Compliance,
                [dfa_contentcalculationssheetname] AS ContentCalculationSheet,
                [dfa_coordinatorreviewrequiredname] AS CoordinatorReviewRequired,
                [dfa_covenantsname] AS Covenants,
                [dfa_damagedpropertypostalcode] AS DamagedPropertyPostalCode,
                [dfa_damagedpropertyprovince] AS DamagedPropertyProvince,
                [dfa_damagedpropertystreet1] AS DamagedPropertyStreet1,
                [dfa_damagedpropertystreet2] AS DamagedPropertyStreet2,
                [dfa_damagedpropertystreet3] AS DamagedPropertyStreet3,
                [dfa_diagramname] AS Diagram,
                [dfa_doyouhaveinsurancecoveragename] AS DoYouHaveInsuranceCoverage,
                [dfa_doyourlossestotalmorethan1000name] AS DoYourLossesTotalMoreThan1000,
                [dfa_eligibilitystatusname] AS EligibilityStatus,
                [dfa_eligibleforbchomegrantonthispropertyname] AS EligibleForBCHomeGrantOnThisProperty,
                [dfa_employlessthan50employeesatanyonetimename] AS EmployLessThan50EmployeesAtAnyOneTime,
                [dfa_evaluationreportreceivedname] AS EvaluationReportReceived,
                [dfa_farmoperationderivesthatpersonsmajorincomname] AS FarmOperationDerivesThatPersonsMajorIncome,
                [dfa_farmoperationname] AS FarmOperation,
                [dfa_fieldmanagerassignmentname] AS FieldManagerAssignment,
                [dfa_fieldmanagername] AS FieldManager,
                [dfa_fieldmanagerreviewrequiredname] AS FieldManagerReviewRequired,
                [dfa_fileclosedname] AS FileClosed,
                [dfa_financialstatementsname] AS FinancialStatements,
                [dfa_fmcomments] AS FMComments,
                [dfa_grossrevenues100002000000beforedisastername] AS GrossRevenues100002000000BeforeDisaster,
                [dfa_haveinvoicesreceiptsforcleanuporrepairsname] AS HaveInvoicesReceiptsForCleanupOrRepairs,
                [dfa_homeownergranteligibilityconfirmedname] AS HomeOwnerGrantEligibilityConfirmed,
                [dfa_inacapprovalrecdname] AS InACApprovalRecd,
                [dfa_inaccomments] AS InACComments,
                [dfa_indigenouscomments1] AS IndigenousComments,
                [dfa_indigenousreserveresidencename] AS IndigenousReserveResidence,
                [dfa_indigenousstatuscardregistrynumber] AS IndigenousStatusCardRegistryNumber,
                [dfa_indigenousstatusname] AS IndigenousStatus,
                [dfa_ineligibleapplicationreasonname] AS IneligibleApplicationReason,
                [dfa_insurancelettername] AS InsuranceLetter,
                [dfa_insurancetemplatecompletedbyinsurerbrokername] AS InsuranceTemplateCompletedByInsurerBroker,
                [dfa_issamemailingaddressname] AS IsSameMailingAddress,
                [dfa_isthispropertyyourprimaryresidencename] AS IsThisPropertyYourPrimaryResidence,
                [dfa_landtitledocumentormobilehomeregistryinfoname] AS LandTitleDocumentOrMobileHomeRegistry,
                [dfa_legaldescription] AS LegalDescription,
                [dfa_less1000deductable_base] AS Less1000DeductableName,
                [dfa_listofdamageditemsassessedname] AS ListOfDamagedItemsAssessed,
                [dfa_listofdirectorsname] AS ListOfDirectors,
                [dfa_localgoverningbodyidyominame] AS LocalGoverningBody,
                [dfa_mailingaddresspostalcode] AS MailingAddressPostalCode,
                [dfa_mailingaddressprovince] AS MailingAddressProvince,
                [dfa_mailingaddressstreet1] AS MailingAddressStreet1,
                [dfa_mailingaddressstreet2] AS MailingAddressStreet2,
                [dfa_mailingaddressstreet3] AS MailingAddressStreet3,
                [dfa_managerreviewrequiredname] AS ManagerReviewRequired,
                [dfa_manufacturedhomename] AS ManufacturedHome,
                [dfa_mostrecentcompletecorporateincometaxreturname] AS MostRecentSompleteCorporateIncomeTaxReturn,
                [dfa_mostrecentlyfiledfinancialstatementsname] AS MostRecentlyFiledFinancialStatements,
                [dfa_nameoffirstnationsreserve] AS NameOfFirstNationsReserve,
                [dfa_onfirstnationsreservename] AS OnFirstNationsReserve,
                [dfa_organizationstructureandpurposestatementename] AS OrganizationStructureAndPurpose,
                [dfa_orgregistrationproofunderbcsocietyaname] AS OrgRegistrationProofUnderBCSociety,
                [dfa_otherdamages] AS OtherDamages,
                [dfa_othersname] AS Others,
                [dfa_ownedandoperatedbyaname] AS OwnedAndOperatedBy,
                [dfa_payableto] AS PayableTo,
                [dfa_paymentletterissuedname] AS PaymentLetterIssued,
                [dfa_paymentletterreadyname] AS PaymentLetterReady,
                [dfa_photosname] AS Photos,
                [dfa_pid] AS PID,
                [dfa_primaryapplicantprintname] AS PrimaryApplicant,
                [dfa_primaryapplicantsignedname] AS PrimaryApplicantSigned,
                [dfa_primarycontactidname] AS PrimaryContact,
                [dfa_proofofownershipname] AS ProofOfOwnership,
                [dfa_qrcompletename] AS QRComplete,
                [dfa_readyforinspectionname] AS ReadyForInspection,
                [dfa_receiptsorinvoicespaidbyapplicantname] AS ReceiptsOrInvoicesPaidByApplicant,
                [dfa_receivedcopyofrentalagreementorleasename] AS ReceivedCopyOfRentalAgreementOrLease,
                [dfa_receivedrecoveryplanname] AS ReceivedRecoveryPal,
                [dfa_recoveryofficerreviewrequiredname] AS RecoveryOfficerReviewRequired,
                [dfa_relatedbusinessname] AS RelatedBusiness,
                [dfa_rentalleaseagreementorlandtitlename] AS RentalLeaseAgreementOrLandTitle,
                [dfa_rentalorleaseagreementname] AS RentOrLeaseAgreement,
                [dfa_reviewchecksummaryname] AS ReviewCheckSummary,
                [dfa_reviewedcleanuplogname] AS ReviewedCleanupLog,
                [dfa_scopeandcalculationssheetname] AS ScopeAndCalculationSheet,
                [dfa_secondaryapplicantprintname] AS SecondaryApplicant,
                [dfa_secondaryapplicantsignedname] AS SecondaryApplicantSigned,
                [dfa_supplementaryproofofprincipalresidencyidname] AS SupplementaryProofofPrincipalResidency,
                [dfa_suppliernumberrequestedname] AS SupplierNumberRequested,
                [dfa_uploadfmreportpmtltrname] AS UploadFMReportPmtLtr,
                [dfa_wereyouevacuatedduringtheeventname] AS WereYouEvacuatedDuringTheEvent,
                [dfa_writtenconfirmationofinsurancenotpurchasename] AS WrittenConfirmationOfInsuranceNotPurchase,
                [emailaddress] AS EmailAddress,
                [incidentid] AS DimCaseBK,
                ISNULL([dfa_areacommunityidname] + ' #' + b.dfa_dfaauthno, title) AS CaseTitle,
                a.statuscodename AS CaseStatus,
                dfa_createdonportal AS CreatedOnPortal
FROM   [dfa_stage].[incident] AS a
       INNER JOIN
       [dfa_stage].[dfa_event] AS b
       ON a.dfa_eventid = b.dfa_eventid;


GO
PRINT N'Removing schema binding from [dfa_rpt].[DimEventDetail]...';


GO
ALTER VIEW [dfa_rpt].[DimEventDetail]
AS
SELECT DISTINCT [dfa_eventid] AS DimEventBK,
                [dfa_description] AS Description,
                [dfa_dfaauthno] AS AuthNo,
                [dfa_eventscopename] AS Scope,
                [dfa_id] AS EventID
FROM   [dfa_stage].[dfa_event];


GO
PRINT N'Removing schema binding from [dfa_rpt].[FactEvent]...';


GO
ALTER VIEW [dfa_rpt].[FactEvent]
AS
SELECT [dfa_eventid] AS FactEventBK,
       [dfa_eventid] AS DimEventBK,
       [dfa_id] AS EventID,
       [dfa_90daydeadline] AS [90DayDeadlineDate],
       [dfa_dateofevent] AS EventDate,
       [dfa_dateofeventdeclaredrevised] AS EventDateRevised,
       [dfa_dateofeventdeclaredrevised2] AS EventDateRevised2,
       [dfa_deadlinedate] AS DeadlineDate,
       [dfa_numberofcommunitiesapplied] AS NumberOfCommunitiesApplied,
       [dfa_numberofcommunitieswithcrp] AS NumberOfCommunitiesWithCRP,
       [dfa_numberofcommunitieswithdrawn] AS NumberOfCommunitiesWithdrawn,
       [dfa_startdate] AS StartDate,
       [dfa_totalapprovedcrpvalue] AS TotalApprovedCRPValue,
       [dfa_totalapprovedcrpvalue_base] AS TotalApprovedCRPValueBase,
       [dfa_totalclaimedamounbt] AS TotalClaimedAmount,
       [dfa_totalclaimedamounbt_base] AS TotalClaimedAmountBase,
       [dfa_totalclaimedamounbt_date] AS TotalClaimedAmountDate,
       [dfa_totalcrpvalue] AS TotalCRPValue,
       [dfa_totalcrpvalue_base] AS TotalCRPValueBase,
       [dfa_totalnumberofapprovedcrp] AS TotalNumberOfApprovedCRP
FROM   [dfa_stage].[dfa_event];


GO
PRINT N'Removing schema binding from [dfa_rpt].[DimProjectDetail]...';


GO
ALTER VIEW [dfa_rpt].[DimProjectDetail]
AS
SELECT DISTINCT [dfa_18monthdeadline] AS EighteenMonthDeadline,
                [dfa_descriptionofdamage] AS DescriptionOfDamage,
                [dfa_descriptionofdamagedinfrastructure] AS DescriptionofDamagedInfrastructure,
                [dfa_descriptionofdamagewithmaterial] AS DescriptionOfDamagedMaterial,
                [dfa_descriptionofmaterialneededtorepair] AS DescriptionofMaterialNeededToRepair,
                [dfa_descriptionofrepairwork] AS DescriptionOfRepairWork,
                [dfa_descriptionofthecauseofdamage] AS DescriptionOfTheCauseOfDamage,
                [dfa_isbeingappealedname] AS IsBeingAppealed,
                [dfa_projectid] AS DimProjectDetailBK,
                [dfa_projectname] AS ProjectName,
                [dfa_projectnumber] AS ProjectNumber,
                [dfa_projecttypename] AS ProjectType,
                [dfa_sitelocation] AS SiteLocation,
                statuscodename AS ProjectStatus,
                dfa_createdonportal AS CreatedOnPortal
FROM   [dfa_stage].[dfa_project];


GO
PRINT N'Removing schema binding from [dfa_rpt].[FactClaim]...';


GO
ALTER VIEW [dfa_rpt].[FactClaim]
AS
SELECT a.[createdon] AS ClaimDate,
       a.[statuscode] AS DimClaimStatusBK,
       [dfa_caseid] AS DimCaseBK,
       [dfa_claimsummaryid] AS FactClaimBK,
       [dfa_claimtypeos] AS DimClaimTypeBK,
       b.[dfa_eventid] AS DimEventBK,
       [dfa_federalclaim] AS FederalClaim,
       [dfa_federalclaim_base] AS FederalClaimBase,
       [dfa_ineligibleamount] AS IneligibleAmount,
       [dfa_ineligibleamount_base] AS IneligibleAmountBase,
       [dfa_provincialeligibleamount] AS ProvincialEligibleAmount,
       [dfa_provincialeligibleamount_base] AS ProvincialEligibleAmountBase
FROM   [dfa_stage].[dfa_claimsummary] AS a
       INNER JOIN
       [dfa_stage].incident AS b
       ON a.dfa_caseid = b.incidentid;


GO
PRINT N'Removing schema binding from [dfa_rpt].[FactProjectClaim]...';


GO
ALTER VIEW [dfa_rpt].[FactProjectClaim]
AS
SELECT [dfa_caseid] AS DimCaseBK,
       [dfa_claimamount] AS ClaimAmount,
       [dfa_claimamount_base] AS ClaimAmountBase,
       [dfa_claimpaiddate] AS ClaimPaidDate,
       [dfa_claimreceiveddate] AS ClaimReceivedDate,
       [dfa_name] AS CLaimName,
       [dfa_onetimedeductionamount] AS OneTimeDeductionAmount,
       [dfa_onetimedeductionamount_base] AS OneTimeDeductionAmountBase,
       [dfa_recoveryplanid] AS DimProjectDetailBK,
       [dfa_projectclaimid] AS DimProjectClaimDetailBK,
       isnull(CONVERT (NVARCHAR (40), b.[dfa_eventid]), '-1') AS DimEventBK,
       b.dfa_areacommunityid AS DimLocationBK,
       b.incidentid AS DimCaseDetailBK
FROM   [dfa_stage].[dfa_projectclaim] AS a
       INNER JOIN
       [dfa_stage].incident AS b
       ON a.dfa_caseid = b.incidentid;


GO
PRINT N'Altering [dfa_stage].[contact]...';


GO
--ALTER TABLE [dfa_stage].[contact] ALTER COLUMN [address1_postalcode] NVARCHAR (20) NULL;

--ALTER TABLE [dfa_stage].[contact] ALTER COLUMN [address2_postalcode] NVARCHAR (20) NULL;

--ALTER TABLE [dfa_stage].[contact] ALTER COLUMN [address3_postalcode] NVARCHAR (20) NULL;

--ALTER TABLE [dfa_stage].[contact] ALTER COLUMN [mobilephone] NVARCHAR (50) NULL;


--GO
ALTER TABLE [dfa_stage].[contact]
    ADD [BusinessCard]                             NVARCHAR (MAX)   NULL,
        [BusinessCardAttributes]                   NVARCHAR (4000)  NULL,
        [dfa_AppApplicant]                         UNIQUEIDENTIFIER NULL,
        [dfa_AppApplicantName]                     NVARCHAR (100)   NULL,
        [dfa_ApplyUpdatetoApp]                     INT              NULL,
        [dfa_applyupdatetoappName]                 NVARCHAR (255)   NULL,
        [dfa_bceid_user_guid]                      NVARCHAR (100)   NULL,
        [dfa_bceid_username]                       NVARCHAR (100)   NULL,
        [dfa_bceidbusinessguid]                    NVARCHAR (100)   NULL,
        [dfa_BCeIDemail]                           NVARCHAR (100)   NULL,
        [dfa_BCeIDgiven_name]                      NVARCHAR (100)   NULL,
        [dfa_BCeIDLastName]                        NVARCHAR (100)   NULL,
        [dfa_BCSCaccount]                          BIT              NULL,
        [dfa_bcscaccountName]                      NVARCHAR (255)   NULL,
        [dfa_GivenName2]                           NVARCHAR (100)   NULL,
        [dfa_GivenName3]                           NVARCHAR (100)   NULL,
        [dfa_Initial]                              NVARCHAR (100)   NULL,
        [dfa_IsIndigenous]                         INT              NULL,
        [dfa_isindigenousName]                     NVARCHAR (255)   NULL,
        [dfa_IsPrimaryandSecondaryAddressSame]     INT              NULL,
        [dfa_isprimaryandsecondaryaddresssameName] NVARCHAR (255)   NULL,
        [dfa_NoEmail]                              BIT              NULL,
        [dfa_noemailName]                          NVARCHAR (255)   NULL,
        [dfa_PrimaryContact]                       UNIQUEIDENTIFIER NULL,
        [dfa_PrimaryContactName]                   NVARCHAR (160)   NULL,
        [dfa_PrimaryContactYomiName]               NVARCHAR (450)   NULL,
        [msdyn_orgchangestatus]                    INT              NULL,
        [msdyn_orgchangestatusName]                NVARCHAR (255)   NULL,
        [TeamsFollowed]                            INT              NULL,
        [parent_contactid]                         UNIQUEIDENTIFIER NULL,
        [parent_contactidname]                     NVARCHAR (160)   NULL,
        [parent_contactidyominame]                 NVARCHAR (450)   NULL;


GO
PRINT N'Altering [dfa_stage].[dfa_appeal]...';


GO
ALTER TABLE [dfa_stage].[dfa_appeal]
    ADD [dfa_DFACaseBusinessProcess]     UNIQUEIDENTIFIER NULL,
        [dfa_DFACaseBusinessProcessName] NVARCHAR (100)   NULL;


GO
PRINT N'Altering [dfa_stage].[dfa_buildingownerlandlord]...';


GO
--ALTER TABLE [dfa_stage].[dfa_buildingownerlandlord] ALTER COLUMN [dfa_contactphone] NVARCHAR (15) NULL;

--ALTER TABLE [dfa_stage].[dfa_buildingownerlandlord] ALTER COLUMN [dfa_contactphone2] NVARCHAR (15) NULL;


--GO
PRINT N'Altering [dfa_stage].[dfa_effectedregioncommunity]...';


GO
--ALTER TABLE [dfa_stage].[dfa_effectedregioncommunity] ALTER COLUMN [dfa_eventidname] NVARCHAR (20) NULL;


--GO
ALTER TABLE [dfa_stage].[dfa_effectedregioncommunity]
    ADD [dfa_typeofcommunity] NVARCHAR (100) NULL;


GO
PRINT N'Altering [dfa_stage].[dfa_event]...';


GO
--ALTER TABLE [dfa_stage].[dfa_event] ALTER COLUMN [dfa_id] NVARCHAR (20) NULL;


--GO
ALTER TABLE [dfa_stage].[dfa_event]
    ADD [dfa_90daydeadlinenew]           DATETIME       NULL,
        [dfa_90daydeadlineoverwritedate] DATETIME       NULL,
        [dfa_eventname]                  NVARCHAR (200) NULL,
        [dfa_eventtype]                  INT            NULL,
        [dfa_eventtypename]              NVARCHAR (255) NULL,
        [dfa_hazardtype]                 INT            NULL,
        [dfa_hazardtypename]             NVARCHAR (255) NULL,
        [dfa_hazardtypeother]            NVARCHAR (200) NULL;


GO
PRINT N'Altering [dfa_stage].[dfa_privatesectorstatusreport]...';


GO
--ALTER TABLE [dfa_stage].[dfa_privatesectorstatusreport] ALTER COLUMN [dfa_eventidname] NVARCHAR (20) NULL;


--GO
PRINT N'Altering [dfa_stage].[dfa_project]...';


GO
ALTER TABLE [dfa_stage].[dfa_project]
    ADD [dfa_ProjectCostCleanUpFlag]     BIT            NULL,
        [dfa_projectcostcleanupflagName] NVARCHAR (255) NULL;


GO
PRINT N'Altering [dfa_stage].[dfa_projectstatusreport]...';


GO
--ALTER TABLE [dfa_stage].[dfa_projectstatusreport] ALTER COLUMN [dfa_eventidname] NVARCHAR (20) NULL;


--GO
ALTER TABLE [dfa_stage].[dfa_projectstatusreport]
    ADD [dfa_AtPercent]                 NUMERIC (38, 2) NULL,
        [dfa_Less1000]                  NUMERIC (38, 4) NULL,
        [dfa_less1000_Base]             NUMERIC (38, 4) NULL,
        [dfa_Subtotal]                  NUMERIC (38, 4) NULL,
        [dfa_subtotal_Base]             NUMERIC (38, 4) NULL,
        [dfa_TotalAfterPercentCut]      NUMERIC (38, 4) NULL,
        [dfa_totalafterpercentcut_Base] NUMERIC (38, 4) NULL;


GO
PRINT N'Altering [dfa_stage].[dfa_publicsectorreportcommunitiesdata]...';


GO
--ALTER TABLE [dfa_stage].[dfa_publicsectorreportcommunitiesdata] ALTER COLUMN [dfa_name] NVARCHAR (200) NULL;

--ALTER TABLE [dfa_stage].[dfa_publicsectorreportcommunitiesdata] ALTER COLUMN [dfa_publicsectorreportidname] NVARCHAR (200) NULL;


--GO
ALTER TABLE [dfa_stage].[dfa_publicsectorreportcommunitiesdata]
    ADD [dfa_amountpaidin1stfiscal]               NUMERIC (38, 4)  NULL,
        [dfa_amountpaidin1stfiscal_base]          NUMERIC (38, 4)  NULL,
        [dfa_amountpaidin2ndfiscal]               NUMERIC (38, 4)  NULL,
        [dfa_amountpaidin2ndfiscal_base]          NUMERIC (38, 4)  NULL,
        [dfa_amountpaidin3rdfiscal]               NUMERIC (38, 4)  NULL,
        [dfa_amountpaidin3rdfiscal_base]          NUMERIC (38, 4)  NULL,
        [dfa_amountpaidin4thfiscal]               NUMERIC (38, 4)  NULL,
        [dfa_amountpaidin4thfiscal_base]          NUMERIC (38, 4)  NULL,
        [dfa_amountpaidin5thfiscal]               NUMERIC (38, 4)  NULL,
        [dfa_amountpaidin5thfiscal_base]          NUMERIC (38, 4)  NULL,
        [dfa_amountpaidin6thfiscal]               NUMERIC (38, 4)  NULL,
        [dfa_amountpaidin6thfiscal_base]          NUMERIC (38, 4)  NULL,
        [dfa_amountpaidin7thfiscal]               NUMERIC (38, 4)  NULL,
        [dfa_amountpaidin7thfiscal_base]          NUMERIC (38, 4)  NULL,
        [dfa_amountpaidin8thfiscal]               NUMERIC (38, 4)  NULL,
        [dfa_amountpaidin8thfiscal_base]          NUMERIC (38, 4)  NULL,
        [dfa_eighthfiscal]                        INT              NULL,
        [dfa_eighthfy]                            NVARCHAR (10)    NULL,
        [dfa_embcregion]                          UNIQUEIDENTIFIER NULL,
        [dfa_embcregionname]                      NVARCHAR (250)   NULL,
        [dfa_fifthfiscal]                         INT              NULL,
        [dfa_fifthfy]                             NVARCHAR (10)    NULL,
        [dfa_financialforecast]                   NUMERIC (38, 4)  NULL,
        [dfa_financialforecast_base]              NUMERIC (38, 4)  NULL,
        [dfa_firstfiscal]                         INT              NULL,
        [dfa_firstfy]                             NVARCHAR (10)    NULL,
        [dfa_fourthfiscal]                        INT              NULL,
        [dfa_fourthfy]                            NVARCHAR (10)    NULL,
        [dfa_numberofprojectspendingadjudication] INT              NULL,
        [dfa_secondfiscal]                        INT              NULL,
        [dfa_secondfy]                            NVARCHAR (10)    NULL,
        [dfa_seventhfiscal]                       INT              NULL,
        [dfa_seventhfy]                           NVARCHAR (10)    NULL,
        [dfa_sixthfiscal]                         INT              NULL,
        [dfa_sixthfy]                             NVARCHAR (10)    NULL,
        [dfa_thirdfiscal]                         INT              NULL,
        [dfa_thirdfy]                             NVARCHAR (10)    NULL,
        [dfa_trueforecast]                        NUMERIC (38, 4)  NULL,
        [dfa_trueforecast_base]                   NUMERIC (38, 4)  NULL;


GO
PRINT N'Altering [dfa_stage].[dfa_publicsectorstatusreport]...';


--GO
--ALTER TABLE [dfa_stage].[dfa_publicsectorstatusreport] ALTER COLUMN [dfa_eventidname] NVARCHAR (20) NULL;

--ALTER TABLE [dfa_stage].[dfa_publicsectorstatusreport] ALTER COLUMN [dfa_name] NVARCHAR (100) NULL;


--GO
--PRINT N'Altering [dfa_stage].[incident]...';


--GO
--ALTER TABLE [dfa_stage].[incident] ALTER COLUMN [dfa_damagedpropertypostalcode] NVARCHAR (10) NULL;

--ALTER TABLE [dfa_stage].[incident] ALTER COLUMN [dfa_eventidname] NVARCHAR (20) NULL;

--ALTER TABLE [dfa_stage].[incident] ALTER COLUMN [dfa_mailingaddresspostalcode] NVARCHAR (10) NULL;

--ALTER TABLE [dfa_stage].[incident] ALTER COLUMN [dfa_pid] NVARCHAR (11) NULL;


--GO
PRINT N'Creating [dfa_stage].[activitypointer]...';


GO
CREATE TABLE [dfa_stage].[activitypointer] (
    [activityid]                      UNIQUEIDENTIFIER NOT NULL,
    [activityadditionalparams]        NVARCHAR (MAX)   NULL,
    [activitytypecode]                NVARCHAR (64)    NULL,
    [activitytypecodename]            NVARCHAR (255)   NULL,
    [actualdurationminutes]           INT              NULL,
    [actualend]                       DATETIME         NULL,
    [actualstart]                     DATETIME         NULL,
    [allparties]                      NVARCHAR (MAX)   NULL,
    [community]                       INT              NULL,
    [communityname]                   NVARCHAR (255)   NULL,
    [createdby]                       UNIQUEIDENTIFIER NULL,
    [createdbyname]                   NVARCHAR (200)   NULL,
    [createdbyyominame]               NVARCHAR (200)   NULL,
    [createdon]                       DATETIME         NULL,
    [createdonbehalfby]               UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]           NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]       NVARCHAR (200)   NULL,
    [deliverylastattemptedon]         DATETIME         NULL,
    [deliveryprioritycode]            INT              NULL,
    [deliveryprioritycodename]        NVARCHAR (255)   NULL,
    [description]                     NVARCHAR (MAX)   NULL,
    [exchangeitemid]                  NVARCHAR (200)   NULL,
    [exchangerate]                    NUMERIC (38, 10) NULL,
    [exchangeweblink]                 NVARCHAR (1250)  NULL,
    [instancetypecode]                INT              NULL,
    [instancetypecodename]            NVARCHAR (255)   NULL,
    [isbilled]                        BIT              NULL,
    [isbilledname]                    NVARCHAR (255)   NULL,
    [ismapiprivate]                   BIT              NULL,
    [ismapiprivatename]               NVARCHAR (255)   NULL,
    [isregularactivity]               BIT              NULL,
    [isregularactivityname]           NVARCHAR (255)   NULL,
    [isworkflowcreated]               BIT              NULL,
    [isworkflowcreatedname]           NVARCHAR (255)   NULL,
    [lastonholdtime]                  DATETIME         NULL,
    [leftvoicemail]                   BIT              NULL,
    [leftvoicemailname]               NVARCHAR (255)   NULL,
    [modifiedby]                      UNIQUEIDENTIFIER NULL,
    [modifiedbyname]                  NVARCHAR (200)   NULL,
    [modifiedbyyominame]              NVARCHAR (200)   NULL,
    [modifiedon]                      DATETIME         NULL,
    [modifiedonbehalfby]              UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]          NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame]      NVARCHAR (200)   NULL,
    [onholdtime]                      INT              NULL,
    [ownerid]                         UNIQUEIDENTIFIER NULL,
    [owneridname]                     NVARCHAR (200)   NULL,
    [owneridtype]                     NVARCHAR (64)    NULL,
    [owneridyominame]                 NVARCHAR (200)   NULL,
    [owningbusinessunit]              UNIQUEIDENTIFIER NULL,
    [owningteam]                      UNIQUEIDENTIFIER NULL,
    [owninguser]                      UNIQUEIDENTIFIER NULL,
    [postponeactivityprocessinguntil] DATETIME         NULL,
    [prioritycode]                    INT              NULL,
    [prioritycodename]                NVARCHAR (255)   NULL,
    [processid]                       UNIQUEIDENTIFIER NULL,
    [regardingobjectid]               UNIQUEIDENTIFIER NULL,
    [regardingobjectidname]           NVARCHAR (4000)  NULL,
    [regardingobjectidyominame]       NVARCHAR (4000)  NULL,
    [regardingobjecttypecode]         NVARCHAR (64)    NULL,
    [scheduleddurationminutes]        INT              NULL,
    [scheduledend]                    DATETIME         NULL,
    [scheduledstart]                  DATETIME         NULL,
    [sendermailboxid]                 UNIQUEIDENTIFIER NULL,
    [sendermailboxidname]             NVARCHAR (200)   NULL,
    [senton]                          DATETIME         NULL,
    [seriesid]                        UNIQUEIDENTIFIER NULL,
    [serviceid]                       UNIQUEIDENTIFIER NULL,
    [serviceidname]                   NVARCHAR (160)   NULL,
    [slaid]                           UNIQUEIDENTIFIER NULL,
    [slainvokedid]                    UNIQUEIDENTIFIER NULL,
    [slainvokedidname]                NVARCHAR (100)   NULL,
    [slaname]                         NVARCHAR (100)   NULL,
    [sortdate]                        DATETIME         NULL,
    [stageid]                         UNIQUEIDENTIFIER NULL,
    [statecode]                       INT              NULL,
    [statecodename]                   NVARCHAR (255)   NULL,
    [statuscode]                      INT              NULL,
    [statuscodename]                  NVARCHAR (255)   NULL,
    [subject]                         NVARCHAR (400)   NULL,
    [timezoneruleversionnumber]       INT              NULL,
    [transactioncurrencyid]           UNIQUEIDENTIFIER NULL,
    [transactioncurrencyidname]       NVARCHAR (100)   NULL,
    [traversedpath]                   NVARCHAR (1250)  NULL,
    [utcconversiontimezonecode]       INT              NULL,
    [versionnumber]                   BIGINT           NULL,
    [Created_Load_Id]                 INT              NULL,
    [Modified_Load_Id]                INT              NULL,
    CONSTRAINT [PK_activitypointer] PRIMARY KEY CLUSTERED ([activityid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[annotation]...';


GO
CREATE TABLE [dfa_stage].[annotation] (
    [annotationid]               UNIQUEIDENTIFIER NOT NULL,
    [createdby]                  UNIQUEIDENTIFIER NULL,
    [createdbyname]              NVARCHAR (200)   NULL,
    [createdbyyominame]          NVARCHAR (200)   NULL,
    [createdon]                  DATETIME         NULL,
    [createdonbehalfby]          UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]      NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]  NVARCHAR (200)   NULL,
    [documentbody]               NVARCHAR (MAX)   NULL,
    [filename]                   NVARCHAR (255)   NULL,
    [filesize]                   INT              NULL,
    [importsequencenumber]       INT              NULL,
    [isdocument]                 BIT              NULL,
    [isdocumentname]             NVARCHAR (255)   NULL,
    [isprivatename]              NVARCHAR (255)   NULL,
    [langid]                     NVARCHAR (2)     NULL,
    [mimetype]                   NVARCHAR (256)   NULL,
    [modifiedby]                 UNIQUEIDENTIFIER NULL,
    [modifiedbyname]             NVARCHAR (200)   NULL,
    [modifiedbyyominame]         NVARCHAR (200)   NULL,
    [modifiedon]                 DATETIME         NULL,
    [modifiedonbehalfby]         UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]     NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame] NVARCHAR (200)   NULL,
    [notetext]                   NVARCHAR (MAX)   NULL,
    [objectid]                   UNIQUEIDENTIFIER NULL,
    [objectidtypecode]           NVARCHAR (64)    NULL,
    [objecttypecode]             NVARCHAR (64)    NULL,
    [objecttypecodename]         NVARCHAR (255)   NULL,
    [overriddencreatedon]        DATETIME         NULL,
    [ownerid]                    UNIQUEIDENTIFIER NULL,
    [owneridname]                NVARCHAR (200)   NULL,
    [owneridtype]                NVARCHAR (64)    NULL,
    [owneridyominame]            NVARCHAR (200)   NULL,
    [owningbusinessunit]         UNIQUEIDENTIFIER NULL,
    [owningteam]                 UNIQUEIDENTIFIER NULL,
    [owninguser]                 UNIQUEIDENTIFIER NULL,
    [prefix]                     NVARCHAR (10)    NULL,
    [stepid]                     NVARCHAR (32)    NULL,
    [subject]                    NVARCHAR (500)   NULL,
    [versionnumber]              BIGINT           NULL,
    [Created_Load_Id]            INT              NULL,
    [Modified_Load_Id]           INT              NULL,
    CONSTRAINT [PK_annotation] PRIMARY KEY CLUSTERED ([annotationid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_appapplication]...';


GO
CREATE TABLE [dfa_stage].[dfa_appapplication] (
    [createdby]                                         UNIQUEIDENTIFIER NULL,
    [createdbyname]                                     NVARCHAR (200)   NULL,
    [createdbyyominame]                                 NVARCHAR (200)   NULL,
    [createdon]                                         DATETIME         NULL,
    [createdonbehalfby]                                 UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]                             NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]                         NVARCHAR (200)   NULL,
    [dfa_accountlegalname]                              NVARCHAR (100)   NULL,
    [dfa_acopyofarentalagreementorlease]                BIT              NULL,
    [dfa_acopyofarentalagreementorlease2]               INT              NULL,
    [dfa_acopyofarentalagreementorlease2name]           NVARCHAR (255)   NULL,
    [dfa_acopyofarentalagreementorleasename]            NVARCHAR (255)   NULL,
    [dfa_additionalinforequested]                       BIT              NULL,
    [dfa_additionalinforequestedname]                   NVARCHAR (255)   NULL,
    [dfa_alistingofthedirectors]                        BIT              NULL,
    [dfa_alistingofthedirectorsname]                    NVARCHAR (255)   NULL,
    [dfa_alternatephonenumber]                          NVARCHAR (100)   NULL,
    [dfa_appapplicationid]                              UNIQUEIDENTIFIER NOT NULL,
    [dfa_appealcloseddate]                              DATETIME         NULL,
    [dfa_applicant]                                     UNIQUEIDENTIFIER NULL,
    [dfa_applicantlocalgovsubtype]                      INT              NULL,
    [dfa_applicantlocalgovsubtypename]                  NVARCHAR (255)   NULL,
    [dfa_applicantname]                                 NVARCHAR (100)   NULL,
    [dfa_applicantothercomments]                        NVARCHAR (MAX)   NULL,
    [dfa_applicantsubtype]                              INT              NULL,
    [dfa_applicantsubtypename]                          NVARCHAR (255)   NULL,
    [dfa_applicanttype]                                 INT              NULL,
    [dfa_applicanttype2]                                INT              NULL,
    [dfa_applicanttype2name]                            NVARCHAR (255)   NULL,
    [dfa_applicanttypename]                             NVARCHAR (255)   NULL,
    [dfa_applicationcasebpfstages]                      INT              NULL,
    [dfa_applicationcasebpfstagesname]                  NVARCHAR (255)   NULL,
    [dfa_applicationcasebpfsubstages]                   INT              NULL,
    [dfa_applicationcasebpfsubstagesname]               NVARCHAR (255)   NULL,
    [dfa_applicationstatus]                             NVARCHAR (4000)  NULL,
    [dfa_applicationstatusportal]                       NVARCHAR (4000)  NULL,
    [dfa_arbusinessphone]                               NVARCHAR (100)   NULL,
    [dfa_ardeclaration1]                                BIT              NULL,
    [dfa_ardeclaration1name]                            NVARCHAR (255)   NULL,
    [dfa_ardeclaration2]                                BIT              NULL,
    [dfa_ardeclaration2name]                            NVARCHAR (255)   NULL,
    [dfa_areacommunity2id]                              UNIQUEIDENTIFIER NULL,
    [dfa_areacommunity2idname]                          NVARCHAR (350)   NULL,
    [dfa_areacommunityid]                               UNIQUEIDENTIFIER NULL,
    [dfa_areacommunityidname]                           NVARCHAR (350)   NULL,
    [dfa_aremail]                                       NVARCHAR (100)   NULL,
    [dfa_areyounowresidingintheresidence]               BIT              NULL,
    [dfa_areyounowresidingintheresidence2]              INT              NULL,
    [dfa_areyounowresidingintheresidence2name]          NVARCHAR (255)   NULL,
    [dfa_areyounowresidingintheresidencename]           NVARCHAR (255)   NULL,
    [dfa_arfirstname]                                   NVARCHAR (100)   NULL,
    [dfa_arlastname]                                    NVARCHAR (100)   NULL,
    [dfa_arpositiontitle]                               NVARCHAR (100)   NULL,
    [dfa_assignedtoid]                                  UNIQUEIDENTIFIER NULL,
    [dfa_assignedtoidname]                              NVARCHAR (200)   NULL,
    [dfa_assignedtoidyominame]                          NVARCHAR (200)   NULL,
    [dfa_bceidbusinessguid]                             NVARCHAR (100)   NULL,
    [dfa_bceiduser]                                     UNIQUEIDENTIFIER NULL,
    [dfa_bceidusername]                                 NVARCHAR (100)   NULL,
    [dfa_bpfcloseddate]                                 DATETIME         NULL,
    [dfa_buildingownerlandlord]                         UNIQUEIDENTIFIER NULL,
    [dfa_buildingownerlandlordname]                     NVARCHAR (200)   NULL,
    [dfa_buildingownerlandlordsecond]                   UNIQUEIDENTIFIER NULL,
    [dfa_buildingownerlandlordsecondname]               NVARCHAR (200)   NULL,
    [dfa_businessmailingaddresscitytext]                NVARCHAR (200)   NULL,
    [dfa_businessmailingaddressline1]                   NVARCHAR (200)   NULL,
    [dfa_businessmailingaddressline2]                   NVARCHAR (200)   NULL,
    [dfa_businessmailingaddresspostalcode]              NVARCHAR (100)   NULL,
    [dfa_businessmailingaddressprovince]                NVARCHAR (100)   NULL,
    [dfa_businessmanagedbyallownersondaytodaybasis]     INT              NULL,
    [dfa_businessmanagedbyallownersondaytodaybasisname] NVARCHAR (255)   NULL,
    [dfa_businessnumber]                                NVARCHAR (100)   NULL,
    [dfa_businessnumberverifiedflag]                    BIT              NULL,
    [dfa_businessnumberverifiedflagname]                NVARCHAR (255)   NULL,
    [dfa_casecreatedid]                                 UNIQUEIDENTIFIER NULL,
    [dfa_casecreatedidname]                             NVARCHAR (200)   NULL,
    [dfa_casetitle]                                     NVARCHAR (100)   NULL,
    [dfa_causeofdamageflood]                            BIT              NULL,
    [dfa_causeofdamageflood2]                           INT              NULL,
    [dfa_causeofdamageflood2name]                       NVARCHAR (255)   NULL,
    [dfa_causeofdamagefloodname]                        NVARCHAR (255)   NULL,
    [dfa_causeofdamagelandslide]                        BIT              NULL,
    [dfa_causeofdamagelandslide2]                       INT              NULL,
    [dfa_causeofdamagelandslide2name]                   NVARCHAR (255)   NULL,
    [dfa_causeofdamagelandslidename]                    NVARCHAR (255)   NULL,
    [dfa_causeofdamagelos]                              INT              NULL,
    [dfa_causeofdamagelosname]                          NVARCHAR (255)   NULL,
    [dfa_causeofdamageloss]                             NVARCHAR (100)   NULL,
    [dfa_causeofdamageother]                            BIT              NULL,
    [dfa_causeofdamageother2]                           INT              NULL,
    [dfa_causeofdamageother2name]                       NVARCHAR (255)   NULL,
    [dfa_causeofdamageothername]                        NVARCHAR (255)   NULL,
    [dfa_causeofdamagestorm]                            BIT              NULL,
    [dfa_causeofdamagestorm2]                           INT              NULL,
    [dfa_causeofdamagestorm2name]                       NVARCHAR (255)   NULL,
    [dfa_causeofdamagestormname]                        NVARCHAR (255)   NULL,
    [dfa_causeofdamagewildfire]                         BIT              NULL,
    [dfa_causeofdamagewildfire2]                        INT              NULL,
    [dfa_causeofdamagewildfire2name]                    NVARCHAR (255)   NULL,
    [dfa_causeofdamagewildfirename]                     NVARCHAR (255)   NULL,
    [dfa_causesofdamage]                                NVARCHAR (4000)  NULL,
    [dfa_causesofdamagename]                            NVARCHAR (255)   NULL,
    [dfa_cellphonenumber]                               NVARCHAR (100)   NULL,
    [dfa_charityexistsatleast12months]                  INT              NULL,
    [dfa_charityexistsatleast12monthsname]              NVARCHAR (255)   NULL,
    [dfa_charityprovidescommunitybenefit]               INT              NULL,
    [dfa_charityprovidescommunitybenefitname]           NVARCHAR (255)   NULL,
    [dfa_charityregistered]                             INT              NULL,
    [dfa_charityregisteredname]                         NVARCHAR (255)   NULL,
    [dfa_chefconfirmationnumber]                        NVARCHAR (8)     NULL,
    [dfa_comments]                                      NVARCHAR (MAX)   NULL,
    [dfa_confirmedbuildinglandlord]                     UNIQUEIDENTIFIER NULL,
    [dfa_confirmedbuildinglandlordname]                 NVARCHAR (250)   NULL,
    [dfa_confirmedcustomerid]                           UNIQUEIDENTIFIER NULL,
    [dfa_confirmedcustomeridname]                       NVARCHAR (4000)  NULL,
    [dfa_confirmedcustomeridtype]                       NVARCHAR (64)    NULL,
    [dfa_confirmedcustomeridyominame]                   NVARCHAR (4000)  NULL,
    [dfa_confirmedsecondbuildinglandlord]               UNIQUEIDENTIFIER NULL,
    [dfa_confirmedsecondbuildinglandlordname]           NVARCHAR (250)   NULL,
    [dfa_createbuildingownerlandlord]                   BIT              NULL,
    [dfa_createbuildingownerlandlordname]               NVARCHAR (255)   NULL,
    [dfa_createconfirmedapplicant]                      BIT              NULL,
    [dfa_createconfirmedapplicantname]                  NVARCHAR (255)   NULL,
    [dfa_createdonportal]                               BIT              NULL,
    [dfa_createdonportalname]                           NVARCHAR (255)   NULL,
    [dfa_damagedpropertyaddresscanadapostverified]      INT              NULL,
    [dfa_damagedpropertyaddresscanadapostverifiedname]  NVARCHAR (255)   NULL,
    [dfa_damagedpropertycitytext]                       NVARCHAR (100)   NULL,
    [dfa_damagedpropertypostalcode]                     NVARCHAR (100)   NULL,
    [dfa_damagedpropertyprovince]                       NVARCHAR (100)   NULL,
    [dfa_damagedpropertystreet1]                        NVARCHAR (100)   NULL,
    [dfa_damagedpropertystreet2]                        NVARCHAR (100)   NULL,
    [dfa_dateofdamage]                                  DATETIME         NULL,
    [dfa_dateofdamageto]                                DATETIME         NULL,
    [dfa_datereceived]                                  DATETIME         NULL,
    [dfa_datereturntotheresidence]                      DATETIME         NULL,
    [dfa_decidedbyid]                                   UNIQUEIDENTIFIER NULL,
    [dfa_decidedbyidname]                               NVARCHAR (200)   NULL,
    [dfa_decidedbyidyominame]                           NVARCHAR (200)   NULL,
    [dfa_decisioncomments]                              NVARCHAR (MAX)   NULL,
    [dfa_decisiondate]                                  DATETIME         NULL,
    [dfa_description]                                   NVARCHAR (MAX)   NULL,
    [dfa_dfaapplicantsubtypecomments]                   NVARCHAR (MAX)   NULL,
    [dfa_doingbusinessasdbaname]                        NVARCHAR (100)   NULL,
    [dfa_doyouhaveinsurancecoverage]                    BIT              NULL,
    [dfa_doyouhaveinsurancecoverage2]                   INT              NULL,
    [dfa_doyouhaveinsurancecoverage2name]               NVARCHAR (255)   NULL,
    [dfa_doyouhaveinsurancecoveragename]                NVARCHAR (255)   NULL,
    [dfa_doyourlossestotalmorethan1000]                 BIT              NULL,
    [dfa_doyourlossestotalmorethan10002]                INT              NULL,
    [dfa_doyourlossestotalmorethan10002name]            NVARCHAR (255)   NULL,
    [dfa_doyourlossestotalmorethan1000name]             NVARCHAR (255)   NULL,
    [dfa_effectedregioncommunityid]                     UNIQUEIDENTIFIER NULL,
    [dfa_effectedregioncommunityidname]                 NVARCHAR (250)   NULL,
    [dfa_eligibleforbchomegrantonthisproperty]          BIT              NULL,
    [dfa_eligibleforbchomegrantonthisproperty2]         INT              NULL,
    [dfa_eligibleforbchomegrantonthisproperty2name]     NVARCHAR (255)   NULL,
    [dfa_eligibleforbchomegrantonthispropertyname]      NVARCHAR (255)   NULL,
    [dfa_eligiblegst]                                   BIT              NULL,
    [dfa_eligiblegstname]                               NVARCHAR (255)   NULL,
    [dfa_emailaddress]                                  NVARCHAR (100)   NULL,
    [dfa_employlessthan50employeesatanyonetime]         INT              NULL,
    [dfa_employlessthan50employeesatanyonetimename]     NVARCHAR (255)   NULL,
    [dfa_estimated]                                     INT              NULL,
    [dfa_eventid]                                       UNIQUEIDENTIFIER NULL,
    [dfa_eventidname]                                   NVARCHAR (20)    NULL,
    [dfa_farmoperation]                                 INT              NULL,
    [dfa_farmoperationderivesthatpersonsmajorincom]     INT              NULL,
    [dfa_farmoperationderivesthatpersonsmajorincomname] NVARCHAR (255)   NULL,
    [dfa_farmoperationname]                             NVARCHAR (255)   NULL,
    [dfa_farmtype]                                      INT              NULL,
    [dfa_farmtypename]                                  NVARCHAR (255)   NULL,
    [dfa_firstname]                                     NVARCHAR (100)   NULL,
    [dfa_givenname2]                                    NVARCHAR (300)   NULL,
    [dfa_givenname3]                                    NVARCHAR (300)   NULL,
    [dfa_governmentbodylegalname]                       NVARCHAR (100)   NULL,
    [dfa_grossrevenues100002000000beforedisaster]       INT              NULL,
    [dfa_grossrevenues100002000000beforedisastername]   NVARCHAR (255)   NULL,
    [dfa_hasuploadeddocuments]                          INT              NULL,
    [dfa_hasuploadeddocumentsname]                      NVARCHAR (255)   NULL,
    [dfa_haveinvoicesreceiptsforcleanuporrepairs]       BIT              NULL,
    [dfa_haveinvoicesreceiptsforcleanuporrepairs2]      INT              NULL,
    [dfa_haveinvoicesreceiptsforcleanuporrepairs2name]  NVARCHAR (255)   NULL,
    [dfa_haveinvoicesreceiptsforcleanuporrepairsname]   NVARCHAR (255)   NULL,
    [dfa_iamtheonlypersoninthehome]                     INT              NULL,
    [dfa_iamtheonlypersoninthehomename]                 NVARCHAR (255)   NULL,
    [dfa_idonthaveanothercontact]                       INT              NULL,
    [dfa_idonthaveanothercontactname]                   NVARCHAR (255)   NULL,
    [dfa_incorporationnumber]                           NVARCHAR (100)   NULL,
    [dfa_indigenousreserve]                             BIT              NULL,
    [dfa_indigenousreserve2]                            INT              NULL,
    [dfa_indigenousreserve2name]                        NVARCHAR (255)   NULL,
    [dfa_indigenousreservename]                         NVARCHAR (255)   NULL,
    [dfa_indigenousstatus]                              BIT              NULL,
    [dfa_indigenousstatus2]                             INT              NULL,
    [dfa_indigenousstatus2name]                         NVARCHAR (255)   NULL,
    [dfa_indigenousstatusname]                          NVARCHAR (255)   NULL,
    [dfa_initial]                                       NVARCHAR (100)   NULL,
    [dfa_insurancetype]                                 INT              NULL,
    [dfa_insurancetypename]                             NVARCHAR (255)   NULL,
    [dfa_isprimaryanddamagedaddresssame]                BIT              NULL,
    [dfa_isprimaryanddamagedaddresssame2]               INT              NULL,
    [dfa_isprimaryanddamagedaddresssame2name]           NVARCHAR (255)   NULL,
    [dfa_isprimaryanddamagedaddresssamename]            NVARCHAR (255)   NULL,
    [dfa_isthispropertyyourp]                           BIT              NULL,
    [dfa_isthispropertyyourp2]                          INT              NULL,
    [dfa_isthispropertyyourp2name]                      NVARCHAR (255)   NULL,
    [dfa_isthispropertyyourpname]                       NVARCHAR (255)   NULL,
    [dfa_jurisdictionofincorporation]                   NVARCHAR (100)   NULL,
    [dfa_lastname]                                      NVARCHAR (100)   NULL,
    [dfa_mailingaddresscanadapostverified]              INT              NULL,
    [dfa_mailingaddresscanadapostverifiedname]          NVARCHAR (255)   NULL,
    [dfa_mailingaddresscitytext]                        NVARCHAR (100)   NULL,
    [dfa_mailingaddresspostalcode]                      NVARCHAR (100)   NULL,
    [dfa_mailingaddressprovince]                        NVARCHAR (100)   NULL,
    [dfa_mailingaddressstreet1]                         NVARCHAR (100)   NULL,
    [dfa_mailingaddressstreet2]                         NVARCHAR (100)   NULL,
    [dfa_manufacturedhom]                               BIT              NULL,
    [dfa_manufacturedhom2]                              INT              NULL,
    [dfa_manufacturedhom2name]                          NVARCHAR (255)   NULL,
    [dfa_manufacturedhomname]                           NVARCHAR (255)   NULL,
    [dfa_mostrecentcompletecorporateincometaxretur]     BIT              NULL,
    [dfa_mostrecentcompletecorporateincometaxreturname] NVARCHAR (255)   NULL,
    [dfa_mostrecentlyfiledfinancialstatements]          BIT              NULL,
    [dfa_mostrecentlyfiledfinancialstatementsname]      NVARCHAR (255)   NULL,
    [dfa_name]                                          NVARCHAR (500)   NULL,
    [dfa_nameoffirstnationsr]                           NVARCHAR (100)   NULL,
    [dfa_noofdaystoevent90daydeadline]                  INT              NULL,
    [dfa_optionset]                                     NVARCHAR (4000)  NULL,
    [dfa_optionsetname]                                 NVARCHAR (255)   NULL,
    [dfa_organizationstructureandpurposestatemente]     BIT              NULL,
    [dfa_organizationstructureandpurposestatementename] NVARCHAR (255)   NULL,
    [dfa_orgregistrationproofunderbcsocietya]           BIT              NULL,
    [dfa_orgregistrationproofunderbcsocietyaname]       NVARCHAR (255)   NULL,
    [dfa_ownedandoperatedbya]                           INT              NULL,
    [dfa_ownedandoperatedbyaname]                       NVARCHAR (255)   NULL,
    [dfa_portalloggedinuser]                            NVARCHAR (200)   NULL,
    [dfa_portalsubmitted]                               BIT              NULL,
    [dfa_portalsubmittedname]                           NVARCHAR (255)   NULL,
    [dfa_previousdfaapplication]                        INT              NULL,
    [dfa_previousdfaapplicationdetails]                 NVARCHAR (MAX)   NULL,
    [dfa_previousdfaapplicationname]                    NVARCHAR (255)   NULL,
    [dfa_primaryapplicantprintname]                     NVARCHAR (100)   NULL,
    [dfa_primaryapplicantprintnamenoins]                NVARCHAR (100)   NULL,
    [dfa_primaryapplicantsigned]                        INT              NULL,
    [dfa_primaryapplicantsigneddate]                    DATETIME         NULL,
    [dfa_primaryapplicantsigneddatenoins]               DATETIME         NULL,
    [dfa_primaryapplicantsignedname]                    NVARCHAR (255)   NULL,
    [dfa_primaryapplicantsignednoins]                   INT              NULL,
    [dfa_primaryapplicantsignednoinsname]               NVARCHAR (255)   NULL,
    [dfa_primarycontactverified]                        BIT              NULL,
    [dfa_primarycontactverifiedname]                    NVARCHAR (255)   NULL,
    [dfa_primarydate]                                   DATETIME         NULL,
    [dfa_primaryinsurancename]                          NVARCHAR (100)   NULL,
    [dfa_proofofownership]                              BIT              NULL,
    [dfa_proofofownershipname]                          NVARCHAR (255)   NULL,
    [dfa_receiveguidanceassessingyourinfra]             INT              NULL,
    [dfa_receiveguidanceassessingyourinfraname]         NVARCHAR (255)   NULL,
    [dfa_residencetelephonenumber]                      NVARCHAR (100)   NULL,
    [dfa_reviewstatus]                                  INT              NULL,
    [dfa_reviewstatusname]                              NVARCHAR (255)   NULL,
    [dfa_secondaryapplicantprintname]                   NVARCHAR (100)   NULL,
    [dfa_secondaryapplicantprintnamenoins]              NVARCHAR (100)   NULL,
    [dfa_secondaryapplicantsigned]                      INT              NULL,
    [dfa_secondaryapplicantsigneddate]                  DATETIME         NULL,
    [dfa_secondaryapplicantsigneddatenoins]             DATETIME         NULL,
    [dfa_secondaryapplicantsignedname]                  NVARCHAR (255)   NULL,
    [dfa_secondaryapplicantsignednoins]                 INT              NULL,
    [dfa_secondaryapplicantsignednoinsname]             NVARCHAR (255)   NULL,
    [dfa_secondarydate]                                 DATETIME         NULL,
    [dfa_secondaryinsurancename]                        NVARCHAR (100)   NULL,
    [dfa_selectsections]                                INT              NULL,
    [dfa_selectsectionsname]                            NVARCHAR (255)   NULL,
    [dfa_smallbusinesstype]                             INT              NULL,
    [dfa_smallbusinesstypename]                         NVARCHAR (255)   NULL,
    [dfa_stageapplicationinreview]                      INT              NULL,
    [dfa_stagecasecreated]                              INT              NULL,
    [dfa_stagecaseinprogress]                           INT              NULL,
    [dfa_stagecreatingcasefile]                         INT              NULL,
    [dfa_stagedraft]                                    INT              NULL,
    [dfa_stagereviewassignment]                         INT              NULL,
    [dfa_stagereviewingapplication]                     INT              NULL,
    [dfa_stagesubmitted]                                INT              NULL,
    [dfa_statementofregistrationnumber]                 NVARCHAR (100)   NULL,
    [dfa_submittedon]                                   DATETIME         NULL,
    [dfa_toreceivesupportaccessingdamage]               INT              NULL,
    [dfa_toreceivesupportaccessingdamagename]           NVARCHAR (255)   NULL,
    [dfa_verifyapplicationtype]                         BIT              NULL,
    [dfa_verifyapplicationtypename]                     NVARCHAR (255)   NULL,
    [dfa_waitingonapplicantinformation]                 BIT              NULL,
    [dfa_waitingonapplicantinformationname]             NVARCHAR (255)   NULL,
    [dfa_waitingoninsuranceinformation]                 BIT              NULL,
    [dfa_waitingoninsuranceinformationname]             NVARCHAR (255)   NULL,
    [dfa_wereyouevacuatedduringtheevent]                BIT              NULL,
    [dfa_wereyouevacuatedduringtheevent2]               INT              NULL,
    [dfa_wereyouevacuatedduringtheevent2name]           NVARCHAR (255)   NULL,
    [dfa_wereyouevacuatedduringtheeventname]            NVARCHAR (255)   NULL,
    [dfa_writtenconfirmationofinsurancenotpurchase]     BIT              NULL,
    [dfa_writtenconfirmationofinsurancenotpurchasename] NVARCHAR (255)   NULL,
    [entityimage]                                       VARBINARY (MAX)  NULL,
    [entityimage_timestamp]                             BIGINT           NULL,
    [entityimage_url]                                   NVARCHAR (200)   NULL,
    [entityimageid]                                     UNIQUEIDENTIFIER NULL,
    [importsequencenumber]                              INT              NULL,
    [modifiedby]                                        UNIQUEIDENTIFIER NULL,
    [modifiedbyname]                                    NVARCHAR (200)   NULL,
    [modifiedbyyominame]                                NVARCHAR (200)   NULL,
    [modifiedon]                                        DATETIME         NULL,
    [modifiedonbehalfby]                                UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]                            NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame]                        NVARCHAR (200)   NULL,
    [overriddencreatedon]                               DATETIME         NULL,
    [ownerid]                                           UNIQUEIDENTIFIER NULL,
    [owneridname]                                       NVARCHAR (200)   NULL,
    [owneridtype]                                       NVARCHAR (64)    NULL,
    [owneridyominame]                                   NVARCHAR (200)   NULL,
    [owningbusinessunit]                                UNIQUEIDENTIFIER NULL,
    [owningteam]                                        UNIQUEIDENTIFIER NULL,
    [owninguser]                                        UNIQUEIDENTIFIER NULL,
    [processid]                                         UNIQUEIDENTIFIER NULL,
    [stageid]                                           UNIQUEIDENTIFIER NULL,
    [statecode]                                         INT              NULL,
    [statecodename]                                     NVARCHAR (255)   NULL,
    [statuscode]                                        INT              NULL,
    [statuscodename]                                    NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]                         INT              NULL,
    [traversedpath]                                     NVARCHAR (1250)  NULL,
    [utcconversiontimezonecode]                         INT              NULL,
    [versionnumber]                                     BIGINT           NULL,
    [Created_Load_Id]                                   INT              NULL,
    [Modified_Load_Id]                                  INT              NULL,
    CONSTRAINT [PK_dfa_appapplication] PRIMARY KEY CLUSTERED ([dfa_appapplicationid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_appbuildingownerlandlord]...';


GO
CREATE TABLE [dfa_stage].[dfa_appbuildingownerlandlord] (
    [createdby]                          UNIQUEIDENTIFIER NULL,
    [createdbyname]                      NVARCHAR (200)   NULL,
    [createdbyyominame]                  NVARCHAR (200)   NULL,
    [createdon]                          DATETIME         NULL,
    [createdonbehalfby]                  UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]              NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]          NVARCHAR (200)   NULL,
    [dfa_appbuildingownerlandlordid]     UNIQUEIDENTIFIER NOT NULL,
    [dfa_buildingname]                   NVARCHAR (200)   NULL,
    [dfa_buildingownerapplandlordid]     UNIQUEIDENTIFIER NULL,
    [dfa_buildingownerapplandlordidname] NVARCHAR (250)   NULL,
    [dfa_city]                           NVARCHAR (100)   NULL,
    [dfa_contactemail]                   NVARCHAR (100)   NULL,
    [dfa_contactfirstname]               NVARCHAR (100)   NULL,
    [dfa_contactlastname]                NVARCHAR (100)   NULL,
    [dfa_contactphone1]                  NVARCHAR (100)   NULL,
    [dfa_contactphone2]                  NVARCHAR (100)   NULL,
    [dfa_country]                        NVARCHAR (100)   NULL,
    [dfa_description]                    NVARCHAR (MAX)   NULL,
    [dfa_name]                           NVARCHAR (200)   NULL,
    [dfa_stateprovince]                  NVARCHAR (100)   NULL,
    [dfa_street1]                        NVARCHAR (100)   NULL,
    [dfa_street2]                        NVARCHAR (100)   NULL,
    [dfa_street3]                        NVARCHAR (100)   NULL,
    [dfa_zippostalcode]                  NVARCHAR (100)   NULL,
    [importsequencenumber]               INT              NULL,
    [modifiedby]                         UNIQUEIDENTIFIER NULL,
    [modifiedbyname]                     NVARCHAR (200)   NULL,
    [modifiedbyyominame]                 NVARCHAR (200)   NULL,
    [modifiedon]                         DATETIME         NULL,
    [modifiedonbehalfby]                 UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]             NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame]         NVARCHAR (200)   NULL,
    [overriddencreatedon]                DATETIME         NULL,
    [ownerid]                            UNIQUEIDENTIFIER NULL,
    [owneridname]                        NVARCHAR (200)   NULL,
    [owneridtype]                        NVARCHAR (64)    NULL,
    [owneridyominame]                    NVARCHAR (200)   NULL,
    [owningbusinessunit]                 UNIQUEIDENTIFIER NULL,
    [owningteam]                         UNIQUEIDENTIFIER NULL,
    [owninguser]                         UNIQUEIDENTIFIER NULL,
    [statecode]                          INT              NULL,
    [statecodename]                      NVARCHAR (255)   NULL,
    [statuscode]                         INT              NULL,
    [statuscodename]                     NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]          INT              NULL,
    [utcconversiontimezonecode]          INT              NULL,
    [versionnumber]                      BIGINT           NULL,
    [Created_Load_Id]                    INT              NULL,
    [Modified_Load_Id]                   INT              NULL,
    CONSTRAINT [PK_dfa_appbuildingownerlandlord] PRIMARY KEY CLUSTERED ([dfa_appbuildingownerlandlordid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_appcleanuplog]...';


GO
CREATE TABLE [dfa_stage].[dfa_appcleanuplog] (
    [createdby]                  UNIQUEIDENTIFIER NULL,
    [createdbyname]              NVARCHAR (200)   NULL,
    [createdbyyominame]          NVARCHAR (200)   NULL,
    [createdon]                  DATETIME         NULL,
    [createdonbehalfby]          UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]      NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]  NVARCHAR (200)   NULL,
    [dfa_appcleanuplogid]        UNIQUEIDENTIFIER NOT NULL,
    [dfa_applicationid]          UNIQUEIDENTIFIER NULL,
    [dfa_applicationidname]      NVARCHAR (500)   NULL,
    [dfa_casecleanuplog]         UNIQUEIDENTIFIER NULL,
    [dfa_casecleanuplogname]     NVARCHAR (1000)  NULL,
    [dfa_contactid]              UNIQUEIDENTIFIER NULL,
    [dfa_contactidname]          NVARCHAR (100)   NULL,
    [dfa_date]                   DATETIME         NULL,
    [dfa_hoursworked]            NUMERIC (38, 2)  NULL,
    [dfa_name]                   NVARCHAR (200)   NULL,
    [importsequencenumber]       INT              NULL,
    [modifiedby]                 UNIQUEIDENTIFIER NULL,
    [modifiedbyname]             NVARCHAR (200)   NULL,
    [modifiedbyyominame]         NVARCHAR (200)   NULL,
    [modifiedon]                 DATETIME         NULL,
    [modifiedonbehalfby]         UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]     NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame] NVARCHAR (200)   NULL,
    [overriddencreatedon]        DATETIME         NULL,
    [ownerid]                    UNIQUEIDENTIFIER NULL,
    [owneridname]                NVARCHAR (200)   NULL,
    [owneridtype]                NVARCHAR (64)    NULL,
    [owneridyominame]            NVARCHAR (200)   NULL,
    [owningbusinessunit]         UNIQUEIDENTIFIER NULL,
    [owningteam]                 UNIQUEIDENTIFIER NULL,
    [owninguser]                 UNIQUEIDENTIFIER NULL,
    [statecode]                  INT              NULL,
    [statecodename]              NVARCHAR (255)   NULL,
    [statuscode]                 INT              NULL,
    [statuscodename]             NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]  INT              NULL,
    [utcconversiontimezonecode]  INT              NULL,
    [versionnumber]              BIGINT           NULL,
    [Created_Load_Id]            INT              NULL,
    [Modified_Load_Id]           INT              NULL,
    CONSTRAINT [PK_dfa_appcleanuplog] PRIMARY KEY CLUSTERED ([dfa_appcleanuplogid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_appcontact]...';


GO
CREATE TABLE [dfa_stage].[dfa_appcontact] (
    [createdby]                                UNIQUEIDENTIFIER NULL,
    [createdbyname]                            NVARCHAR (200)   NULL,
    [createdbyyominame]                        NVARCHAR (200)   NULL,
    [createdon]                                DATETIME         NULL,
    [createdonbehalfby]                        UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]                    NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]                NVARCHAR (200)   NULL,
    [dfa_alternatephonenumber]                 NVARCHAR (100)   NULL,
    [dfa_appcontactid]                         UNIQUEIDENTIFIER NOT NULL,
    [dfa_areacommunity]                        UNIQUEIDENTIFIER NULL,
    [dfa_areacommunityname]                    NVARCHAR (350)   NULL,
    [dfa_bceidbusinessguid]                    NVARCHAR (100)   NULL,
    [dfa_bceiduserguid]                        NVARCHAR (100)   NULL,
    [dfa_bceiduserlogin]                       NVARCHAR (200)   NULL,
    [dfa_bcscaccount]                          BIT              NULL,
    [dfa_bcscaccountname]                      NVARCHAR (255)   NULL,
    [dfa_bcservicecardid]                      NVARCHAR (200)   NULL,
    [dfa_businessnumber]                       NVARCHAR (100)   NULL,
    [dfa_cellphonenumber]                      NVARCHAR (100)   NULL,
    [dfa_department]                           NVARCHAR (100)   NULL,
    [dfa_doingbusinessas]                      NVARCHAR (300)   NULL,
    [dfa_emailaddress]                         NVARCHAR (100)   NULL,
    [dfa_firstname]                            NVARCHAR (100)   NULL,
    [dfa_givenname2]                           NVARCHAR (100)   NULL,
    [dfa_givenname3]                           NVARCHAR (100)   NULL,
    [dfa_initial]                              NVARCHAR (100)   NULL,
    [dfa_isindigenous]                         BIT              NULL,
    [dfa_isindigenous2]                        INT              NULL,
    [dfa_isindigenous2name]                    NVARCHAR (255)   NULL,
    [dfa_isindigenousname]                     NVARCHAR (255)   NULL,
    [dfa_isprimaryandsecondaryaddresssame]     INT              NULL,
    [dfa_isprimaryandsecondaryaddresssamename] NVARCHAR (255)   NULL,
    [dfa_lastdateupdated]                      DATETIME         NULL,
    [dfa_lastname]                             NVARCHAR (100)   NULL,
    [dfa_mailingaddresscanadapostverified]     INT              NULL,
    [dfa_mailingaddresscanadapostverifiedname] NVARCHAR (255)   NULL,
    [dfa_name]                                 NVARCHAR (100)   NULL,
    [dfa_notes]                                NVARCHAR (MAX)   NULL,
    [dfa_primaryaddressline1]                  NVARCHAR (100)   NULL,
    [dfa_primaryaddressline2]                  NVARCHAR (100)   NULL,
    [dfa_primarycity]                          NVARCHAR (100)   NULL,
    [dfa_primarypostalcode]                    NVARCHAR (100)   NULL,
    [dfa_primarystateprovince]                 NVARCHAR (100)   NULL,
    [dfa_relationshiptoapplicant]              NVARCHAR (100)   NULL,
    [dfa_residencetelephonenumber]             NVARCHAR (100)   NULL,
    [dfa_secondaryaddressline1]                NVARCHAR (100)   NULL,
    [dfa_secondaryaddressline2]                NVARCHAR (100)   NULL,
    [dfa_secondarycity]                        NVARCHAR (100)   NULL,
    [dfa_secondarypostalcode]                  NVARCHAR (100)   NULL,
    [dfa_secondarystateprovince]               NVARCHAR (100)   NULL,
    [dfa_title]                                NVARCHAR (100)   NULL,
    [importsequencenumber]                     INT              NULL,
    [modifiedby]                               UNIQUEIDENTIFIER NULL,
    [modifiedbyname]                           NVARCHAR (200)   NULL,
    [modifiedbyyominame]                       NVARCHAR (200)   NULL,
    [modifiedon]                               DATETIME         NULL,
    [modifiedonbehalfby]                       UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]                   NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame]               NVARCHAR (200)   NULL,
    [overriddencreatedon]                      DATETIME         NULL,
    [ownerid]                                  UNIQUEIDENTIFIER NULL,
    [owneridname]                              NVARCHAR (200)   NULL,
    [owneridtype]                              NVARCHAR (64)    NULL,
    [owneridyominame]                          NVARCHAR (200)   NULL,
    [owningbusinessunit]                       UNIQUEIDENTIFIER NULL,
    [owningteam]                               UNIQUEIDENTIFIER NULL,
    [owninguser]                               UNIQUEIDENTIFIER NULL,
    [statecode]                                INT              NULL,
    [statecodename]                            NVARCHAR (255)   NULL,
    [statuscode]                               INT              NULL,
    [statuscodename]                           NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]                INT              NULL,
    [utcconversiontimezonecode]                INT              NULL,
    [versionnumber]                            BIGINT           NULL,
    [Created_Load_Id]                          INT              NULL,
    [Modified_Load_Id]                         INT              NULL,
    CONSTRAINT [PK_dfa_appcontact] PRIMARY KEY CLUSTERED ([dfa_appcontactid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_appdamageditem]...';


GO
CREATE TABLE [dfa_stage].[dfa_appdamageditem] (
    [createdby]                  UNIQUEIDENTIFIER NULL,
    [createdbyname]              NVARCHAR (200)   NULL,
    [createdbyyominame]          NVARCHAR (200)   NULL,
    [createdon]                  DATETIME         NULL,
    [createdonbehalfby]          UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]      NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]  NVARCHAR (200)   NULL,
    [dfa_appdamageditemid]       UNIQUEIDENTIFIER NOT NULL,
    [dfa_applicationid]          UNIQUEIDENTIFIER NULL,
    [dfa_applicationidname]      NVARCHAR (500)   NULL,
    [dfa_casedamageditem]        UNIQUEIDENTIFIER NULL,
    [dfa_casedamageditemname]    NVARCHAR (500)   NULL,
    [dfa_comments]               NVARCHAR (MAX)   NULL,
    [dfa_damagedescription]      NVARCHAR (2000)  NULL,
    [dfa_name]                   NVARCHAR (100)   NULL,
    [dfa_otherroom]              NVARCHAR (100)   NULL,
    [dfa_roomname]               NVARCHAR (100)   NULL,
    [dfa_roomname2]              INT              NULL,
    [dfa_roomname2name]          NVARCHAR (255)   NULL,
    [importsequencenumber]       INT              NULL,
    [modifiedby]                 UNIQUEIDENTIFIER NULL,
    [modifiedbyname]             NVARCHAR (200)   NULL,
    [modifiedbyyominame]         NVARCHAR (200)   NULL,
    [modifiedon]                 DATETIME         NULL,
    [modifiedonbehalfby]         UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]     NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame] NVARCHAR (200)   NULL,
    [overriddencreatedon]        DATETIME         NULL,
    [ownerid]                    UNIQUEIDENTIFIER NULL,
    [owneridname]                NVARCHAR (200)   NULL,
    [owneridtype]                NVARCHAR (64)    NULL,
    [owneridyominame]            NVARCHAR (200)   NULL,
    [owningbusinessunit]         UNIQUEIDENTIFIER NULL,
    [owningteam]                 UNIQUEIDENTIFIER NULL,
    [owninguser]                 UNIQUEIDENTIFIER NULL,
    [statecode]                  INT              NULL,
    [statecodename]              NVARCHAR (255)   NULL,
    [statuscode]                 INT              NULL,
    [statuscodename]             NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]  INT              NULL,
    [utcconversiontimezonecode]  INT              NULL,
    [versionnumber]              BIGINT           NULL,
    [Created_Load_Id]            INT              NULL,
    [Modified_Load_Id]           INT              NULL,
    CONSTRAINT [PK_dfa_appdamageditem] PRIMARY KEY CLUSTERED ([dfa_appdamageditemid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_appdocumentlocations]...';


GO
CREATE TABLE [dfa_stage].[dfa_appdocumentlocations] (
    [createdby]                    UNIQUEIDENTIFIER NULL,
    [createdbyname]                NVARCHAR (200)   NULL,
    [createdbyyominame]            NVARCHAR (200)   NULL,
    [createdon]                    DATETIME         NULL,
    [createdonbehalfby]            UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]        NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]    NVARCHAR (200)   NULL,
    [dfa_appdocumentlocationsid]   UNIQUEIDENTIFIER NOT NULL,
    [dfa_applicationid]            UNIQUEIDENTIFIER NULL,
    [dfa_applicationidname]        NVARCHAR (500)   NULL,
    [dfa_casedocumentlocation]     UNIQUEIDENTIFIER NULL,
    [dfa_casedocumentlocationname] NVARCHAR (200)   NULL,
    [dfa_category]                 NVARCHAR (4000)  NULL,
    [dfa_dateuploaded]             DATETIME         NULL,
    [dfa_description]              NVARCHAR (200)   NULL,
    [dfa_documentlinkonsharepoint] NVARCHAR (400)   NULL,
    [dfa_documenttype]             NVARCHAR (150)   NULL,
    [dfa_filedescription]          NVARCHAR (4000)  NULL,
    [dfa_filename]                 NVARCHAR (4000)  NULL,
    [dfa_modifiedby]               NVARCHAR (100)   NULL,
    [dfa_name]                     NVARCHAR (200)   NULL,
    [dfa_requireddocumenttype]     NVARCHAR (100)   NULL,
    [dfa_url]                      NVARCHAR (200)   NULL,
    [importsequencenumber]         INT              NULL,
    [modifiedby]                   UNIQUEIDENTIFIER NULL,
    [modifiedbyname]               NVARCHAR (200)   NULL,
    [modifiedbyyominame]           NVARCHAR (200)   NULL,
    [modifiedon]                   DATETIME         NULL,
    [modifiedonbehalfby]           UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]       NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame]   NVARCHAR (200)   NULL,
    [overriddencreatedon]          DATETIME         NULL,
    [ownerid]                      UNIQUEIDENTIFIER NULL,
    [owneridname]                  NVARCHAR (200)   NULL,
    [owneridtype]                  NVARCHAR (64)    NULL,
    [owneridyominame]              NVARCHAR (200)   NULL,
    [owningbusinessunit]           UNIQUEIDENTIFIER NULL,
    [owningteam]                   UNIQUEIDENTIFIER NULL,
    [owninguser]                   UNIQUEIDENTIFIER NULL,
    [statecode]                    INT              NULL,
    [statecodename]                NVARCHAR (255)   NULL,
    [statuscode]                   INT              NULL,
    [statuscodename]               NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]    INT              NULL,
    [utcconversiontimezonecode]    INT              NULL,
    [versionnumber]                BIGINT           NULL,
    [Created_Load_Id]              INT              NULL,
    [Modified_Load_Id]             INT              NULL,
    CONSTRAINT [PK_dfa_appdocumentlocations] PRIMARY KEY CLUSTERED ([dfa_appdocumentlocationsid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_appoccupant]...';


GO
CREATE TABLE [dfa_stage].[dfa_appoccupant] (
    [createdby]                    UNIQUEIDENTIFIER NULL,
    [createdbyname]                NVARCHAR (200)   NULL,
    [createdbyyominame]            NVARCHAR (200)   NULL,
    [createdon]                    DATETIME         NULL,
    [createdonbehalfby]            UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]        NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]    NVARCHAR (200)   NULL,
    [dfa_applicationid]            UNIQUEIDENTIFIER NULL,
    [dfa_applicationidname]        NVARCHAR (500)   NULL,
    [dfa_appoccupantid]            UNIQUEIDENTIFIER NOT NULL,
    [dfa_contactid]                UNIQUEIDENTIFIER NULL,
    [dfa_contactidname]            NVARCHAR (100)   NULL,
    [dfa_enddate]                  DATETIME         NULL,
    [dfa_name]                     NVARCHAR (100)   NULL,
    [dfa_relationshiptoapplicant]  NVARCHAR (100)   NULL,
    [dfa_relationshiptoapplicant2] NVARCHAR (4000)  NULL,
    [dfa_startdate]                DATETIME         NULL,
    [importsequencenumber]         INT              NULL,
    [modifiedby]                   UNIQUEIDENTIFIER NULL,
    [modifiedbyname]               NVARCHAR (200)   NULL,
    [modifiedbyyominame]           NVARCHAR (200)   NULL,
    [modifiedon]                   DATETIME         NULL,
    [modifiedonbehalfby]           UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]       NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame]   NVARCHAR (200)   NULL,
    [overriddencreatedon]          DATETIME         NULL,
    [ownerid]                      UNIQUEIDENTIFIER NULL,
    [owneridname]                  NVARCHAR (200)   NULL,
    [owneridtype]                  NVARCHAR (64)    NULL,
    [owneridyominame]              NVARCHAR (200)   NULL,
    [owningbusinessunit]           UNIQUEIDENTIFIER NULL,
    [owningteam]                   UNIQUEIDENTIFIER NULL,
    [owninguser]                   UNIQUEIDENTIFIER NULL,
    [statecode]                    INT              NULL,
    [statecodename]                NVARCHAR (255)   NULL,
    [statuscode]                   INT              NULL,
    [statuscodename]               NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]    INT              NULL,
    [utcconversiontimezonecode]    INT              NULL,
    [versionnumber]                BIGINT           NULL,
    [Created_Load_Id]              INT              NULL,
    [Modified_Load_Id]             INT              NULL,
    CONSTRAINT [PK_dfa_appoccupant] PRIMARY KEY CLUSTERED ([dfa_appoccupantid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_apporganization]...';


GO
CREATE TABLE [dfa_stage].[dfa_apporganization] (
    [createdby]                  UNIQUEIDENTIFIER NULL,
    [createdbyname]              NVARCHAR (200)   NULL,
    [createdbyyominame]          NVARCHAR (200)   NULL,
    [createdon]                  DATETIME         NULL,
    [createdonbehalfby]          UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]      NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]  NVARCHAR (200)   NULL,
    [dfa_apporganizationid]      UNIQUEIDENTIFIER NOT NULL,
    [dfa_contactid]              UNIQUEIDENTIFIER NULL,
    [dfa_contactidname]          NVARCHAR (100)   NULL,
    [dfa_name]                   NVARCHAR (100)   NULL,
    [importsequencenumber]       INT              NULL,
    [modifiedby]                 UNIQUEIDENTIFIER NULL,
    [modifiedbyname]             NVARCHAR (200)   NULL,
    [modifiedbyyominame]         NVARCHAR (200)   NULL,
    [modifiedon]                 DATETIME         NULL,
    [modifiedonbehalfby]         UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]     NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame] NVARCHAR (200)   NULL,
    [overriddencreatedon]        DATETIME         NULL,
    [ownerid]                    UNIQUEIDENTIFIER NULL,
    [owneridname]                NVARCHAR (200)   NULL,
    [owneridtype]                NVARCHAR (64)    NULL,
    [owneridyominame]            NVARCHAR (200)   NULL,
    [owningbusinessunit]         UNIQUEIDENTIFIER NULL,
    [owningteam]                 UNIQUEIDENTIFIER NULL,
    [owninguser]                 UNIQUEIDENTIFIER NULL,
    [statecode]                  INT              NULL,
    [statecodename]              NVARCHAR (255)   NULL,
    [statuscode]                 INT              NULL,
    [statuscodename]             NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]  INT              NULL,
    [utcconversiontimezonecode]  INT              NULL,
    [versionnumber]              BIGINT           NULL,
    [Created_Load_Id]            INT              NULL,
    [Modified_Load_Id]           INT              NULL,
    CONSTRAINT [PK_dfa_apporganization] PRIMARY KEY CLUSTERED ([dfa_apporganizationid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_appothercontact]...';


GO
CREATE TABLE [dfa_stage].[dfa_appothercontact] (
    [createdby]                  UNIQUEIDENTIFIER NULL,
    [createdbyname]              NVARCHAR (200)   NULL,
    [createdbyyominame]          NVARCHAR (200)   NULL,
    [createdon]                  DATETIME         NULL,
    [createdonbehalfby]          UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]      NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]  NVARCHAR (200)   NULL,
    [dfa_appapplicationid]       UNIQUEIDENTIFIER NULL,
    [dfa_appapplicationidname]   NVARCHAR (500)   NULL,
    [dfa_appothercontactid]      UNIQUEIDENTIFIER NOT NULL,
    [dfa_caseothercontact]       UNIQUEIDENTIFIER NULL,
    [dfa_caseothercontactname]   NVARCHAR (100)   NULL,
    [dfa_cellphone]              NVARCHAR (100)   NULL,
    [dfa_emailaddress]           NVARCHAR (100)   NULL,
    [dfa_firstname]              NVARCHAR (100)   NULL,
    [dfa_jobtitle]               NVARCHAR (200)   NULL,
    [dfa_lastname]               NVARCHAR (100)   NULL,
    [dfa_name]                   NVARCHAR (100)   NULL,
    [dfa_notes]                  NVARCHAR (MAX)   NULL,
    [dfa_phonenumber]            NVARCHAR (100)   NULL,
    [importsequencenumber]       INT              NULL,
    [modifiedby]                 UNIQUEIDENTIFIER NULL,
    [modifiedbyname]             NVARCHAR (200)   NULL,
    [modifiedbyyominame]         NVARCHAR (200)   NULL,
    [modifiedon]                 DATETIME         NULL,
    [modifiedonbehalfby]         UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]     NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame] NVARCHAR (200)   NULL,
    [overriddencreatedon]        DATETIME         NULL,
    [ownerid]                    UNIQUEIDENTIFIER NULL,
    [owneridname]                NVARCHAR (200)   NULL,
    [owneridtype]                NVARCHAR (64)    NULL,
    [owneridyominame]            NVARCHAR (200)   NULL,
    [owningbusinessunit]         UNIQUEIDENTIFIER NULL,
    [owningteam]                 UNIQUEIDENTIFIER NULL,
    [owninguser]                 UNIQUEIDENTIFIER NULL,
    [statecode]                  INT              NULL,
    [statecodename]              NVARCHAR (255)   NULL,
    [statuscode]                 INT              NULL,
    [statuscodename]             NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]  INT              NULL,
    [utcconversiontimezonecode]  INT              NULL,
    [versionnumber]              BIGINT           NULL,
    [Created_Load_Id]            INT              NULL,
    [Modified_Load_Id]           INT              NULL,
    CONSTRAINT [PK_dfa_appothercontact] PRIMARY KEY CLUSTERED ([dfa_appothercontactid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_appsecondaryapplicant]...';


GO
CREATE TABLE [dfa_stage].[dfa_appsecondaryapplicant] (
    [createdby]                   UNIQUEIDENTIFIER NULL,
    [createdbyname]               NVARCHAR (200)   NULL,
    [createdbyyominame]           NVARCHAR (200)   NULL,
    [createdon]                   DATETIME         NULL,
    [createdonbehalfby]           UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]       NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]   NVARCHAR (200)   NULL,
    [dfa_appapplicationid]        UNIQUEIDENTIFIER NULL,
    [dfa_appapplicationidname]    NVARCHAR (500)   NULL,
    [dfa_applicanttype]           INT              NULL,
    [dfa_applicanttypename]       NVARCHAR (255)   NULL,
    [dfa_appsecondaryapplicantid] UNIQUEIDENTIFIER NOT NULL,
    [dfa_emailaddress]            NVARCHAR (100)   NULL,
    [dfa_firstname]               NVARCHAR (100)   NULL,
    [dfa_lastname]                NVARCHAR (100)   NULL,
    [dfa_name]                    NVARCHAR (200)   NULL,
    [dfa_organizationname]        NVARCHAR (100)   NULL,
    [dfa_phonenumber]             NVARCHAR (100)   NULL,
    [dfa_title]                   NVARCHAR (100)   NULL,
    [importsequencenumber]        INT              NULL,
    [modifiedby]                  UNIQUEIDENTIFIER NULL,
    [modifiedbyname]              NVARCHAR (200)   NULL,
    [modifiedbyyominame]          NVARCHAR (200)   NULL,
    [modifiedon]                  DATETIME         NULL,
    [modifiedonbehalfby]          UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]      NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame]  NVARCHAR (200)   NULL,
    [overriddencreatedon]         DATETIME         NULL,
    [ownerid]                     UNIQUEIDENTIFIER NULL,
    [owneridname]                 NVARCHAR (200)   NULL,
    [owneridtype]                 NVARCHAR (64)    NULL,
    [owneridyominame]             NVARCHAR (200)   NULL,
    [owningbusinessunit]          UNIQUEIDENTIFIER NULL,
    [owningteam]                  UNIQUEIDENTIFIER NULL,
    [owninguser]                  UNIQUEIDENTIFIER NULL,
    [statecode]                   INT              NULL,
    [statecodename]               NVARCHAR (255)   NULL,
    [statuscode]                  INT              NULL,
    [statuscodename]              NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]   INT              NULL,
    [utcconversiontimezonecode]   INT              NULL,
    [versionnumber]               BIGINT           NULL,
    [Created_Load_Id]             INT              NULL,
    [Modified_Load_Id]            INT              NULL,
    CONSTRAINT [PK_dfa_appsecondaryapplicant] PRIMARY KEY CLUSTERED ([dfa_appsecondaryapplicantid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_bpf_applicationreview]...';


GO
CREATE TABLE [dfa_stage].[dfa_bpf_applicationreview] (
    [activestageid]                 UNIQUEIDENTIFIER NULL,
    [activestageidname]             NVARCHAR (100)   NULL,
    [activestagestartedon]          DATETIME         NULL,
    [bpf_dfa_appapplicationid]      UNIQUEIDENTIFIER NOT NULL,
    [bpf_dfa_appapplicationidname]  NVARCHAR (500)   NULL,
    [bpf_duration]                  INT              NULL,
    [bpf_name]                      NVARCHAR (100)   NULL,
    [businessprocessflowinstanceid] UNIQUEIDENTIFIER NULL,
    [completedon]                   DATETIME         NULL,
    [createdby]                     UNIQUEIDENTIFIER NULL,
    [createdbyname]                 NVARCHAR (200)   NULL,
    [createdbyyominame]             NVARCHAR (200)   NULL,
    [createdon]                     DATETIME         NULL,
    [createdonbehalfby]             UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]         NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]     NVARCHAR (200)   NULL,
    [importsequencenumber]          INT              NULL,
    [modifiedby]                    UNIQUEIDENTIFIER NULL,
    [modifiedbyname]                NVARCHAR (200)   NULL,
    [modifiedbyyominame]            NVARCHAR (200)   NULL,
    [modifiedon]                    DATETIME         NULL,
    [modifiedonbehalfby]            UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]        NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame]    NVARCHAR (200)   NULL,
    [organizationid]                UNIQUEIDENTIFIER NULL,
    [organizationidname]            NVARCHAR (160)   NULL,
    [overriddencreatedon]           DATETIME         NULL,
    [processid]                     UNIQUEIDENTIFIER NULL,
    [processidname]                 NVARCHAR (100)   NULL,
    [statecode]                     INT              NULL,
    [statecodename]                 NVARCHAR (255)   NULL,
    [statuscode]                    INT              NULL,
    [statuscodename]                NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]     INT              NULL,
    [traversedpath]                 NVARCHAR (1250)  NULL,
    [utcconversiontimezonecode]     INT              NULL,
    [versionnumber]                 BIGINT           NULL,
    [Created_Load_Id]               INT              NULL,
    [Modified_Load_Id]              INT              NULL,
    CONSTRAINT [PK_dfa_bpf_applicationreview] PRIMARY KEY CLUSTERED ([bpf_dfa_appapplicationid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_casebusinessprocess]...';


GO
CREATE TABLE [dfa_stage].[dfa_casebusinessprocess] (
    [activestageid]                 UNIQUEIDENTIFIER NULL,
    [activestageidname]             NVARCHAR (100)   NULL,
    [activestagestartedon]          DATETIME         NULL,
    [bpf_duration]                  INT              NULL,
    [bpf_incidentid]                UNIQUEIDENTIFIER NULL,
    [bpf_incidentidname]            NVARCHAR (200)   NULL,
    [bpf_name]                      NVARCHAR (100)   NULL,
    [businessprocessflowinstanceid] UNIQUEIDENTIFIER NOT NULL,
    [completedon]                   DATETIME         NULL,
    [createdby]                     UNIQUEIDENTIFIER NULL,
    [createdbyname]                 NVARCHAR (200)   NULL,
    [createdbyyominame]             NVARCHAR (200)   NULL,
    [createdon]                     DATETIME         NULL,
    [createdonbehalfby]             UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]         NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]     NVARCHAR (200)   NULL,
    [importsequencenumber]          INT              NULL,
    [modifiedby]                    UNIQUEIDENTIFIER NULL,
    [modifiedbyname]                NVARCHAR (200)   NULL,
    [modifiedbyyominame]            NVARCHAR (200)   NULL,
    [modifiedon]                    DATETIME         NULL,
    [modifiedonbehalfby]            UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]        NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame]    NVARCHAR (200)   NULL,
    [organizationid]                UNIQUEIDENTIFIER NULL,
    [organizationidname]            NVARCHAR (160)   NULL,
    [overriddencreatedon]           DATETIME         NULL,
    [processid]                     UNIQUEIDENTIFIER NULL,
    [processidname]                 NVARCHAR (100)   NULL,
    [statecode]                     INT              NULL,
    [statecodename]                 NVARCHAR (255)   NULL,
    [statuscode]                    INT              NULL,
    [statuscodename]                NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]     INT              NULL,
    [traversedpath]                 NVARCHAR (1250)  NULL,
    [utcconversiontimezonecode]     INT              NULL,
    [versionnumber]                 BIGINT           NULL,
    [Created_Load_Id]               INT              NULL,
    [Modified_Load_Id]              INT              NULL,
    CONSTRAINT [PK_dfa_casebusinessprocess] PRIMARY KEY CLUSTERED ([businessprocessflowinstanceid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_casedocumentlocation]...';


GO
CREATE TABLE [dfa_stage].[dfa_casedocumentlocation] (
    [createdby]                    UNIQUEIDENTIFIER NULL,
    [createdbyname]                NVARCHAR (200)   NULL,
    [createdbyyominame]            NVARCHAR (200)   NULL,
    [createdon]                    DATETIME         NULL,
    [createdonbehalfby]            UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]        NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]    NVARCHAR (200)   NULL,
    [dfa_case]                     UNIQUEIDENTIFIER NULL,
    [dfa_casedocumentlocationid]   UNIQUEIDENTIFIER NOT NULL,
    [dfa_casename]                 NVARCHAR (200)   NULL,
    [dfa_category]                 NVARCHAR (100)   NULL,
    [dfa_dateuploaded]             DATETIME         NULL,
    [dfa_documentlinkonsharepoint] NVARCHAR (300)   NULL,
    [dfa_filedescription]          NVARCHAR (200)   NULL,
    [dfa_modifiedby]               NVARCHAR (100)   NULL,
    [dfa_name]                     NVARCHAR (200)   NULL,
    [dfa_requireddocumenttype]     NVARCHAR (100)   NULL,
    [importsequencenumber]         INT              NULL,
    [modifiedby]                   UNIQUEIDENTIFIER NULL,
    [modifiedbyname]               NVARCHAR (200)   NULL,
    [modifiedbyyominame]           NVARCHAR (200)   NULL,
    [modifiedon]                   DATETIME         NULL,
    [modifiedonbehalfby]           UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]       NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame]   NVARCHAR (200)   NULL,
    [overriddencreatedon]          DATETIME         NULL,
    [ownerid]                      UNIQUEIDENTIFIER NULL,
    [owneridname]                  NVARCHAR (200)   NULL,
    [owneridtype]                  NVARCHAR (64)    NULL,
    [owneridyominame]              NVARCHAR (200)   NULL,
    [owningbusinessunit]           UNIQUEIDENTIFIER NULL,
    [owningteam]                   UNIQUEIDENTIFIER NULL,
    [owninguser]                   UNIQUEIDENTIFIER NULL,
    [statecode]                    INT              NULL,
    [statecodename]                NVARCHAR (255)   NULL,
    [statuscode]                   INT              NULL,
    [statuscodename]               NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]    INT              NULL,
    [utcconversiontimezonecode]    INT              NULL,
    [versionnumber]                BIGINT           NULL,
    [Created_Load_Id]              INT              NULL,
    [Modified_Load_Id]             INT              NULL,
    CONSTRAINT [PK_dfa_casedocumentlocation] PRIMARY KEY CLUSTERED ([dfa_casedocumentlocationid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_configurationsettings]...';


GO
CREATE TABLE [dfa_stage].[dfa_configurationsettings] (
    [createdby]                   UNIQUEIDENTIFIER NULL,
    [createdbyname]               NVARCHAR (200)   NULL,
    [createdbyyominame]           NVARCHAR (200)   NULL,
    [createdon]                   DATETIME         NULL,
    [createdonbehalfby]           UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]       NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]   NVARCHAR (200)   NULL,
    [dfa_configurationsettingsid] UNIQUEIDENTIFIER NOT NULL,
    [dfa_date]                    DATETIME         NULL,
    [dfa_isdate]                  BIT              NULL,
    [dfa_isdatename]              NVARCHAR (255)   NULL,
    [dfa_issecure]                BIT              NULL,
    [dfa_issecurename]            NVARCHAR (255)   NULL,
    [dfa_name]                    NVARCHAR (100)   NULL,
    [dfa_securevalue]             NVARCHAR (200)   NULL,
    [dfa_value]                   NVARCHAR (200)   NULL,
    [importsequencenumber]        INT              NULL,
    [modifiedby]                  UNIQUEIDENTIFIER NULL,
    [modifiedbyname]              NVARCHAR (200)   NULL,
    [modifiedbyyominame]          NVARCHAR (200)   NULL,
    [modifiedon]                  DATETIME         NULL,
    [modifiedonbehalfby]          UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]      NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame]  NVARCHAR (200)   NULL,
    [overriddencreatedon]         DATETIME         NULL,
    [ownerid]                     UNIQUEIDENTIFIER NULL,
    [owneridname]                 NVARCHAR (200)   NULL,
    [owneridtype]                 NVARCHAR (64)    NULL,
    [owneridyominame]             NVARCHAR (200)   NULL,
    [owningbusinessunit]          UNIQUEIDENTIFIER NULL,
    [owningteam]                  UNIQUEIDENTIFIER NULL,
    [owninguser]                  UNIQUEIDENTIFIER NULL,
    [statecode]                   INT              NULL,
    [statecodename]               NVARCHAR (255)   NULL,
    [statuscode]                  INT              NULL,
    [statuscodename]              NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]   INT              NULL,
    [utcconversiontimezonecode]   INT              NULL,
    [versionnumber]               BIGINT           NULL,
    [Created_Load_Id]             INT              NULL,
    [Modified_Load_Id]            INT              NULL,
    CONSTRAINT [PK_dfa_configurationsettings] PRIMARY KEY CLUSTERED ([dfa_configurationsettingsid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_localgovernmentapplicationandcase]...';


GO
CREATE TABLE [dfa_stage].[dfa_localgovernmentapplicationandcase] (
    [activestageid]                 UNIQUEIDENTIFIER NULL,
    [activestageidname]             NVARCHAR (100)   NULL,
    [activestagestartedon]          DATETIME         NULL,
    [bpf_dfa_appapplicationid]      UNIQUEIDENTIFIER NOT NULL,
    [bpf_dfa_appapplicationidname]  NVARCHAR (500)   NULL,
    [bpf_duration]                  INT              NULL,
    [bpf_incidentid]                UNIQUEIDENTIFIER NULL,
    [bpf_incidentidname]            NVARCHAR (200)   NULL,
    [bpf_name]                      NVARCHAR (100)   NULL,
    [businessprocessflowinstanceid] UNIQUEIDENTIFIER NOT NULL,
    [completedon]                   DATETIME         NULL,
    [createdby]                     UNIQUEIDENTIFIER NULL,
    [createdbyname]                 NVARCHAR (200)   NULL,
    [createdbyyominame]             NVARCHAR (200)   NULL,
    [createdon]                     DATETIME         NULL,
    [createdonbehalfby]             UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]         NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]     NVARCHAR (200)   NULL,
    [importsequencenumber]          INT              NULL,
    [modifiedby]                    UNIQUEIDENTIFIER NULL,
    [modifiedbyname]                NVARCHAR (200)   NULL,
    [modifiedbyyominame]            NVARCHAR (200)   NULL,
    [modifiedon]                    DATETIME         NULL,
    [modifiedonbehalfby]            UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]        NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame]    NVARCHAR (200)   NULL,
    [organizationid]                UNIQUEIDENTIFIER NULL,
    [organizationidname]            NVARCHAR (160)   NULL,
    [overriddencreatedon]           DATETIME         NULL,
    [processid]                     UNIQUEIDENTIFIER NULL,
    [processidname]                 NVARCHAR (100)   NULL,
    [statecode]                     INT              NULL,
    [statecodename]                 NVARCHAR (255)   NULL,
    [statuscode]                    INT              NULL,
    [statuscodename]                NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]     INT              NULL,
    [traversedpath]                 NVARCHAR (1250)  NULL,
    [utcconversiontimezonecode]     INT              NULL,
    [versionnumber]                 BIGINT           NULL,
    [Created_Load_Id]               INT              NULL,
    [Modified_Load_Id]              INT              NULL,
    CONSTRAINT [PK_dfa_localgovernmentapplicationandcase] PRIMARY KEY CLUSTERED ([businessprocessflowinstanceid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_projectamendmentbpf]...';


GO
CREATE TABLE [dfa_stage].[dfa_projectamendmentbpf] (
    [activestageid]                  UNIQUEIDENTIFIER NULL,
    [activestageidname]              NVARCHAR (100)   NULL,
    [activestagestartedon]           DATETIME         NULL,
    [bpf_dfa_projectamendmentid]     UNIQUEIDENTIFIER NULL,
    [bpf_dfa_projectamendmentidname] NVARCHAR (100)   NULL,
    [bpf_duration]                   INT              NULL,
    [bpf_name]                       NVARCHAR (100)   NULL,
    [businessprocessflowinstanceid]  UNIQUEIDENTIFIER NOT NULL,
    [completedon]                    DATETIME         NULL,
    [createdby]                      UNIQUEIDENTIFIER NULL,
    [createdbyname]                  NVARCHAR (200)   NULL,
    [createdbyyominame]              NVARCHAR (200)   NULL,
    [createdon]                      DATETIME         NULL,
    [createdonbehalfby]              UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]          NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]      NVARCHAR (200)   NULL,
    [importsequencenumber]           INT              NULL,
    [modifiedby]                     UNIQUEIDENTIFIER NULL,
    [modifiedbyname]                 NVARCHAR (200)   NULL,
    [modifiedbyyominame]             NVARCHAR (200)   NULL,
    [modifiedon]                     DATETIME         NULL,
    [modifiedonbehalfby]             UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]         NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame]     NVARCHAR (200)   NULL,
    [organizationid]                 UNIQUEIDENTIFIER NULL,
    [organizationidname]             NVARCHAR (160)   NULL,
    [overriddencreatedon]            DATETIME         NULL,
    [processid]                      UNIQUEIDENTIFIER NULL,
    [processidname]                  NVARCHAR (100)   NULL,
    [statecode]                      INT              NULL,
    [statecodename]                  NVARCHAR (255)   NULL,
    [statuscode]                     INT              NULL,
    [statuscodename]                 NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]      INT              NULL,
    [traversedpath]                  NVARCHAR (1250)  NULL,
    [utcconversiontimezonecode]      INT              NULL,
    [versionnumber]                  BIGINT           NULL,
    [Created_Load_Id]                INT              NULL,
    [Modified_Load_Id]               INT              NULL,
    CONSTRAINT [PK_dfa_projectamendmentbpf] PRIMARY KEY CLUSTERED ([businessprocessflowinstanceid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_projectbusinessprocessflow]...';


GO
CREATE TABLE [dfa_stage].[dfa_projectbusinessprocessflow] (
    [activestageid]                 UNIQUEIDENTIFIER NULL,
    [activestageidname]             NVARCHAR (100)   NULL,
    [activestagestartedon]          DATETIME         NULL,
    [bpf_dfa_projectid]             UNIQUEIDENTIFIER NULL,
    [bpf_dfa_projectidname]         NVARCHAR (100)   NULL,
    [bpf_duration]                  INT              NULL,
    [bpf_name]                      NVARCHAR (100)   NULL,
    [businessprocessflowinstanceid] UNIQUEIDENTIFIER NOT NULL,
    [completedon]                   DATETIME         NULL,
    [createdby]                     UNIQUEIDENTIFIER NULL,
    [createdbyname]                 NVARCHAR (200)   NULL,
    [createdbyyominame]             NVARCHAR (200)   NULL,
    [createdon]                     DATETIME         NULL,
    [createdonbehalfby]             UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]         NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]     NVARCHAR (200)   NULL,
    [importsequencenumber]          INT              NULL,
    [modifiedby]                    UNIQUEIDENTIFIER NULL,
    [modifiedbyname]                NVARCHAR (200)   NULL,
    [modifiedbyyominame]            NVARCHAR (200)   NULL,
    [modifiedon]                    DATETIME         NULL,
    [modifiedonbehalfby]            UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]        NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame]    NVARCHAR (200)   NULL,
    [organizationid]                UNIQUEIDENTIFIER NULL,
    [organizationidname]            NVARCHAR (160)   NULL,
    [overriddencreatedon]           DATETIME         NULL,
    [processid]                     UNIQUEIDENTIFIER NULL,
    [processidname]                 NVARCHAR (100)   NULL,
    [statecode]                     INT              NULL,
    [statecodename]                 NVARCHAR (255)   NULL,
    [statuscode]                    INT              NULL,
    [statuscodename]                NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]     INT              NULL,
    [traversedpath]                 NVARCHAR (1250)  NULL,
    [utcconversiontimezonecode]     INT              NULL,
    [versionnumber]                 BIGINT           NULL,
    [Created_Load_Id]               INT              NULL,
    [Modified_Load_Id]              INT              NULL,
    CONSTRAINT [PK_dfa_projectbusinessprocessflow] PRIMARY KEY CLUSTERED ([businessprocessflowinstanceid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_projectclaimdocumentlocation]...';


GO
CREATE TABLE [dfa_stage].[dfa_projectclaimdocumentlocation] (
    [createdby]                          UNIQUEIDENTIFIER NULL,
    [createdbyname]                      NVARCHAR (200)   NULL,
    [createdbyyominame]                  NVARCHAR (200)   NULL,
    [createdon]                          DATETIME         NULL,
    [createdonbehalfby]                  UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]              NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]          NVARCHAR (200)   NULL,
    [dfa_description]                    NVARCHAR (200)   NULL,
    [dfa_documentlinkonsharepoint]       NVARCHAR (300)   NULL,
    [dfa_documenttype]                   NVARCHAR (300)   NULL,
    [dfa_filename]                       NVARCHAR (300)   NULL,
    [dfa_modifiedby]                     NVARCHAR (300)   NULL,
    [dfa_name]                           NVARCHAR (100)   NULL,
    [dfa_projectclaimdocumentlocationid] UNIQUEIDENTIFIER NOT NULL,
    [dfa_projectclaimid]                 UNIQUEIDENTIFIER NULL,
    [dfa_projectclaimidname]             NVARCHAR (100)   NULL,
    [dfa_requireddocumenttype]           NVARCHAR (300)   NULL,
    [dfa_url]                            NVARCHAR (300)   NULL,
    [importsequencenumber]               INT              NULL,
    [modifiedby]                         UNIQUEIDENTIFIER NULL,
    [modifiedbyname]                     NVARCHAR (200)   NULL,
    [modifiedbyyominame]                 NVARCHAR (200)   NULL,
    [modifiedon]                         DATETIME         NULL,
    [modifiedonbehalfby]                 UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]             NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame]         NVARCHAR (200)   NULL,
    [overriddencreatedon]                DATETIME         NULL,
    [ownerid]                            UNIQUEIDENTIFIER NULL,
    [owneridname]                        NVARCHAR (200)   NULL,
    [owneridtype]                        NVARCHAR (64)    NULL,
    [owneridyominame]                    NVARCHAR (200)   NULL,
    [owningbusinessunit]                 UNIQUEIDENTIFIER NULL,
    [owningteam]                         UNIQUEIDENTIFIER NULL,
    [owninguser]                         UNIQUEIDENTIFIER NULL,
    [statecode]                          INT              NULL,
    [statecodename]                      NVARCHAR (255)   NULL,
    [statuscode]                         INT              NULL,
    [statuscodename]                     NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]          INT              NULL,
    [utcconversiontimezonecode]          INT              NULL,
    [versionnumber]                      BIGINT           NULL,
    [Created_Load_Id]                    INT              NULL,
    [Modified_Load_Id]                   INT              NULL,
    CONSTRAINT [PK_dfa_projectclaimdocumentlocation] PRIMARY KEY CLUSTERED ([dfa_projectclaimdocumentlocationid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_recoveryclaimbpf]...';


GO
CREATE TABLE [dfa_stage].[dfa_recoveryclaimbpf] (
    [activestageid]                 UNIQUEIDENTIFIER NULL,
    [activestageidname]             NVARCHAR (100)   NULL,
    [activestagestartedon]          DATETIME         NULL,
    [bpf_dfa_projectclaimid]        UNIQUEIDENTIFIER NULL,
    [bpf_dfa_projectclaimidname]    NVARCHAR (100)   NULL,
    [bpf_duration]                  INT              NULL,
    [bpf_name]                      NVARCHAR (100)   NULL,
    [businessprocessflowinstanceid] UNIQUEIDENTIFIER NOT NULL,
    [completedon]                   DATETIME         NULL,
    [createdby]                     UNIQUEIDENTIFIER NULL,
    [createdbyname]                 NVARCHAR (200)   NULL,
    [createdbyyominame]             NVARCHAR (200)   NULL,
    [createdon]                     DATETIME         NULL,
    [createdonbehalfby]             UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]         NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]     NVARCHAR (200)   NULL,
    [importsequencenumber]          INT              NULL,
    [modifiedby]                    UNIQUEIDENTIFIER NULL,
    [modifiedbyname]                NVARCHAR (200)   NULL,
    [modifiedbyyominame]            NVARCHAR (200)   NULL,
    [modifiedon]                    DATETIME         NULL,
    [modifiedonbehalfby]            UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]        NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame]    NVARCHAR (200)   NULL,
    [organizationid]                UNIQUEIDENTIFIER NULL,
    [organizationidname]            NVARCHAR (160)   NULL,
    [overriddencreatedon]           DATETIME         NULL,
    [processid]                     UNIQUEIDENTIFIER NULL,
    [processidname]                 NVARCHAR (100)   NULL,
    [statecode]                     INT              NULL,
    [statecodename]                 NVARCHAR (255)   NULL,
    [statuscode]                    INT              NULL,
    [statuscodename]                NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]     INT              NULL,
    [traversedpath]                 NVARCHAR (1250)  NULL,
    [utcconversiontimezonecode]     INT              NULL,
    [versionnumber]                 BIGINT           NULL,
    [Created_Load_Id]               INT              NULL,
    [Modified_Load_Id]              INT              NULL,
    CONSTRAINT [PK_dfa_recoveryclaimbpf] PRIMARY KEY CLUSTERED ([businessprocessflowinstanceid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[dfa_systemconfig]...';


GO
CREATE TABLE [dfa_stage].[dfa_systemconfig] (
    [createdby]                  UNIQUEIDENTIFIER NULL,
    [createdbyname]              NVARCHAR (200)   NULL,
    [createdbyyominame]          NVARCHAR (200)   NULL,
    [createdon]                  DATETIME         NULL,
    [createdonbehalfby]          UNIQUEIDENTIFIER NULL,
    [createdonbehalfbyname]      NVARCHAR (200)   NULL,
    [createdonbehalfbyyominame]  NVARCHAR (200)   NULL,
    [dfa_group]                  NVARCHAR (100)   NULL,
    [dfa_key]                    NVARCHAR (100)   NULL,
    [dfa_name]                   NVARCHAR (100)   NULL,
    [dfa_securevalue]            NVARCHAR (100)   NULL,
    [dfa_systemconfigid]         UNIQUEIDENTIFIER NOT NULL,
    [dfa_value]                  NVARCHAR (100)   NULL,
    [importsequencenumber]       INT              NULL,
    [modifiedby]                 UNIQUEIDENTIFIER NULL,
    [modifiedbyname]             NVARCHAR (200)   NULL,
    [modifiedbyyominame]         NVARCHAR (200)   NULL,
    [modifiedon]                 DATETIME         NULL,
    [modifiedonbehalfby]         UNIQUEIDENTIFIER NULL,
    [modifiedonbehalfbyname]     NVARCHAR (200)   NULL,
    [modifiedonbehalfbyyominame] NVARCHAR (200)   NULL,
    [overriddencreatedon]        DATETIME         NULL,
    [ownerid]                    UNIQUEIDENTIFIER NULL,
    [owneridname]                NVARCHAR (200)   NULL,
    [owneridtype]                NVARCHAR (64)    NULL,
    [owneridyominame]            NVARCHAR (200)   NULL,
    [owningbusinessunit]         UNIQUEIDENTIFIER NULL,
    [owningteam]                 UNIQUEIDENTIFIER NULL,
    [owninguser]                 UNIQUEIDENTIFIER NULL,
    [statecode]                  INT              NULL,
    [statecodename]              NVARCHAR (255)   NULL,
    [statuscode]                 INT              NULL,
    [statuscodename]             NVARCHAR (255)   NULL,
    [timezoneruleversionnumber]  INT              NULL,
    [utcconversiontimezonecode]  INT              NULL,
    [versionnumber]              BIGINT           NULL,
    [Created_Load_Id]            INT              NULL,
    [Modified_Load_Id]           INT              NULL,
    CONSTRAINT [PK_dfa_systemconfig] PRIMARY KEY CLUSTERED ([dfa_systemconfigid] ASC)
);


GO
PRINT N'Creating [dfa_stage].[incident2]...';


GO
CREATE TABLE [dfa_stage].[incident2] (
    [incidentid]                              UNIQUEIDENTIFIER NOT NULL,
    [dfa_arbusinessphone]                     NVARCHAR (100)   NULL,
    [dfa_ardeclaration1]                      BIT              NULL,
    [dfa_ardeclaration1name]                  NVARCHAR (255)   NULL,
    [dfa_ardeclaration2]                      BIT              NULL,
    [dfa_ardeclaration2name]                  NVARCHAR (255)   NULL,
    [dfa_aremail]                             NVARCHAR (100)   NULL,
    [dfa_arfirstname]                         NVARCHAR (100)   NULL,
    [dfa_arlastname]                          NVARCHAR (100)   NULL,
    [dfa_arpositiontitle]                     NVARCHAR (100)   NULL,
    [dfa_contactnotes]                        NVARCHAR (MAX)   NULL,
    [dfa_dfacasebusinessprocess]              UNIQUEIDENTIFIER NULL,
    [dfa_dfacasebusinessprocessname]          NVARCHAR (100)   NULL,
    [dfa_firstclaim]                          UNIQUEIDENTIFIER NULL,
    [dfa_firstclaimname]                      NVARCHAR (100)   NULL,
    [dfa_stageappealinprogress]               INT              NULL,
    [dfa_stageappealreceived]                 INT              NULL,
    [dfa_stageassessdamage]                   INT              NULL,
    [dfa_stagecheckingcriteria]               INT              NULL,
    [dfa_stageclosepay]                       INT              NULL,
    [dfa_stagedevelopfiles]                   INT              NULL,
    [dfa_stagereviewreport]                   INT              NULL,
    [dfa_toreceivesupportaccessingdamage]     INT              NULL,
    [dfa_toreceivesupportaccessingdamagename] NVARCHAR (255)   NULL,
    [dfa_waitingonapplicantinformation]       BIT              NULL,
    [dfa_waitingonapplicantinformationname]   NVARCHAR (255)   NULL,
    [dfa_waitingoninsuranceinformation]       BIT              NULL,
    [dfa_waitingoninsuranceinformationname]   NVARCHAR (255)   NULL,
    [Created_Load_Id]                         INT              NULL,
    [Modified_Load_Id]                        INT              NULL,
    CONSTRAINT [PK_incident2] PRIMARY KEY CLUSTERED ([incidentid] ASC)
);


GO
--PRINT N'Creating [Eteam].[TBL_DATA_SHARING].[ncci_TBL_DATA_SHARING]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_DATA_SHARING]
--    ON [Eteam].[TBL_DATA_SHARING]([DATA_SHARING_ID], [IS_DOCUMENT_SHARED], [RECIPIENTS_LIST], [IS_FORWARDING_ALLOWED], [COMMENTS], [CONTROL_GIVEN_TO]);


--GO
--PRINT N'Creating [Eteam].[TBL_EVENT].[ncci_TBL_EVENT]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_EVENT]
--    ON [Eteam].[TBL_EVENT]([EVENT_ID], [REPORT_TYPE], [CURRENT_STATUS], [PROGNOSIS], [SEVERITY], [EVENT_TYPE], [EVENT_NAME], [START_DATE], [COMPLETION_DATE], [EVENT_LOCATION], [OVERLAYS_ID], [ACTUAL_START_DATE], [ACTUAL_COMPLETION_DATE], [AUTO_CLOSED], [AUTO_CLOSURE_STATUS], [AUTO_CLOSURE_REF_ID]);


--GO
--PRINT N'Creating [Eteam].[TBL_GEO_LOCATION_MAPPING].[ncci_TBL_GEO_LOCATION_MAPPING]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_GEO_LOCATION_MAPPING]
--    ON [Eteam].[TBL_GEO_LOCATION_MAPPING]([GEO_LOCATION_MAPPING_ID], [SHOW_ON_MAP], [GEO_LOCATED_BY], [LATITUDE], [LONGITUDE], [MOUSEOVER_TEXT], [BUBBLE_DISPLAY_TEXT], [USNG_COORDINATE]);


--GO
--PRINT N'Creating [Eteam].[TBL_INCIDENT].[ncci_TBL_INCIDENT]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_INCIDENT]
--    ON [Eteam].[TBL_INCIDENT]([INCIDENT_ID], [INCIDENT_TYPE], [LOCATION_NAME], [DATE_TIME], [INCIDENT_NUMBER], [INCIDENT_NAME], [NUMBER_OF_FATALITIES], [NUMBER_OF_INJURIES], [NUMBER_OF_EVACUATIONS], [CONTACT_INFO], [ICP_ESTABLISHED], [OVERLAYS_ID], [LAW_ENFORCEMENT_ID], [MEDICAL_HEALTH_ID], [MASS_CARE_SHELTER_ID], [FIRE_RESCUE_ID], [HAZ_MAT_ID], [CASUALTIES_ID], [ACTION_PLAN_ID], [CURRENT_STATUS], [PROGNOSIS], [LEAD_AGENCY], [SEVERITY], [DAMAGE_BUILDING], [DAMAGE_UTILITIES], [DAMAGE_ROAD], [SUPPORTING_AGENCIES], [ACTION_PLAN], [LAST_UPDATED_FORM], [ACTIVITY_CENTER_FORM], [UNITS_ASSIGNED], [BUILDING], [STLANDMARK], [CROSS_STREET], [EMAIL_NOTIFY], [REPORT_ID_OF_OWNER], [IS_ESAISA]);


--GO
--PRINT N'Creating [Eteam].[TBL_LOCATION].[ncci_TBL_LOCATION]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_LOCATION]
--    ON [Eteam].[TBL_LOCATION]([LOCATION_ID], [CITY], [STATE_NAME], [COUNTY_NAME], [STREET_ADDRESS], [GEO_AREA], [ZIP_CODE], [ADDITIONAL_INFO], [INTERSECTION_STREET1], [INTERSECTION_STREET2], [SITE_NAME], [SITE_TYPE], [APT_LOT_NO], [COUNTRY_NAME]);


--GO
--PRINT N'Creating [Eteam].[TBL_PICKLIST_VALUE].[ncci_TBL_PICKLIST_VALUE]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_PICKLIST_VALUE]
--    ON [Eteam].[TBL_PICKLIST_VALUE]([PICKLIST_VALUE_ID], [PICKLIST_ID], [PICKLIST_VALUE], [IS_EDITABLE], [IS_ENABLED], [SORT_ORDER], [COLOR_KEY], [COLOR_IMG_KEY], [IS_REMOTE], [IS_INTERNATIONAL]);


--GO
--PRINT N'Creating [Eteam].[TBL_RELATED_REPORT].[ncci_TBL_RELATED_REPORT]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_RELATED_REPORT]
--    ON [Eteam].[TBL_RELATED_REPORT]([GLOBAL_REPORT_ID], [REPORT_ID], [REPORT_TYPE], [REPORT_NAME], [RELATION_DATE], [RELATED_GLOBAL_REPORT_ID], [RELATED_REPORT_ID], [RELATED_REPORT_TYPE], [RELATED_REPORT_NAME], [EIA_REPORT_TYPE], [RELATED_REPORT_PK]);


--GO
--PRINT N'Creating [Eteam].[TBL_REPORT].[ncci_TBL_REPORT]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_REPORT]
--    ON [Eteam].[TBL_REPORT]([GLOBAL_REPORT_ID], [REPORT_ID], [MODIFICATION_DATE], [MODIFIED_BY], [WEB_PAGE_LINK], [CREATION_DATE], [CREATED_BY], [STATUS], [REPORT_TYPE], [SUB_REPORT_TYPE], [REPORT_NAME], [PREVIOUS_OWNER], [GEO_LOCATION_MAPPING_ID], [DATA_SHARING_ID], [NOTIFICATION_ID], [ENTITY_ID], [LOCATION_ID], [RELATED_REPORT_ID], [LOCKED_BY], [LOCKED_TIME], [IS_FORWARDING_ALLOWED], [IS_OWNER], [LOCK_UPDATE_TIME], [RELATED_REPORT_NAME], [DELETED_BY], [DELETION_DATE], [LAST_UPDATED_FORM], [WEB_PAGE_LINK_CHKBOX], [CREATOR_COG]);


--GO
--PRINT N'Creating [Eteam].[TBL_RESPONSIBLE_ENTITY].[ncci_TBL_RESPONSIBLE_ENTITY]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_RESPONSIBLE_ENTITY]
--    ON [Eteam].[TBL_RESPONSIBLE_ENTITY]([ENTITY_ID], [PROFILE_ID], [AGENCY], [POSITION], [ORGANIZATION], [CONTACT_INFO], [ORGANIZATION_ID], [POSITION_ID], [INDIVIDUAL], [CUSTOMER_NAME], [CHK_BX_INDV]);


--GO
--PRINT N'Creating [Eteam].[TBL_SITUATION_SUMMARY].[ncci_TBL_SITUATION_SUMMARY]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_SITUATION_SUMMARY]
--    ON [Eteam].[TBL_SITUATION_SUMMARY]([GLOBAL_SUMMARY_ID], [SUMMARY_ID], [REPORT_ID], [ENTERED_BY], [ENTRY_DATE], [ORGANIZATION], [CREATED_BY], [CREATION_DATE], [MODIFIED_BY], [MODIFICATION_DATE], [DELETED_BY], [DELETION_DATE], [STATUS]);


--GO
--PRINT N'Creating [Eteam].[TBL_USER].[ncci_TBL_USER]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_USER]
--    ON [Eteam].[TBL_USER]([USER_ID], [USER_NAME], [USER_PASSWORD], [PROFILE_ID], [ASSIGNED_TO], [LAST_PWD_UPDATE_TIME]);


--GO
--PRINT N'Creating [Eteam_Ora].[TBL_DATA_SHARING].[ncci_TBL_DATA_SHARING]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_DATA_SHARING]
--    ON [Eteam_Ora].[TBL_DATA_SHARING]([DATA_SHARING_ID], [IS_DOCUMENT_SHARED], [RECIPIENTS_LIST], [IS_FORWARDING_ALLOWED], [COMMENTS], [CONTROL_GIVEN_TO]);


--GO
--PRINT N'Creating [Eteam_Ora].[TBL_EVENT].[ncci_TBL_EVENT]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_EVENT]
--    ON [Eteam_Ora].[TBL_EVENT]([EVENT_ID], [REPORT_TYPE], [CURRENT_STATUS], [PROGNOSIS], [SEVERITY], [EVENT_TYPE], [EVENT_NAME], [START_DATE], [COMPLETION_DATE], [EVENT_LOCATION], [OVERLAYS_ID], [ACTUAL_START_DATE], [ACTUAL_COMPLETION_DATE], [AUTO_CLOSURE_REF_ID], [AUTO_CLOSURE_STATUS], [AUTO_CLOSED]);


--GO
--PRINT N'Creating [Eteam_Ora].[TBL_GEO_LOCATION_MAPPING].[ncci_TBL_GEO_LOCATION_MAPPING]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_GEO_LOCATION_MAPPING]
--    ON [Eteam_Ora].[TBL_GEO_LOCATION_MAPPING]([GEO_LOCATION_MAPPING_ID], [SHOW_ON_MAP], [GEO_LOCATED_BY], [LATITUDE], [LONGITUDE], [BUBBLE_DISPLAY_TEXT], [MOUSEOVER_TEXT], [USNG_COORDINATE]);


--GO
--PRINT N'Creating [Eteam_Ora].[TBL_INCIDENT].[ncci_TBL_INCIDENT]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_INCIDENT]
--    ON [Eteam_Ora].[TBL_INCIDENT]([INCIDENT_ID], [INCIDENT_TYPE], [DATE_TIME], [INCIDENT_NAME], [NUMBER_OF_FATALITIES], [NUMBER_OF_INJURIES], [NUMBER_OF_EVACUATIONS], [ICP_ESTABLISHED], [OVERLAYS_ID], [LAW_ENFORCEMENT_ID], [MEDICAL_HEALTH_ID], [MASS_CARE_SHELTER_ID], [FIRE_RESCUE_ID], [HAZ_MAT_ID], [CASUALTIES_ID], [ACTION_PLAN_ID], [CURRENT_STATUS], [LEAD_AGENCY], [ACTION_PLAN], [LAST_UPDATED_FORM], [ACTIVITY_CENTER_FORM], [BUILDING], [STLANDMARK], [CROSS_STREET], [EMAIL_NOTIFY], [REPORT_ID_OF_OWNER], [SEVERITY], [PROGNOSIS], [LOCATION_NAME], [DAMAGE_BUILDING], [UNITS_ASSIGNED], [DAMAGE_ROAD], [INCIDENT_NUMBER], [DAMAGE_UTILITIES], [SUPPORTING_AGENCIES], [CONTACT_INFO], [IS_ESAISA]);


--GO
--PRINT N'Creating [Eteam_Ora].[TBL_LOCATION].[ncci_TBL_LOCATION]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_LOCATION]
--    ON [Eteam_Ora].[TBL_LOCATION]([LOCATION_ID], [CITY], [STATE_NAME], [COUNTY_NAME], [STREET_ADDRESS], [GEO_AREA], [ZIP_CODE], [ADDITIONAL_INFO], [INTERSECTION_STREET1], [INTERSECTION_STREET2], [SITE_NAME], [SITE_TYPE], [APT_LOT_NO], [COUNTRY_NAME]);


--GO
--PRINT N'Creating [Eteam_Ora].[TBL_RESPONSIBLE_ENTITY].[ncci_TBL_RESPONSIBLE_ENTITY]...';


--GO
--CREATE COLUMNSTORE INDEX [ncci_TBL_RESPONSIBLE_ENTITY]
--    ON [Eteam_Ora].[TBL_RESPONSIBLE_ENTITY]([ENTITY_ID], [PROFILE_ID], [AGENCY], [POSITION], [ORGANIZATION], [CONTACT_INFO], [ORGANIZATION_ID], [POSITION_ID], [INDIVIDUAL], [CUSTOMER_NAME], [CHK_BX_INDV]);


--GO
PRINT N'Adding schema binding to [dfa_rpt].[FactCase]...';


GO





ALTER   VIEW [dfa_rpt].[FactCase]
WITH SCHEMABINDING 
AS

SELECT 
      /*isnull(convert(nvarchar(40), [dfa_areacommunity2id]), '-1') as DimLocationBK2
      ,isnull(convert(nvarchar(40), i.[dfa_areacommunityid]), '-1') as DimLocationBK
	  , dfa_effectedcommunityregionid
	  , r.dfa_areacommunityid
	  ,*/ISNULL(convert(nvarchar(40), COALESCE( r.dfa_areacommunityid, i.[dfa_areacommunityid], [dfa_areacommunity2id])), '-1') as DimLocationBK
	  ,dfa_applicanttypename
	  ,i.createdon as CreatedDate
      ,[dfa_totalfederalclaimamount_date] as TotalFederalClaimAmountDate
      ,[dfa_totalineligibleamount_date] as TotalIneligibleAmountDate
      ,[dfa_totalprovincialeligibleamount_date] as TotalProvincialEligibleAmountDate
      ,[dfa_secondaryapplicantsigneddate] as SecondaryApplicantSignedDate
      ,[dfa_primaryapplicantsigneddate] as PrimaryApplicantSignedDate
      ,[dfa_letterofacknowledgement] as LetterOfAcknowledgmentDate
      ,[dfa_evaluationreportreceiveddate] as EvaluationReportReceivedDate
      ,[dfa_dateapplicantcontacted] as ApplicantContactedDate
      ,[dfa_dateassigned] as AssignedDate
      ,[dfa_dateassignedtofm] as AssignedToFMDate
      ,[dfa_datecasereceivedbyfm] as ReceivedByFMDate
      ,[dfa_dateevaluationfilereceived] as EvaluationFileReceivedDate
      ,[dfa_datefileclosed] as FileClosedDate
      ,[dfa_dateofapplicantsitevisit] as OfApplicantSiteVisitDate
      ,[dfa_dateofdamage] as DamageDate
      ,[dfa_dateofdamageto] as DamageToDate
      ,[dfa_datereceived] as ReceivedDate
      ,[dfa_datereportcompleted] as ReportCompletedDate
      ,[dfa_datereturntotheresidence] as ReturnToTheResidenceDate
      ,[dfa_crpreceived] as CRPReceivedDate
      ,[dfa_bringforwarddate] as BringForwardDate  
      ,[dfa_atpercent] as AtPercent
      ,[dfa_balanceowing] as BalanceOwing
      ,[dfa_balanceowing_base] as BalanceOwingBase
      ,[dfa_claimstotalpayable] as ClaimsTotalPayable
      ,[dfa_claimstotalpayable_base] as ClaimsTotalPayabaleBase
      ,[dfa_claimstotalpayable80] as ClaimsTotalPayable80
      ,[dfa_claimstotalpayable80_base] as ClaimsTotalPayable80Base
      ,[dfa_embcamount80] as EMCRAmount80
      ,[dfa_embcamount80_base] as EMCRAmount80Base
      ,[dfa_embcapprovedamount] as EMCRApprovedAmount
      ,[dfa_embcapprovedamount_base] as EMCRApprovedAmountBase
      ,isnull(convert(nvarchar(40), i.[dfa_eventid]), '-1') as DimEventBK
      ,[dfa_federalclaimamounttotal] as FederalClaimAmount
      ,[dfa_federalclaimamounttotal_base] as FederalClaimAmountBase
      ,[dfa_forecastclaimamount] as ForecastClaimAmount
      ,[dfa_forecastclaimamount_base] as ForecastClaimAmountBase
      ,[dfa_ineligibleamounttotal] as IneligibleAmountTotal
      ,[dfa_ineligibleamounttotal_base] as IneligibleAmountTotalBase
      ,[dfa_less1000deductable] as Less1000Deductable
      ,[dfa_projectapprovedamountsubtotals] as ProjectApprovedAmountSubtotals
      ,[dfa_projectapprovedamountsubtotals_base] as ProjectApprovedAmountSubtotalsBase
      ,[dfa_provincialeligibleamounttotal] as ProvincialEligibalyAmountTotal
      ,[dfa_provincialeligibleamounttotal_base] as PRovincialEligibletAmountTotalBase
      ,[dfa_totalfederalclaimamount] as TotalFederalClaimAmount
      ,[dfa_totalfederalclaimamount_base] as TotalFederalClaimAmountBase
      ,[dfa_totalineligibleamount] as TotalIneligibleAmount
      ,[dfa_totalineligibleamount_base] as TotalIneligibleAmountBase
      ,[dfa_totalpaid] as TotalPaid
      ,[dfa_totalpaid_base] as TotalPaidBase
      ,[dfa_totalprovincialeligibleamount] as TotalProvincialEligibleAmount
      ,[dfa_totalprovincialeligibleamount_base] as TotalProvincialEligibleAmountBase
      ,[incidentid] as DimCaseBK
      ,[dfa_appealcloseddate] as AppealClosedDate
      ,[dfa_applicabledate] as ApplicableDate
      ,[dfa_approved] as Approved
      ,[dfa_approvedpercentage] as ApprovedPercentage
      ,[dfa_approvedtotal] as ApprovedTotal
      ,[dfa_approvedtotal_date] as ApprovedTotalDate
      ,[dfa_bpffinisheddate] as BPFFinishedDate
      ,[dfa_caseupdatedon] as CaseUpdatedDate
      ,[dfa_costsharingappovaldate] as CostSharingApprovalDate
      ,[dfa_dateofdamagefrom] as DamageFromDate
      ,[dfa_datepicked] as PickedDate
      ,[dfa_estimation] as Estimation
      ,[dfa_paidprojectamount] as PaidProjectAmount
      ,[dfa_paidprojectamount_date] as PaidProjectAmountDate
      ,[dfa_primarydate] as PrimaryDate
      ,[dfa_projectapprovedtotal] as ProvectApprovedTotal
      ,[dfa_projectapprovedtotal_date] as ProjectApprovedTotalDate
      ,[dfa_projectclaimtotal] as ProjectClaimTotal
      ,[dfa_secondarydate] as SecondaryDate
      ,[dfa_updatedon] as CaseUpdatedOnDate
	  , c.activestagestartedon as ClosePayStartedDate
  FROM [dfa_stage].[incident] i
  left join dfa_stage.dfa_effectedregioncommunity r
  on r.dfa_effectedregioncommunityid = i.dfa_effectedcommunityregionid
  left join (select bpf_incidentid, min(activestagestartedon) as activestagestartedon from dfa_stage.dfa_casebusinessprocess where activestageidname = 'Close/Pay' group by bpf_incidentid) c
	on i.incidentid = c.bpf_incidentid
GO
PRINT N'Adding schema binding to [dfa_rpt].[FactProject]...';


GO


ALTER        VIEW [dfa_rpt].[FactProject]
WITH SCHEMABINDING 
AS

/****** Script for SelectTopNRows command from SSMS  ******/
SELECT 
       a.[dfa_actualcostcalculatedwithapprovedpercentag]  as ActualCostCalculatedWithApprovedPercentage
      ,a.[dfa_actualcostcalculatedwithapprovedpercentag_base] as ActualCostCalculatedWithApprovedPercentageBase 
      ,a.[dfa_actualcostwithtax] as ActualCostWithTax
      ,a.[dfa_actualcostwithtax_base] as ActualCostWithTaxBase
      ,a.[dfa_approvedcost] as ApprovedCost
      ,a.[dfa_approvedcost_base] as ApprovedCostBase
      ,a.[dfa_approvedcostcalculatedwithpercentage] as ApprovedCostCalculatedWithPercentage
      ,a.[dfa_approvedcostcalculatedwithpercentage_base] as ApprovedCostCalculatedWithPercentageBase
      ,a.[dfa_approvedpercentages] as ApprovedPercentages
      ,a.[dfa_caseid] as DimCaseBK
      ,a.[dfa_dateofdamage] as DamageDate
      ,a.[dfa_dateofdamagefrom] as DamafeFromDate
      ,a.[dfa_dateofdamageto] as DamageToDate
      ,a.[dfa_estimatedcompletiondateofproject] as EstimatedCompletionDate
      ,a.[dfa_estimatedcost] as EstimatedCost
      ,a.[dfa_estimatedcost_base] as EstimatedCostBase
      ,a.[dfa_estimatedcostcalculatedpercentage] as EstimatedCostCalculatedPercentage
      ,a.[dfa_estimatedcostcalculatedpercentage_base] as EstimatedCostCalculatedPercentageBase
      ,a.[dfa_latestrequestforinfo] as LatestRequestForInfoDate
      ,a.[dfa_projectid] as DimProjectDetailBK
	  ,isnull(convert(nvarchar(40), b.[dfa_eventid]), '-1') as DimEventBK
	  , b.dfa_areacommunityid as DimLocationBK
	  , b.incidentid as DimCaseDetailBK
	  , a.dfa_projectapproveddate as 'ProjectApprovedDate'
	  , a.dfa_projectcompletiondate as 'ProjectCompletionDate'
	  , a.dfa_18monthdeadline as '18MonthDeadline'
	  , CONVERT(DATE, a.modifiedon) AS ProjectModifiedOn
	  , CONVERT(DATE, a.createdon) AS ProjectCreatedOn
	  , dfa_totalpaidafterpercent as TotalPaidAfterPercent
	  , ClaimPaidDate
  FROM [dfa_stage].[dfa_project] a
  JOIN [dfa_stage].incident b
	ON a.dfa_caseid = b.incidentid
  LEFT JOIN (SELECT MAX(dfa_claimpaiddate) as ClaimPaidDate
                   ,dfa_recoveryplanid as dfa_projectID
             FROM dfa_stage.dfa_projectclaim
			 WHERE dfa_claimpaiddate IS NOT NULL
			 GROUP BY dfa_recoveryplanid) c
    ON c.dfa_projectID = a.dfa_projectid
GO
PRINT N'Adding schema binding to [dfa_rpt].[DimCaseDetail]...';


GO




ALTER   VIEW [dfa_rpt].[DimCaseDetail]
WITH SCHEMABINDING 
AS

SELECT distinct
      [caseorigincodename] as CaseOrigin     
      ,a.[createdbyname] as CreatedByName     
      ,[customeridname] as Applicant   
      ,[description] as Description    
      ,[dfa_acopyofarentalagreementorleasename] as CopyOfRentAgreementOrLease
      ,[dfa_additionalapplicants] as AdditionalApplicants    
      ,[dfa_adminreviewrequiredname] as AdminReviewRequired
      ,[dfa_alistingofthedirectorsname] as AListingOfTheDirectors
      ,[dfa_alloccupantsidentifiedname] as AllApplicantsIdentified
      ,[dfa_alternatecontactidname] AlternateContact
      ,[dfa_appealstatusname] as AppealStatus
      ,[dfa_applicanttypename] as ApplicantType
      ,[dfa_applicationfordfaname] as ApplicationForDFA
      ,[dfa_applicationformsignedname] as ApplicationFormSigned
      ,[dfa_applicationnumber] as ApplicationNumber
      ,[dfa_areyounowresidingintheresidencename] as AreYouNowResidingInTheResidence
      ,[dfa_assignedtoname] as AssignedTo
      ,[dfa_assignmentcomment] as AssignmentText
      ,[dfa_bcaapropertyassessmentname] as BCAPropertyAssessment
      ,[dfa_bcassessmentrollreportifapplicantownsthename] as BCAAssessmentRollReportIfApplicantOwns
      ,[dfa_bcassessmentrollreportname] as BCAAssessmentRollReport
      ,[dfa_bcsocietiesregistrationname] as BCSocietiesRegistration
      ,[dfa_bringforwardcomments] as BringForwardComments
      ,[dfa_buildingownerlandlordname] as BuildingOwnerLandlord
      ,[dfa_businessmanagedbyallownersondaytodaybasisname] as BusinessManagedByAllOwnersDayToDay
      ,[dfa_causeofdamagelossname] as CauseOfDamageLoss
      ,[dfa_causeofdamagelossother] as CauseOfDamageLossOther
      ,[dfa_centralsecuritiesregistername] as CentralSecuritiesRegister
      ,[dfa_checkoutbyidname] as CheckOutBy
      ,[dfa_claimsummarysheetname] as ClaimSummarySheet
      ,[dfa_claimtypename] as ClaimType
      ,[dfa_compliancename] as Compliance
      ,[dfa_contentcalculationssheetname] as ContentCalculationSheet
      ,[dfa_coordinatorreviewrequiredname] as CoordinatorReviewRequired
      ,[dfa_covenantsname] as Covenants
      ,[dfa_damagedpropertypostalcode] as DamagedPropertyPostalCode
      ,[dfa_damagedpropertyprovince] as DamagedPropertyProvince
      ,[dfa_damagedpropertystreet1] as DamagedPropertyStreet1
      ,[dfa_damagedpropertystreet2] as DamagedPropertyStreet2
      ,[dfa_damagedpropertystreet3] as DamagedPropertyStreet3
      ,[dfa_diagramname] as Diagram
      ,[dfa_doyouhaveinsurancecoveragename] as DoYouHaveInsuranceCoverage
      ,[dfa_doyourlossestotalmorethan1000name] as DoYourLossesTotalMoreThan1000
      ,[dfa_eligibilitystatusname] as EligibilityStatus
      ,[dfa_eligibleforbchomegrantonthispropertyname] as EligibleForBCHomeGrantOnThisProperty
      ,[dfa_employlessthan50employeesatanyonetimename] EmployLessThan50EmployeesAtAnyOneTime
      ,[dfa_evaluationreportreceivedname] as EvaluationReportReceived
      ,[dfa_farmoperationderivesthatpersonsmajorincomname] as FarmOperationDerivesThatPersonsMajorIncome
      ,[dfa_farmoperationname] as FarmOperation
      ,[dfa_fieldmanagerassignmentname] as FieldManagerAssignment
      ,[dfa_fieldmanagername] as FieldManager
      ,[dfa_fieldmanagerreviewrequiredname] as FieldManagerReviewRequired
      ,[dfa_fileclosedname] as FileClosed
      ,[dfa_financialstatementsname] as FinancialStatements
      ,[dfa_fmcomments] as FMComments
      ,[dfa_grossrevenues100002000000beforedisastername] as GrossRevenues100002000000BeforeDisaster
      ,[dfa_haveinvoicesreceiptsforcleanuporrepairsname] as HaveInvoicesReceiptsForCleanupOrRepairs
      ,[dfa_homeownergranteligibilityconfirmedname] as HomeOwnerGrantEligibilityConfirmed
      ,[dfa_inacapprovalrecdname] as InACApprovalRecd
      ,[dfa_inaccomments] as InACComments
      ,[dfa_indigenouscomments1] as IndigenousComments
      ,[dfa_indigenousreserveresidencename] as IndigenousReserveResidence
      ,[dfa_indigenousstatuscardregistrynumber] as IndigenousStatusCardRegistryNumber
      ,[dfa_indigenousstatusname] as IndigenousStatus
      ,[dfa_ineligibleapplicationreasonname] as IneligibleApplicationReason
      ,[dfa_insurancelettername] as InsuranceLetter
      ,[dfa_insurancetemplatecompletedbyinsurerbrokername] as InsuranceTemplateCompletedByInsurerBroker
      ,[dfa_issamemailingaddressname] IsSameMailingAddress
      ,[dfa_isthispropertyyourprimaryresidencename] IsThisPropertyYourPrimaryResidence
      ,[dfa_landtitledocumentormobilehomeregistryinfoname] LandTitleDocumentOrMobileHomeRegistry
      ,[dfa_legaldescription] as LegalDescription
      ,[dfa_less1000deductable_base] as Less1000DeductableName
      ,[dfa_listofdamageditemsassessedname] as ListOfDamagedItemsAssessed
      ,[dfa_listofdirectorsname] as ListOfDirectors
      ,[dfa_localgoverningbodyidyominame] as LocalGoverningBody
      ,[dfa_mailingaddresspostalcode] as MailingAddressPostalCode
      ,[dfa_mailingaddressprovince] as MailingAddressProvince
      ,[dfa_mailingaddressstreet1] as MailingAddressStreet1
      ,[dfa_mailingaddressstreet2] as MailingAddressStreet2
      ,[dfa_mailingaddressstreet3] as MailingAddressStreet3
      ,[dfa_managerreviewrequiredname] as ManagerReviewRequired
      ,[dfa_manufacturedhomename] as ManufacturedHome
      ,[dfa_mostrecentcompletecorporateincometaxreturname] as MostRecentSompleteCorporateIncomeTaxReturn
      ,[dfa_mostrecentlyfiledfinancialstatementsname] as MostRecentlyFiledFinancialStatements
      ,[dfa_nameoffirstnationsreserve] as NameOfFirstNationsReserve
      ,[dfa_onfirstnationsreservename] as OnFirstNationsReserve
      ,[dfa_organizationstructureandpurposestatementename] as OrganizationStructureAndPurpose
      ,[dfa_orgregistrationproofunderbcsocietyaname] as OrgRegistrationProofUnderBCSociety
      ,[dfa_otherdamages] as OtherDamages
      ,[dfa_othersname] as Others
      ,[dfa_ownedandoperatedbyaname] as OwnedAndOperatedBy
      ,[dfa_payableto] as PayableTo
      ,[dfa_paymentletterissuedname] as PaymentLetterIssued
      ,[dfa_paymentletterreadyname] as PaymentLetterReady
      ,[dfa_photosname] as Photos
      ,[dfa_pid] as PID
      ,[dfa_primaryapplicantprintname] as PrimaryApplicant
      ,[dfa_primaryapplicantsignedname] as PrimaryApplicantSigned
      ,[dfa_primarycontactidname] as PrimaryContact
      ,[dfa_proofofownershipname] as ProofOfOwnership
      ,[dfa_qrcompletename] as QRComplete
      ,[dfa_readyforinspectionname] as ReadyForInspection
      ,[dfa_receiptsorinvoicespaidbyapplicantname] as ReceiptsOrInvoicesPaidByApplicant
      ,[dfa_receivedcopyofrentalagreementorleasename] as ReceivedCopyOfRentalAgreementOrLease
      ,[dfa_receivedrecoveryplanname] as ReceivedRecoveryPal
      ,[dfa_recoveryofficerreviewrequiredname] as RecoveryOfficerReviewRequired
      ,[dfa_relatedbusinessname] as RelatedBusiness
      ,[dfa_rentalleaseagreementorlandtitlename] as RentalLeaseAgreementOrLandTitle
      ,[dfa_rentalorleaseagreementname] as RentOrLeaseAgreement
      ,[dfa_reviewchecksummaryname] as ReviewCheckSummary
      ,[dfa_reviewedcleanuplogname] as ReviewedCleanupLog
      ,[dfa_scopeandcalculationssheetname] as ScopeAndCalculationSheet
      ,[dfa_secondaryapplicantprintname] as SecondaryApplicant
      ,[dfa_secondaryapplicantsignedname] as SecondaryApplicantSigned
      ,[dfa_supplementaryproofofprincipalresidencyidname] as SupplementaryProofofPrincipalResidency
      ,[dfa_suppliernumberrequestedname] as SupplierNumberRequested
      ,[dfa_uploadfmreportpmtltrname] as UploadFMReportPmtLtr
      ,[dfa_wereyouevacuatedduringtheeventname] as WereYouEvacuatedDuringTheEvent
      ,[dfa_writtenconfirmationofinsurancenotpurchasename] as WrittenConfirmationOfInsuranceNotPurchase
      ,[emailaddress] as EmailAddress
      ,[incidentid] as DimCaseBK
	  ,ISNULL([dfa_areacommunityidname] + ' #' + b.dfa_dfaauthno, title) as CaseTitle
	  , a.statuscodename as CaseStatus
	  , dfa_createdonportalname as CreatedOnPortal
	  -- ,[dfa_21dayletter]
      ,[dfa_21daylettername] as [21DayLetter]
      --,[dfa_acknowledgementletter]
      ,[dfa_acknowledgementlettername] as AcknowledgmentLetter
      ,[dfa_activeprojectnameandidfortemplates] ActiveProjectNameANDIDForTemplates
      ,[dfa_additionalapplicantsphonenumbersandemails] AdditionalApplicantPhoneNumbersAndEmails
      --,[dfa_additionalinforequested]
      ,[dfa_additionalinforequestedname] as AdditionalInfoRequested
      --,[dfa_additionalinformationreceived]
      ,[dfa_additionalinformationreceivedname] as AdditionalInformationReceived
      --,[dfa_additionalinformationrequested]
      ,[dfa_additionalinformationrequestedname] as AdditonalInformationRequested
      --,[dfa_adjudicatorassigned]
      ,[dfa_adjudicatorassignedname] as AdjudicatorAssigned
      --,[dfa_adjudicatorreviewcompleted]
      ,[dfa_adjudicatorreviewcompletedname] as AdjudacatorReviewCompleted
      --,[dfa_appapplication]
      ,[dfa_appapplicationname] as AppApplication
      --f,[dfa_appealcloseddate]
      --,[dfa_appealuploadedtoraft]
      ,[dfa_appealuploadedtoraftname] as AppealUploadedToRaft
      --f,[dfa_applicabledate]
      --,[dfa_applicationcasebpfstages]
      ,[dfa_applicationcasebpfstagesname] as ApplicationCaseBPFStage
      --,[dfa_applicationcasebpfsubstages]
      ,[dfa_applicationcasebpfsubstagesname] as ApplicationCaseBPFSubStage
      --f,[dfa_approved] as 
      --f,[dfa_approvedpercentage]
      --f,[dfa_approvedtotal]
      --,[dfa_approvedtotal_base]
      --f,[dfa_approvedtotal_date]
      ,[dfa_approvedtotal_state]
      --,[dfa_areyounowresidingintheresidence2]
      ,[dfa_areyounowresidingintheresidence2name] as AreYouNowResidingInTheResidence2
      --,[dfa_awaitingfirstproject]
      ,[dfa_awaitingfirstprojectname] as AwaitingFirstProject
      --f,[dfa_bpffinisheddate]
      ,[dfa_builderlandlordcontactinformation] as BuilderLandlordContactInformation
      --,[dfa_caseupdated]
      ,[dfa_caseupdatedname] as CaseUpdated
      --f,[dfa_caseupdatedon]
      --,[dfa_charityexistsatleast12months]
      ,[dfa_charityexistsatleast12monthsname] as CharityExistsAtLeast12Months
      --,[dfa_charityprovidescommunitybenefit]
      ,[dfa_charityprovidescommunitybenefitname] as CharityProvidesCommunityBenefit
      --,[dfa_charityregistered]
      ,[dfa_charityregisteredname] CharityRegistered
      --,[dfa_cliffappealrequest]
      ,[dfa_cliffappealrequestname] CliffAppealRequest
      --,[dfa_confirmedsecondbuildinglandlord]
      ,[dfa_confirmedsecondbuildinglandlordname] ConfirmedSecondBuildingLandlord
      --,[dfa_corporateowned]
      ,[dfa_corporateownedname] as CorporateOwned
      --f,[dfa_costsharingappovaldate]
      --,[dfa_costsharingapprover]
      ,[dfa_costsharingapprovername] as CostSharingApprover
      ,[dfa_costsharingapproveryominame] CostSharingApproverYOM
     -- ,[dfa_createdonportal]
     -- ,[dfa_createdonportalname]
      --,[dfa_currentapplicantname]
      ,[dfa_currentapplicantnamename] as CurrentApplicant
      ,[dfa_currentstagename] as CurrentStage
      --f,[dfa_dateofdamagefrom]
      --f,[dfa_datepicked]
      --,[dfa_decisionlettersenttoappellant]
      ,[dfa_decisionlettersenttoappellantname] as DecisionLetterSentToAppellant
      --,[dfa_decisionletteruploadedtoraft]
      ,[dfa_decisionletteruploadedtoraftname] as DecisionLetterUploadedToRaft
      --,[dfa_dfa_areyounowresidingintheresidence2]
      --,[dfa_dfa_areyounowresidingintheresidence2name] as AreYouNowResidingInTheResidence2
      --,[dfa_doyouhaveinsurancecoverage2]
      ,[dfa_doyouhaveinsurancecoverage2name] as DoYouHaveInsuranceCoverage2
      --,[dfa_doyouhaveinsurancecoverage3]
      ,[dfa_doyouhaveinsurancecoverage3name] as DoYouHaveInsuranceCoverage3
      --,[dfa_doyourlossestotalmorethan10002]
      ,[dfa_doyourlossestotalmorethan10002name] as DoYourLossesTotalMoreThan10002
      --,[dfa_eligibleforbchomegrantonthisproperty2]
      ,[dfa_eligibleforbchomegrantonthisproperty2name] as EligibleForBCHomeGrantOnThisProperty2
      --,[dfa_eligiblegst]
      ,[dfa_eligiblegstname] as EligibleStage
      --f,[dfa_estimation]
      --,[dfa_farmtype]
      ,[dfa_farmtypename] as FarmType
      --,[dfa_finalappealstatus]
      ,[dfa_finalappealstatusname] as FinalAppealStatus
      --,[dfa_firstprojectreceived]
      ,[dfa_firstprojectreceivedname] as FirstProjectReceived
      --,[dfa_flooddamage]
      ,[dfa_flooddamagename] as FloodDamage
      --,[dfa_governmenttype] 
      ,[dfa_governmenttypename] as GovernmentType
      --,[dfa_iamtheonlypersoninthehome]
      ,[dfa_iamtheonlypersoninthehomename] as IAmTheOnlyPersonInTheHome
      --,[dfa_idonthaveanothercontact]
      ,[dfa_idonthaveanothercontactname] as IDontHaveAnotherContact
      --,[dfa_indigenousstatus2]
      ,[dfa_indigenousstatus2name] as IndigenousStatus2
      --,[dfa_ineligibilityreason]
      ,[dfa_ineligibilityreasonname] as IneligibilityReason
      --,[dfa_intromtgwithcommunity]
      ,[dfa_intromtgwithcommunityname] as IntroMtgWithCommunity
      --,[dfa_isthedamagedpropertyonafirstnationreserve]
      ,[dfa_isthedamagedpropertyonafirstnationreservename] as IsTheDamagedProprtyOnAFirstNationReserve
      --,[dfa_isthispropertyyourprimaryresidence2]
      ,[dfa_isthispropertyyourprimaryresidence2name] as IsThisPropertyYourPrimaryResidence2
      --,[dfa_isyourhomeamanufacturedhome]
      ,[dfa_isyourhomeamanufacturedhomename] as IsYourHomeManufacturedHome
      --,[dfa_landlord]
      ,[dfa_landlordname] as Landlord
      --,[dfa_landslidedamage]
      ,[dfa_landslidedamagename] as LandSlideDamage
      --,[dfa_lgcaseupdated]
      ,[dfa_lgcaseupdatedname] as LGCaseUpdated
      ,[dfa_mailingaddresscity] as MailingAddresCity
      ,[dfa_othercontactnames] as OtherContactNames
      ,[dfa_othercontactphonenumberandemails] as OtherContactPhoneNumbersAndEmails
      --,[dfa_otherdamage]
      ,[dfa_otherdamagename] as OtherDamage
      --f,[dfa_paidprojectamount]
     -- ,[dfa_paidprojectamount_base]
      --f,[dfa_paidprojectamount_date]
      --,[dfa_paidprojectamount_state] as PaidProjectAmountState
      ,[dfa_pleasespecifyifothersselected] as PleaseSpecifyIfOtherSelected
      ,[dfa_previousdfaapplication] as PreviousDFAApplication
      ,[dfa_previousdfaapplicationdetails] as PreviousDFAApplicationDetails
      --,[dfa_previousdfaapplicationname]
      --,[dfa_primarycontact]
      ,[dfa_primarycontactidtype] as PrimaryContactIDType
      ,[dfa_primarycontactname] as PrimaryContactName
      ,[dfa_primarycontactyominame] as PrimaryContactYOMName
      --f,[dfa_primarydate]
      ,[dfa_primaryinsurancename] as PrimaryInsuranceName
      --f,[dfa_projectapprovedtotal]
      --,[dfa_projectapprovedtotal_base]
      --f,[dfa_projectapprovedtotal_date]
      --,[dfa_projectapprovedtotal_state] as ProjectApproved
      --f,[dfa_projectclaimtotal]
      --,[dfa_projectclaimtotal_base]
      --f,[dfa_projectclaimtotal_date]
      --,[dfa_projectclaimtotal_state]
      ,[dfa_projectnames] as ProjectNames
      --,[dfa_referredtocr]
      ,[dfa_referredtocrname] as ReferredToCR
      --,[dfa_returnedfromevaluator]
      ,[dfa_returnedfromevaluatorname] as ReturnedFromEvaluator
      --f,[dfa_secondarydate]
      ,[dfa_secondaryinsurancename] as SecondaryInsurance
      --,[dfa_senttoevaluator]
      ,[dfa_senttoevaluatorname] as SentToEvaluator
      --,[dfa_smallbusinesstype]
      ,[dfa_smallbusinesstypename] as SmallBusinessType
      ,[dfa_stagecasecreated] as StageCaseCreated
      ,[dfa_stagecaseinprogress] as StageCaseInProgress
      ,[dfa_stagecreatingcasefile] as StageCreatingCaseFile
      ,[dfa_stagedraft] as StageDraft
      ,[dfa_stagereviewingapplication] as StageReviewingApplication
      ,[dfa_stagesubmitted] as StageSubmitted
      --,[dfa_stormdamage]
      ,[dfa_stormdamagename] as StormDamage
      --,[dfa_submittedtodirectorforreview]
      ,[dfa_submittedtodirectorforreviewname] as SubmittedToDirectorForReview
      --,[dfa_timelinenoteaddedappealclosed]
      ,[dfa_timelinenoteaddedappealclosedname] as TimeLineNoteAddedAppealClosed
      --,[dfa_timelinenoteaddedappealrecieved]
      ,[dfa_timelinenoteaddedappealrecievedname] TimeLineNoteAddedAppealReceived
      --,[dfa_togglecontactinfopopulation]
      ,[dfa_togglecontactinfopopulationname] as ToggleContactInformationPopulation
      --f,[dfa_updatedon]
      --,[dfa_wereyouevacuatedduringtheevent2]
      ,[dfa_wereyouevacuatedduringtheevent2name] as WereYouVacantDuringTheEvent
  FROM [dfa_stage].[incident] a
  inner join [dfa_stage].[dfa_event] b on a. dfa_eventid = b.dfa_eventid
GO
PRINT N'Adding schema binding to [dfa_rpt].[DimEventDetail]...';


GO



ALTER VIEW [dfa_rpt].[DimEventDetail]
WITH SCHEMABINDING 
AS

SELECT distinct [dfa_eventid] as DimEventBK
      ,[dfa_description] as Description
      ,[dfa_dfaauthno] as AuthNo
      ,[dfa_eventscopename] as Scope
      ,[dfa_id] as EventID
	  ,[statuscodename] as IsActive
	  , dfa_hazardtypename as HazardType
  FROM [dfa_stage].[dfa_event]
GO
PRINT N'Adding schema binding to [dfa_rpt].[FactEvent]...';


GO

ALTER VIEW dfa_rpt.FactEvent
WITH SCHEMABINDING 
AS

SELECT 
	[dfa_eventid] as FactEventBK
	,[dfa_eventid] as DimEventBK
	      ,[dfa_id] as EventID
      ,[dfa_90daydeadline] as [90DayDeadlineDate]
      ,[dfa_dateofevent] as EventDate
      ,[dfa_dateofeventdeclaredrevised] as EventDateRevised
      ,[dfa_dateofeventdeclaredrevised2] as EventDateRevised2
      ,[dfa_deadlinedate] as DeadlineDate
      ,[dfa_numberofcommunitiesapplied] as NumberOfCommunitiesApplied
      --,[dfa_numberofcommunitiesinopenstatus] as 
      ,[dfa_numberofcommunitieswithcrp] as NumberOfCommunitiesWithCRP
      ,[dfa_numberofcommunitieswithdrawn] as NumberOfCommunitiesWithdrawn
      ,[dfa_startdate] as StartDate
      ,[dfa_totalapprovedcrpvalue] as TotalApprovedCRPValue
      ,[dfa_totalapprovedcrpvalue_base] as TotalApprovedCRPValueBase
      ,[dfa_totalclaimedamounbt] as TotalClaimedAmount
      ,[dfa_totalclaimedamounbt_base] as TotalClaimedAmountBase
      ,[dfa_totalclaimedamounbt_date] as TotalClaimedAmountDate
      --,[dfa_totalclaimedamounbt_state] 
      ,[dfa_totalcrpvalue] as TotalCRPValue
      ,[dfa_totalcrpvalue_base] as TotalCRPValueBase
      ,[dfa_totalnumberofapprovedcrp] as TotalNumberOfApprovedCRP
  FROM [dfa_stage].[dfa_event]
GO
PRINT N'Adding schema binding to [dfa_rpt].[DimProjectDetail]...';


GO




ALTER VIEW [dfa_rpt].[DimProjectDetail]
WITH SCHEMABINDING 
AS

SELECT distinct
      [dfa_18monthdeadline] as EighteenMonthDeadline
      ,[dfa_descriptionofdamage] as DescriptionOfDamage
      ,[dfa_descriptionofdamagedinfrastructure] as DescriptionofDamagedInfrastructure
      ,[dfa_descriptionofdamagewithmaterial] as DescriptionOfDamagedMaterial
      ,[dfa_descriptionofmaterialneededtorepair] as DescriptionofMaterialNeededToRepair
      ,[dfa_descriptionofrepairwork] as DescriptionOfRepairWork
      ,[dfa_descriptionofthecauseofdamage] as DescriptionOfTheCauseOfDamage
      ,[dfa_isbeingappealedname] as IsBeingAppealed
      ,[dfa_projectid] as DimProjectDetailBK
      ,[dfa_projectname] as ProjectName
      ,[dfa_projectnumber] as ProjectNumber
      ,[dfa_projecttypename] as ProjectType
      ,[dfa_sitelocation] as SiteLocation
	  , statuscodename as ProjectStatus
	  , dfa_createdonportalname as CreatedOnPortal
	  -- ,--f[dfa_totalpaidafterpercent]
     -- ,--[dfa_activeprojectfortemplates]
      ,[dfa_activeprojectfortemplatesname] ActiveProjectForTemplates
     -- ,--[dfa_adjudication]
      ,[dfa_adjudicationname] Adjudication
     -- ,--[dfa_adjudicatoradditionalinforequested]
      ,[dfa_adjudicatoradditionalinforequestedname] AdjudicatorAdditionalInfoRequested
     -- ,--[dfa_adjudicatoradjustmentsforigbletter]
      ,[dfa_adjudicatoradjustmentsforigblettername] AdjudicatorAdjustmentsForIGBLetter
     -- ,--[dfa_adjudicatorbackupdocuments]
      ,[dfa_adjudicatorbackupdocumentsname] AdjudicatorBackupDocuments
     -- ,--[dfa_adjudicatoreligibleprojectscope]
      ,[dfa_adjudicatoreligibleprojectscopename] AdjudicatorEligibleProjectScope
     -- ,--[dfa_adjudicatorgenerateapprovalletter]
      ,[dfa_adjudicatorgenerateapprovallettername] AdjudicatorGenerateApprovalLetter
     -- ,--[dfa_adjudicatorpreexistingcondition]
      ,[dfa_adjudicatorpreexistingconditionname] AdjudicatorPreExistingCondition
     -- ,--[dfa_adjudicatorstampalldocs]
      ,[dfa_adjudicatorstampalldocsname] AdjudicatorStampAllDocs
     -- ,--[dfa_adjustmentclaimunderreview]
      ,[dfa_adjustmentclaimunderreviewname] AdjustmentClaimUnderReview
     -- ,--[dfa_amendmentpendingapprovalassignedtoevaluat]
      ,[dfa_amendmentpendingapprovalassignedtoevaluatname] AmendmentPendingApprovalAssignedToEvaluate
     -- ,--[dfa_amendmentpendingapprovalmoreinforrequeste]
      ,[dfa_amendmentpendingapprovalmoreinforrequestename] AmendmentPendingApprovalMoreInfoRequested
     -- ,--[dfa_amendmentsubmitted]
      ,[dfa_amendmentsubmittedname] AmendmentSubmitted
     -- ,--[dfa_applicationid]
      ,[dfa_applicationidname] ApplicationID
     -- ,--[dfa_approvalpendingadditionalinforequested]
      ,[dfa_approvalpendingadditionalinforequestedname] ApprovalPendingAdditionalInfoRequested
     -- ,--[dfa_approvalpendinginprogress]
      ,[dfa_approvalpendinginprogressname] ApprovalPendingInProgress
      --,--f[dfa_approvedamendedprojectcost]
      --,--[dfa_approvedamendedprojectcost_base]
      --,--f[dfa_approvedclaimtotalcopy]
      --,--[dfa_approvedclaimtotalcopy_base]
      --,--f[dfa_approvedcostsharingamount]
      --,--[dfa_approvedcostsharingamount_base]
      --,--f[dfa_approvedtotal]
      --,--[dfa_approvedtotal_base]
      --,--f[dfa_approvedtotal_date]
      --,--[dfa_approvedtotal_state]
      --f,[dfa_approvedtotalcopy]
      --,[dfa_approvedtotalcopy_base]
      --f,[dfa_approvedtotalminuscostsharing]
      --,[dfa_approvedtotalminuscostsharing_base]
      --f,[dfa_approvedtotalminuscostsharing_date]
      --,[dfa_approvedtotalminuscostsharing_state]
      --,[dfa_assignedtoadjudicator]
      ,[dfa_assignedtoadjudicatorname] AssignedToAdjudicator
      --,[dfa_assignedtoevaluator]
      ,[dfa_assignedtoevaluatorname] AssignedToEvaluator
      --f,[dfa_bpfclosedate]
      --f,[dfa_claimeligiblegst]
      --,[dfa_claimeligiblegst_base]
      --f,[dfa_claimeligiblegst_date]
      --,[dfa_claimeligiblegst_state]
      --f,[dfa_claimtotal]
      --,[dfa_claimtotal_base]
      --f,[dfa_claimtotal_date]
      --,[dfa_claimtotal_state]
      --f,[dfa_claimtotalcopy]
      --,[dfa_claimtotalcopy_base]
      --,[dfa_compliancecheck]
      --,[dfa_compliancecheckadjustmentsforigbletter]
      ,[dfa_compliancecheckadjustmentsforigblettername] ComplianceCheckAdjustmentsForIBGLetter
      --,[dfa_compliancecheckbackupdocuments]
      ,[dfa_compliancecheckbackupdocumentsname] ComplianceCheckBackupDocuments
      --,[dfa_compliancecheckccadditionalinforequested]
      ,[dfa_compliancecheckccadditionalinforequestedname] ComplianceCheckAdditionalInfoRequested
      --,[dfa_compliancecheckeligibleprojectscope]
      ,[dfa_compliancecheckeligibleprojectscopename] ComplianceCheckEligibleProjectScope
      --,[dfa_compliancecheckgenerateapprovalletter]
      ,[dfa_compliancecheckgenerateapprovallettername] ComplianceCheckGenerateApprovalLetter
      ,[dfa_compliancecheckname] ComplianceCheck
      --,[dfa_compliancecheckpreexistingcondition]
      ,[dfa_compliancecheckpreexistingconditionname] CoimplianceCheckPreExistingCondition
      --,[dfa_compliancecheckstampalldocs]
      ,[dfa_compliancecheckstampalldocsname] ComplianceCheckStampAllDocs
      --,[dfa_costsharing]
      --f,[dfa_costsharingadjustment]
      --,[dfa_costsharingadjustment_base]
      --,[dfa_costsharingtemp] CostSharingTemp
      --,[dfa_createdonportal]
      --,[dfa_createdonportalname]
      --f,[dfa_dateofdamagedifferencereason]
      --f,[dfa_dateofdamagesameasapplication]
      --f,[dfa_dateofdamagesameasapplicationname]
      --,[dfa_documentaddednotifydfaoncaserecord]
      ,[dfa_documentaddednotifydfaoncaserecordname] DocumentAddedNotifyDFAOnCaseRecord
      ,[dfa_emcrapprovalcomments] EMCRApprovalComments
      --,[dfa_expenseauthority]
      --,[dfa_expenseauthorityeaadditionalinforequest]
      ,[dfa_expenseauthorityeaadditionalinforequestname] ExpenseAuthorityAdditionalInfoRequested
      ,[dfa_expenseauthorityname] ExpenseAuthority
      --,[dfa_firstclaim]
      ,[dfa_firstclaimname] FirstClaimName
      --f,[dfa_paidclaimamount]
      --,[dfa_paidclaimamount_base]
      --f,[dfa_paidclaimamount_date]
      --,[dfa_paidclaimamount_state]
      --f,[dfa_paidclaimamountcopy]
      --,[dfa_paidclaimamountcopy_base]
      --f,[dfa_paidprojectamount]
      --,[dfa_paidprojectamount_base]
      --f,[dfa_paidprojectamount_date]
      --,[dfa_paidprojectamount_state]
      --,[dfa_pendingadjuducation]
      ,[dfa_pendingadjuducationname] PendingAdjudication
      --,[dfa_portalsubmitted]
      ,[dfa_portalsubmittedname] PortalSubmitted
      --,[dfa_projectbusinessprocessstages]
      ,[dfa_projectbusinessprocessstagesname] ProjectBusinessProcessStage
      --,[dfa_projectbusinessprocesssubstages]
      ,[dfa_projectbusinessprocesssubstagesname] ProjectBusinessProcessSubStage
      --f,[dfa_projectcostforecast]
      --,[dfa_projectcostforecast_base]
      --,[dfa_projectdecision]
      ,[dfa_projectdecisionname] ProjectDecision
      --,[dfa_projectrole]
      ,[dfa_projectrolename] ProjectRole
      --f,[dfa_projectsubmitteddate]
      ,[dfa_projecttypeother] ProjectTypeOther
      --,[dfa_qualifiedreceiver]
      ,[dfa_qualifiedreceivername] QualifiedReceiver
      --,[dfa_qualifiedreceiverqradditionalinforeques] 
      ,[dfa_qualifiedreceiverqradditionalinforequesname] QualifiedReceiverAdditionalInfoRequested
      --,[dfa_qualifiedreciever]
      ,[dfa_qualifiedrecievername] QualifiedReciever
      --,[dfa_requiresdecisionnote]
      ,[dfa_requiresdecisionnotename] RequiresDecisionNote
      ,[dfa_stageadjudicator] StageAdjudicator
      ,[dfa_stageapprovalpending] StageApprovalPending
      ,[dfa_stagecompliancecheck] StageComplianceCheck
      ,[dfa_stagedecisionmade] StageDecisionMade
      ,[dfa_stagedraft] StageDraft
      ,[dfa_stageexpenseauthority] StageExpenseAuthority
      ,[dfa_stagequalifiedreciever] StageQualifiedReceiver
      ,[dfa_stagesubmitted] StageSubmitted
      ,[dfa_stageunderreview] StageUnderReview
      --,[dfa_submitted]
      ,[dfa_submittedname] Submitted
      --f,[dfa_totalactualclaim]
      --,[dfa_totalactualclaim_base]
      --f,[dfa_totalactualclaim_date]
      --,[dfa_totalactualclaim_state]
      --f,[dfa_totalgrossgst]
      --,[dfa_totalgrossgst_base]
      --f,[dfa_totalgrossgst_date]
      --,[dfa_totalgrossgst_state]
      --f,[dfa_totalgrossgstcopy]
      --,[dfa_totalgrossgstcopy_base]
      --f,[dfa_totalnetinvoicedbeingclaimed]
      --,[dfa_totalnetinvoicedbeingclaimed_base]
      --f,[dfa_totalnetinvoicedbeingclaimed_date]
      --,[dfa_totalnetinvoicedbeingclaimed_state]
      --f,[dfa_totalnetinvoicedbeingclaimedcopy]
      --,[dfa_totalnetinvoicedbeingclaimedcopy_base]
      --,[dfa_totalpaidafterpercent_base]
      --f,[dfa_totalpst]
      --,[dfa_totalpst_base]
      --f,[dfa_totalpst_date]
      --,[dfa_totalpst_state]
      --f,[dfa_totalpstcopy]
      --,[dfa_totalpstcopy_base]
      --f,[dfa_trueforecast]
      --,[dfa_trueforecast_base]
      --,[dfa_underreviewadditionalinforequested]
      ,[dfa_underreviewadditionalinforequestedname] UnderReviewAdditionalInfoRequested
      --,[dfa_underreviewinprogress]
      ,[dfa_underreviewinprogressname] UnderReviewInProgress
      --,[dfa_waitingonpolicylegal]
      ,[dfa_waitingonpolicylegalname] WaitingOnPolicyLegal
  FROM [dfa_stage].[dfa_project]
GO
PRINT N'Adding schema binding to [dfa_rpt].[FactClaim]...';


GO

ALTER VIEW dfa_rpt.FactClaim
WITH SCHEMABINDING 
AS

SELECT a.[createdon] as ClaimDate
      ,a.[statuscode] as DimClaimStatusBK
      --,[dfa_calimtype]
      ,[dfa_caseid] as DimCaseBK
      --,[dfa_caseidname]
      ,[dfa_claimsummaryid] as FactClaimBK
      ,[dfa_claimtypeos] as DimClaimTypeBK
	  , b.[dfa_eventid] as DimEventBK
      --,[dfa_claimtypeosname]
      --,[dfa_descriptionofineligibleitems]
      --,[dfa_displayorder]
      ,[dfa_federalclaim] as FederalClaim
      ,[dfa_federalclaim_base] as FederalClaimBase
      ,[dfa_ineligibleamount] as IneligibleAmount
      ,[dfa_ineligibleamount_base] as IneligibleAmountBase
      ,[dfa_provincialeligibleamount] as ProvincialEligibleAmount
      ,[dfa_provincialeligibleamount_base] as ProvincialEligibleAmountBase
      --,[exchangerate]
      --,[transactioncurrencyid]
      --,[transactioncurrencyidname]
      --,[Created_Load_Id]
      --,[Modified_Load_Id]
  FROM [dfa_stage].[dfa_claimsummary] a
  inner join [dfa_stage].incident b
	on a.dfa_caseid = b.incidentid
GO
PRINT N'Adding schema binding to [dfa_rpt].[FactProjectClaim]...';


GO





ALTER VIEW [dfa_rpt].[FactProjectClaim]
WITH SCHEMABINDING 
AS

SELECT 
      a.[dfa_caseid] as DimCaseBK
      ,a.[dfa_claimamount] as ClaimAmount
      ,a.[dfa_claimamount_base] as ClaimAmountBase
      ,a.[dfa_claimpaiddate] as ClaimPaidDate
      ,a.[dfa_claimreceiveddate] as ClaimReceivedDate
      ,a.[dfa_name] as CLaimName
      ,[dfa_onetimedeductionamount] as OneTimeDeductionAmount
      ,[dfa_onetimedeductionamount_base] as OneTimeDeductionAmountBase
      ,[dfa_recoveryplanid] as DimProjectDetailBK
	  ,[dfa_projectclaimid] as DimProjectClaimDetailBK
	  ,isnull(c.dfa_totalafterpercentcut, 0) as TotalAfterPercentCut
   ,isnull(convert(nvarchar(40), b.[dfa_eventid]), '-1') as DimEventBK
   , b.dfa_areacommunityid as DimLocationBK
   , b.incidentid as DimCaseDetailBK
  FROM [dfa_stage].[dfa_projectclaim] a
  inner join [dfa_stage].incident b
	on a.dfa_caseid = b.incidentid
  left join [dfa_stage].dfa_projectstatusreport c
	on a.dfa_projectstatusreportid = c.dfa_projectstatusreportid
GO
PRINT N'Altering [dfa_rpt].[DimProjectClaimDetail]...';


GO


ALTER VIEW [dfa_rpt].[DimProjectClaimDetail]
WITH SCHEMABINDING 
AS

SELECT --[createdby]
      --,[createdbyname]
      --,[createdbyyominame]
      --,[createdon]
      --,[createdonbehalfby]
      --,[createdonbehalfbyname]
      --,[createdonbehalfbyyominame]
      --,[dfa_caseid]
      --[dfa_caseidname] as CaseTitle
      --,[dfa_claimamount]
      --,[dfa_claimamount_base]
      --,[dfa_claimpaiddate]
      --,[dfa_claimreceiveddate]
      [dfa_name] as ProjectClaimName
      --,[dfa_onetimedeductionamount]
      --,[dfa_onetimedeductionamount_base]
      ,[dfa_projectclaimid] as DimProjectDetailBK
      --,[dfa_projectstatusreportid]
      --,[dfa_projectstatusreportidname]
      --,[dfa_recoveryplanid]
      --,[dfa_recoveryplanidname]
      --,[exchangerate]
      --,[importsequencenumber]
      --,[modifiedby]
      --,[modifiedbyname]
      --,[modifiedbyyominame]
      --,[modifiedon]
      --,[modifiedonbehalfby]
      --,[modifiedonbehalfbyname]
      --,[modifiedonbehalfbyyominame]
      --,[overriddencreatedon]
      --,[ownerid]
      ,[owneridname]
     -- ,[owneridtype]
      --,[owneridyominame]
      --,[owningbusinessunit]
      --,[owningteam]
      --,[owninguser]
      --,[statecode]
      --,[statecodename]
      --,[statuscode]
      --,[statuscodename]
      --,[timezoneruleversionnumber]
      --,[transactioncurrencyid]
      --,[transactioncurrencyidname]
      --,[utcconversiontimezonecode]
      --,[versionnumber]
      --,[dfa_isfirstclaim]
      ,[dfa_isfirstclaimname] IdFirstClaim
      --,[Created_Load_Id]
      --,[Modified_Load_Id]
	  ,dfa_createdonportalname as CreatedOnPortal
	  -- ,[dfa_adjudicatoradditionalinfore]
      ,[dfa_adjudicatoradditionalinforename] AdjudicatorAdditionalInfoRequested
      --,[dfa_adjudicatorbluebookrates]
      ,[dfa_adjudicatorbluebookratesname] AdjudicatorBlueBookRates
      --,[dfa_adjudicatorcontracts]
      ,[dfa_adjudicatorcontractsname] AdjudicatorContracts
      --,[dfa_adjudicatorgeneralledger]
      ,[dfa_adjudicatorgeneralledgername] AdjudicatorGeneralLedger
      --,[dfa_adjudicatorovertimewagedocumentation]
      ,[dfa_adjudicatorovertimewagedocumentationname] AdjudicatorOvertimeWageDocumentation
      --,[dfa_adjudicatorproofofpayment]
      ,[dfa_adjudicatorproofofpaymentname] AdjudicatorProofOfPayment
      --,[dfa_adjudicatorreviewedinvoice]
      ,[dfa_adjudicatorreviewedinvoicename] AdjudicatorReviewedInvoice
      --,[dfa_adjustmentclaimunderreview]
      ,[dfa_adjustmentclaimunderreviewname] AdjustmentClaimUnderReview
      --,[dfa_approvalpendingadditionalinforequested]
      ,[dfa_approvalpendingadditionalinforequestedname] ApprovalPendingAdditionalInfoRequested
      --,[dfa_approvalpendinginprogress]
      ,[dfa_approvalpendinginprogressname] ApprovalPendingInProgress
      --,[dfa_approvalpendingrole]
      ,[dfa_approvalpendingrolename] ApprovalPendingRole
      --f,[dfa_approvedtotal]
      ---,[dfa_approvedtotal_base]
      --,[dfa_approvedtotal_date]
      --,[dfa_approvedtotal_state]
      --f,[dfa_approvedtotalcopy]
      --,[dfa_approvedtotalcopy_base]
      --f,[dfa_approvedtotalminuscostsharing]
      --,[dfa_approvedtotalminuscostsharing_base]
      --f,[dfa_approvedtotalminuscostsharingcopy]
      --,[dfa_approvedtotalminuscostsharingcopy_base]
      --,[dfa_assignedtoadjudicator]
      ,[dfa_assignedtoadjudicatorname] AssignedToAdjudicator
      --f,[dfa_bpfclosedate]
      --,[dfa_claimbpfstages]
      ,[dfa_claimbpfstagesname] ClaimBPFStage
      --,[dfa_claimbpfsubstages]
      ,[dfa_claimbpfsubstagesname] ClaimBPFSubStage
      --f,[dfa_claimeligiblegstcopy]
      --,[dfa_claimeligiblegstcopy_base]
      --f,[dfa_claimreceivedbyemcrdate]
      --f,[dfa_claimtotal]
      --,[dfa_claimtotal_base]
      --,[dfa_claimtotal_date]
      --,[dfa_claimtotal_state]
      --f,[dfa_claimtotalcopy]
      --,[dfa_claimtotalcopy_base]
      --,[dfa_compliancecheckadditionalinfore]
      ,[dfa_compliancecheckadditionalinforename] ComplianceCheckedAdditionalInfoRequested
      --,[dfa_compliancecheckbluebookrates]
      ,[dfa_compliancecheckbluebookratesname] ComplianceCheckBlueBookRates
      --,[dfa_compliancecheckcontracts]
      ,[dfa_compliancecheckcontractsname] ComplianceCheckContracts
      --,[dfa_compliancecheckgeneralledger]
      ,[dfa_compliancecheckgeneralledgername] ComplianceCheckGeneralLedger
      --,[dfa_compliancecheckovertimewagedocumentation]
      ,[dfa_compliancecheckovertimewagedocumentationname] ComplianceCheckOvertimeWageDocumentation
      --,[dfa_compliancecheckproofofpayment]
      ,[dfa_compliancecheckproofofpaymentname] ComplianceCheckProofOdPayment
      --,[dfa_compliancecheckreviewedinvoice]
      ,[dfa_compliancecheckreviewedinvoicename] ComplianceCheckReviewedInvoice
      --f,[dfa_costsharing]
      --f,[dfa_costsharingadjustment]
      --,[dfa_costsharingadjustment_base]
      --f,[dfa_costsharingadjustmentvalue]
      --,[dfa_costsharingadjustmentvalue_base]
      --f,[dfa_costsharingtemp]
      --,[dfa_createdonportal]
      --,[dfa_createdonportalname]
      --,[dfa_decision]
      --,[dfa_decisioncopy]
      ,[dfa_decisioncopyname] DecisionCopy
      ,[dfa_decisionname] Decision
      --f,[dfa_eligiblepayable]
      --,[dfa_eligiblepayable_base]
      --f,[dfa_eligiblerecoverypayableat90]
      --,[dfa_eligiblerecoverypayableat90_base]
      --,[dfa_expenseauthority]
      --,[dfa_expenseauthorityadditionalinfore]
      ,[dfa_expenseauthorityadditionalinforename] ExpenseAuthorityAdditionalInfoRequested
      --,[dfa_expenseauthoritybluebookrates]
      ,[dfa_expenseauthoritybluebookratesname] ExpenseAuthorityBlueBookRates
      --,[dfa_expenseauthoritycontracts]
      ,[dfa_expenseauthoritycontractsname] ExpenseAuthorityContracts
      --,[dfa_expenseauthoritygeneralledger]
      ,[dfa_expenseauthoritygeneralledgername] ExpenseAuthorityGeneralLedger
      ,[dfa_expenseauthorityname] ExpenseAuthority
      --,[dfa_expenseauthorityovertimewagedocumentation]
      ,[dfa_expenseauthorityovertimewagedocumentationname] ExpenseAuthorityOvertimeDocumentation
      --,[dfa_expenseauthorityproofofpayment]
      ,[dfa_expenseauthorityproofofpaymentname] ExpenseAuthorityProofOfPayment
      --,[dfa_expenseauthorityreviewedinvoice]
      ,[dfa_expenseauthorityreviewedinvoicename] ExpenseAuthorityReviewedInvoice
      --,[dfa_finalclaim]
      ,[dfa_finalclaimname] FinalClaim
      --,[dfa_invoicechange]
      ,[dfa_invoicechangename] InvoiceChange
      --,[dfa_isadjustmentclaim]
      ,[dfa_isadjustmentclaimname] IsAdjustmentClaim
      --f,[dfa_lessfirst1000]
      --,[dfa_lessfirst1000_base]
      --f,[dfa_paidclaimamount]
      --,[dfa_paidclaimamount_base]
      --,[dfa_portalsubmitted]
      ,[dfa_portalsubmittedname] PortalSubmitted
      --,[dfa_qualifiedreceiveradditionalinfore]
      ,[dfa_qualifiedreceiveradditionalinforename] QualifiedReceiverAdditionalInfoRequested
      --,[dfa_qualifiedreceiverbluebookrates]
      ,[dfa_qualifiedreceiverbluebookratesname] QualifiedReceiverBlueBookRates
      --,[dfa_qualifiedreceivercontracts]
      ,[dfa_qualifiedreceivercontractsname] QualifiedReceiverContracts
      --,[dfa_qualifiedreceivergeneralledger]
      ,[dfa_qualifiedreceivergeneralledgername] QualifiedReceiverGeneralLedger
      --,[dfa_qualifiedreceiverovertimewagedocumentatio]
      ,[dfa_qualifiedreceiverovertimewagedocumentationame]QualifiedReceiverOvertimeWageDocumentation
      --,[dfa_qualifiedreceiverproofofpayment]
      ,[dfa_qualifiedreceiverproofofpaymentname] QualifiedReceiverProofOfPayment
      --,[dfa_qualifiedreceiverreviewedinvoice]
      ,[dfa_qualifiedreceiverreviewedinvoicename] QualifiedReceiverReviewedInvoice
      ,[dfa_recommendataion] Recommendation
      ,[dfa_stageadjudicator] StageAdjudicator
      ,[dfa_stageapprovedpending] StageApprovedPending
      ,[dfa_stageclosed] StageClosed
      ,[dfa_stagecompliancecheck] StageComplianceCheck
      ,[dfa_stagedecisionmade] StageDecisionMade
      ,[dfa_stagedraft] StageDraft
      ,[dfa_stageexpenseauthority] StageExpenseAuthority
      ,[dfa_stagequalifiedreceiver] StageQualifiedReceiver
      ,[dfa_stagesubmitted] StageSubmitted
      ,[dfa_stageunderreview] StageUnderReview
      --,[dfa_submitted]
      --,[dfa_submittedbpf]
      ,[dfa_submittedbpfname] SubmittedBPF
      ,[dfa_submittedname]
      --,[dfa_tempapproval]
      ,[dfa_tempapprovalname] TempApproval
      --f,[dfa_totalactualclaim]
      --,[dfa_totalactualclaim_base]
      --f,[dfa_totalactualclaim_date]
      --,[dfa_totalactualclaim_state]
      --f,[dfa_totalactualclaimcopy]
      --,[dfa_totalactualclaimcopy_base]
      --f,[dfa_totalactualinvoice]
      --,[dfa_totalactualinvoice_base]
      --f,[dfa_totalapproved]
      --,[dfa_totalapproved_base]
      --f,[dfa_totalapproved_date]
      --,[dfa_totalapproved_state]
      --f,[dfa_totaleligiblegst]
      --,[dfa_totaleligiblegst_base]
      --f,[dfa_totaleligiblegst_date]
      --,[dfa_totaleligiblegst_state]
      --f,[dfa_totaleligiblegstcopy]
      --,[dfa_totaleligiblegstcopy_base]
      --f,[dfa_totalgrossgst]
      --,[dfa_totalgrossgst_base]
      --f,[dfa_totalgrossgst_date]
      --,[dfa_totalgrossgst_state]
      --f,[dfa_totalgrossgstcopy]
      --,[dfa_totalgrossgstcopy_base]
      --f,[dfa_totalnetinvoicedbeingclaimed]
      --,[dfa_totalnetinvoicedbeingclaimed_base]
      --f,[dfa_totalnetinvoicedbeingclaimed_date]
      --,[dfa_totalnetinvoicedbeingclaimed_state]
      --f,[dfa_totalnetinvoicedbeingclaimedcopy]
      --,[dfa_totalnetinvoicedbeingclaimedcopy_base]
      --f,[dfa_totaloftotaleligible]
      --,[dfa_totaloftotaleligible_base]
      --f,[dfa_totalpaid]
      --,[dfa_totalpaid_base]
      --f,[dfa_totalpst]
      --,[dfa_totalpst_base]
      --f,[dfa_totalpst_date]
      --,[dfa_totalpst_state]
      --f,[dfa_totalpstcopy]
      --,[dfa_totalpstcopy_base]
      --,[dfa_underreviewadditionalinforequested]
      ,[dfa_underreviewadditionalinforequestedname] UnderReqviewAdditionalInfoRequested
      --,[dfa_underreviewinprogress]
      ,[dfa_underreviewinprogressname] UnderReviewInProgress
  FROM [dfa_stage].[dfa_projectclaim]
GO
PRINT N'Altering [dfa_stage].[usp_ResetETL]...';


GO


ALTER   PROCEDURE [dfa_stage].[usp_ResetETL]
WITH EXECUTE AS 'embc_etl'
AS 
BEGIN
    DECLARE
        @V_TABLENAME varchar(300),
        @V_SQL varchar(max);

    DECLARE
        C1 CURSOR LOCAL FOR 
		SELECT [TableName] 
		FROM   [dbo].[AdmLoadControl]
		WHERE  [SchemaName] = 'dfa_stage'
		AND    [IsEnabled] = 1
		ORDER BY [TableName];

    OPEN C1;
    FETCH C1 INTO @V_TABLENAME;
    WHILE @@FETCH_STATUS = 0
	BEGIN
        SET @V_SQL = 'TRUNCATE TABLE [dfa_stage].' + @V_TABLENAME + ';';
		PRINT(@V_SQL);
		EXECUTE (@V_SQL)
        FETCH C1 INTO @V_TABLENAME;
    END;

	TRUNCATE TABLE [dfa_stage].[incident2];

	UPDATE [dbo].[AdmLoadControl]
	SET [LastLoadDate] = '1900-01-01'
	WHERE [SchemaName] = 'dfa_stage';

END
GO
PRINT N'Altering [dfa_stage].[usp_incident_update]...';


GO


ALTER PROCEDURE [dfa_stage].[usp_incident_update]
AS
    UPDATE t 
    SET t.accountid = s.accountid,
		t.accountidname = s.accountidname,
		t.accountidyominame = s.accountidyominame,
		t.activitiescomplete = s.activitiescomplete,
		t.activitiescompletename = s.activitiescompletename,
		t.actualserviceunits = s.actualserviceunits,
		t.billedserviceunits = s.billedserviceunits,
		t.blockedprofile = s.blockedprofile,
		t.blockedprofilename = s.blockedprofilename,
		t.caseorigincode = s.caseorigincode,
		t.caseorigincodename = s.caseorigincodename,
		t.casetypecode = s.casetypecode,
		t.casetypecodename = s.casetypecodename,
		t.checkemail = s.checkemail,
		t.checkemailname = s.checkemailname,
		t.contactid = s.contactid,
		t.contactidname = s.contactidname,
		t.contactidyominame = s.contactidyominame,
		t.contractdetailid = s.contractdetailid,
		t.contractdetailidname = s.contractdetailidname,
		t.contractid = s.contractid,
		t.contractidname = s.contractidname,
		t.contractservicelevelcode = s.contractservicelevelcode,
		t.contractservicelevelcodename = s.contractservicelevelcodename,
		t.createdby = s.createdby,
		t.createdbyexternalparty = s.createdbyexternalparty,
		t.createdbyexternalpartyname = s.createdbyexternalpartyname,
		t.createdbyexternalpartyyominame = s.createdbyexternalpartyyominame,
		t.createdbyname = s.createdbyname,
		t.createdbyyominame = s.createdbyyominame,
		t.createdon = s.createdon,
		t.createdonbehalfby = s.createdonbehalfby,
		t.createdonbehalfbyname = s.createdonbehalfbyname,
		t.createdonbehalfbyyominame = s.createdonbehalfbyyominame,
		t.customercontacted = s.customercontacted,
		t.customercontactedname = s.customercontactedname,
		t.customerid = s.customerid,
		t.customeridname = s.customeridname,
		t.customeridtype = s.customeridtype,
		t.customeridyominame = s.customeridyominame,
		t.customersatisfactioncode = s.customersatisfactioncode,
		t.customersatisfactioncodename = s.customersatisfactioncodename,
		t.decremententitlementterm = s.decremententitlementterm,
		t.decremententitlementtermname = s.decremententitlementtermname,
		t.description = s.description,
		t.dfa_acopyofarentalagreementorlease = s.dfa_acopyofarentalagreementorlease,
		t.dfa_acopyofarentalagreementorleasename = s.dfa_acopyofarentalagreementorleasename,
		t.dfa_additionalapplicants = s.dfa_additionalapplicants,
		t.dfa_adminreviewrequired = s.dfa_adminreviewrequired,
		t.dfa_adminreviewrequiredname = s.dfa_adminreviewrequiredname,
		t.dfa_alistingofthedirectors = s.dfa_alistingofthedirectors,
		t.dfa_alistingofthedirectorsname = s.dfa_alistingofthedirectorsname,
		t.dfa_alloccupantsidentified = s.dfa_alloccupantsidentified,
		t.dfa_alloccupantsidentifiedname = s.dfa_alloccupantsidentifiedname,
		t.dfa_alternatecontactid = s.dfa_alternatecontactid,
		t.dfa_alternatecontactidname = s.dfa_alternatecontactidname,
		t.dfa_alternatecontactidyominame = s.dfa_alternatecontactidyominame,
		t.dfa_alternatecontactname = s.dfa_alternatecontactname,
		t.dfa_alternatephonenumber = s.dfa_alternatephonenumber,
		t.dfa_appealstatus = s.dfa_appealstatus,
		t.dfa_appealstatusname = s.dfa_appealstatusname,
		t.dfa_applicanttype = s.dfa_applicanttype,
		t.dfa_applicanttypename = s.dfa_applicanttypename,
		t.dfa_applicationfordfa = s.dfa_applicationfordfa,
		t.dfa_applicationfordfaname = s.dfa_applicationfordfaname,
		t.dfa_applicationformsigned = s.dfa_applicationformsigned,
		t.dfa_applicationformsignedname = s.dfa_applicationformsignedname,
		t.dfa_applicationnumber = s.dfa_applicationnumber,
		t.dfa_areacommunity2id = s.dfa_areacommunity2id,
		t.dfa_areacommunity2idname = s.dfa_areacommunity2idname,
		t.dfa_areacommunityid = s.dfa_areacommunityid,
		t.dfa_areacommunityidname = s.dfa_areacommunityidname,
		t.dfa_areyounowresidingintheresidence = s.dfa_areyounowresidingintheresidence,
		t.dfa_areyounowresidingintheresidencename = s.dfa_areyounowresidingintheresidencename,
		t.dfa_assignedto = s.dfa_assignedto,
		t.dfa_assignedtoname = s.dfa_assignedtoname,
		t.dfa_assignedtoyominame = s.dfa_assignedtoyominame,
		t.dfa_assignmentcomment = s.dfa_assignmentcomment,
		t.dfa_atpercent = s.dfa_atpercent,
		t.dfa_balanceowing = s.dfa_balanceowing,
		t.dfa_balanceowing_base = s.dfa_balanceowing_base,
		t.dfa_bcaapropertyassessment = s.dfa_bcaapropertyassessment,
		t.dfa_bcaapropertyassessmentname = s.dfa_bcaapropertyassessmentname,
		t.dfa_bcassessmentrollreport = s.dfa_bcassessmentrollreport,
		t.dfa_bcassessmentrollreportifapplicantownsthe = s.dfa_bcassessmentrollreportifapplicantownsthe,
		t.dfa_bcassessmentrollreportifapplicantownsthename = s.dfa_bcassessmentrollreportifapplicantownsthename,
		t.dfa_bcassessmentrollreportname = s.dfa_bcassessmentrollreportname,
		t.dfa_bcsocietiesregistration = s.dfa_bcsocietiesregistration,
		t.dfa_bcsocietiesregistrationname = s.dfa_bcsocietiesregistrationname,
		t.dfa_bringforwardcomments = s.dfa_bringforwardcomments,
		t.dfa_bringforwarddate = s.dfa_bringforwarddate,
		t.dfa_buildingownerlandlord = s.dfa_buildingownerlandlord,
		t.dfa_buildingownerlandlordid = s.dfa_buildingownerlandlordid,
		t.dfa_buildingownerlandlordidname = s.dfa_buildingownerlandlordidname,
		t.dfa_buildingownerlandlordidyominame = s.dfa_buildingownerlandlordidyominame,
		t.dfa_buildingownerlandlordname = s.dfa_buildingownerlandlordname,
		t.dfa_businessmanagedbyallownersondaytodaybasis = s.dfa_businessmanagedbyallownersondaytodaybasis,
		t.dfa_businessmanagedbyallownersondaytodaybasisname = s.dfa_businessmanagedbyallownersondaytodaybasisname,
		t.dfa_causeofdamageloss = s.dfa_causeofdamageloss,
		t.dfa_causeofdamagelossname = s.dfa_causeofdamagelossname,
		t.dfa_causeofdamagelossother = s.dfa_causeofdamagelossother,
		t.dfa_centralsecuritiesregister = s.dfa_centralsecuritiesregister,
		t.dfa_centralsecuritiesregistername = s.dfa_centralsecuritiesregistername,
		t.dfa_checkoutbyid = s.dfa_checkoutbyid,
		t.dfa_checkoutbyidname = s.dfa_checkoutbyidname,
		t.dfa_checkoutbyidyominame = s.dfa_checkoutbyidyominame,
		t.dfa_claimstotalpayable = s.dfa_claimstotalpayable,
		t.dfa_claimstotalpayable_base = s.dfa_claimstotalpayable_base,
		t.dfa_claimstotalpayable80 = s.dfa_claimstotalpayable80,
		t.dfa_claimstotalpayable80_base = s.dfa_claimstotalpayable80_base,
		t.dfa_claimsummarysheet = s.dfa_claimsummarysheet,
		t.dfa_claimsummarysheetname = s.dfa_claimsummarysheetname,
		t.dfa_claimtype = s.dfa_claimtype,
		t.dfa_claimtypename = s.dfa_claimtypename,
		t.dfa_compliance = s.dfa_compliance,
		t.dfa_compliancename = s.dfa_compliancename,
		t.dfa_contentcalculationssheet = s.dfa_contentcalculationssheet,
		t.dfa_contentcalculationssheetname = s.dfa_contentcalculationssheetname,
		t.dfa_coordinatorreviewrequired = s.dfa_coordinatorreviewrequired,
		t.dfa_coordinatorreviewrequiredname = s.dfa_coordinatorreviewrequiredname,
		t.dfa_covenants = s.dfa_covenants,
		t.dfa_covenantsname = s.dfa_covenantsname,
		t.dfa_crpreceived = s.dfa_crpreceived,
		t.dfa_damagedpropertypostalcode = s.dfa_damagedpropertypostalcode,
		t.dfa_damagedpropertyprovince = s.dfa_damagedpropertyprovince,
		t.dfa_damagedpropertystreet1 = s.dfa_damagedpropertystreet1,
		t.dfa_damagedpropertystreet2 = s.dfa_damagedpropertystreet2,
		t.dfa_damagedpropertystreet3 = s.dfa_damagedpropertystreet3,
		t.dfa_dateapplicantcontacted = s.dfa_dateapplicantcontacted,
		t.dfa_dateassigned = s.dfa_dateassigned,
		t.dfa_dateassignedtofm = s.dfa_dateassignedtofm,
		t.dfa_datecasereceivedbyfm = s.dfa_datecasereceivedbyfm,
		t.dfa_dateevaluationfilereceived = s.dfa_dateevaluationfilereceived,
		t.dfa_datefileclosed = s.dfa_datefileclosed,
		t.dfa_dateofapplicantsitevisit = s.dfa_dateofapplicantsitevisit,
		t.dfa_dateofdamage = s.dfa_dateofdamage,
		t.dfa_dateofdamageto = s.dfa_dateofdamageto,
		t.dfa_datereceived = s.dfa_datereceived,
		t.dfa_datereportcompleted = s.dfa_datereportcompleted,
		t.dfa_datereturntotheresidence = s.dfa_datereturntotheresidence,
		t.dfa_diagram = s.dfa_diagram,
		t.dfa_diagramname = s.dfa_diagramname,
		t.dfa_doyouhaveinsurancecoverage = s.dfa_doyouhaveinsurancecoverage,
		t.dfa_doyouhaveinsurancecoveragename = s.dfa_doyouhaveinsurancecoveragename,
		t.dfa_doyourlossestotalmorethan1000 = s.dfa_doyourlossestotalmorethan1000,
		t.dfa_doyourlossestotalmorethan1000name = s.dfa_doyourlossestotalmorethan1000name,
		t.dfa_effectedcommunityregionid = s.dfa_effectedcommunityregionid,
		t.dfa_effectedcommunityregionidname = s.dfa_effectedcommunityregionidname,
		t.dfa_eligibilitystatus = s.dfa_eligibilitystatus,
		t.dfa_eligibilitystatusname = s.dfa_eligibilitystatusname,
		t.dfa_eligibleforbchomegrantonthisproperty = s.dfa_eligibleforbchomegrantonthisproperty,
		t.dfa_eligibleforbchomegrantonthispropertyname = s.dfa_eligibleforbchomegrantonthispropertyname,
		t.dfa_embcamount80 = s.dfa_embcamount80,
		t.dfa_embcamount80_base = s.dfa_embcamount80_base,
		t.dfa_embcapprovedamount = s.dfa_embcapprovedamount,
		t.dfa_embcapprovedamount_base = s.dfa_embcapprovedamount_base,
		t.dfa_employlessthan50employeesatanyonetime = s.dfa_employlessthan50employeesatanyonetime,
		t.dfa_employlessthan50employeesatanyonetimename = s.dfa_employlessthan50employeesatanyonetimename,
		t.dfa_evaluationreportreceived = s.dfa_evaluationreportreceived,
		t.dfa_evaluationreportreceiveddate = s.dfa_evaluationreportreceiveddate,
		t.dfa_evaluationreportreceivedname = s.dfa_evaluationreportreceivedname,
		t.dfa_evaluatorsnotes = s.dfa_evaluatorsnotes,
		t.dfa_evaluatorsnotesname = s.dfa_evaluatorsnotesname,
		t.dfa_eventid = s.dfa_eventid,
		t.dfa_eventidname = s.dfa_eventidname,
		t.dfa_farmoperation = s.dfa_farmoperation,
		t.dfa_farmoperationderivesthatpersonsmajorincom = s.dfa_farmoperationderivesthatpersonsmajorincom,
		t.dfa_farmoperationderivesthatpersonsmajorincomname = s.dfa_farmoperationderivesthatpersonsmajorincomname,
		t.dfa_farmoperationname = s.dfa_farmoperationname,
		t.dfa_federalclaimamounttotal = s.dfa_federalclaimamounttotal,
		t.dfa_federalclaimamounttotal_base = s.dfa_federalclaimamounttotal_base,
		t.dfa_fieldmanager = s.dfa_fieldmanager,
		t.dfa_fieldmanagerassignment = s.dfa_fieldmanagerassignment,
		t.dfa_fieldmanagerassignmentname = s.dfa_fieldmanagerassignmentname,
		t.dfa_fieldmanagername = s.dfa_fieldmanagername,
		t.dfa_fieldmanagerreviewrequired = s.dfa_fieldmanagerreviewrequired,
		t.dfa_fieldmanagerreviewrequiredname = s.dfa_fieldmanagerreviewrequiredname,
		t.dfa_fieldmanageryominame = s.dfa_fieldmanageryominame,
		t.dfa_fileclosed = s.dfa_fileclosed,
		t.dfa_fileclosedname = s.dfa_fileclosedname,
		t.dfa_financialstatements = s.dfa_financialstatements,
		t.dfa_financialstatementsname = s.dfa_financialstatementsname,
		t.dfa_fmcomments = s.dfa_fmcomments,
		t.dfa_forecastclaimamount = s.dfa_forecastclaimamount,
		t.dfa_forecastclaimamount_base = s.dfa_forecastclaimamount_base,
		t.dfa_forhomesinthenameofabusinesscentralsec = s.dfa_forhomesinthenameofabusinesscentralsec,
		t.dfa_forhomesinthenameofabusinesscentralsecname = s.dfa_forhomesinthenameofabusinesscentralsecname,
		t.dfa_grossrevenues100002000000beforedisaster = s.dfa_grossrevenues100002000000beforedisaster,
		t.dfa_grossrevenues100002000000beforedisastername = s.dfa_grossrevenues100002000000beforedisastername,
		t.dfa_haveinvoicesreceiptsforcleanuporrepairs = s.dfa_haveinvoicesreceiptsforcleanuporrepairs,
		t.dfa_haveinvoicesreceiptsforcleanuporrepairsname = s.dfa_haveinvoicesreceiptsforcleanuporrepairsname,
		t.dfa_historicalcomments = s.dfa_historicalcomments,
		t.dfa_homeownergranteligibilityconfirmed = s.dfa_homeownergranteligibilityconfirmed,
		t.dfa_homeownergranteligibilityconfirmedname = s.dfa_homeownergranteligibilityconfirmedname,
		t.dfa_inacapprovalrecd = s.dfa_inacapprovalrecd,
		t.dfa_inacapprovalrecdname = s.dfa_inacapprovalrecdname,
		t.dfa_inaccomments = s.dfa_inaccomments,
		t.dfa_indigenouscomments1 = s.dfa_indigenouscomments1,
		t.dfa_indigenousreserveresidence = s.dfa_indigenousreserveresidence,
		t.dfa_indigenousreserveresidencename = s.dfa_indigenousreserveresidencename,
		t.dfa_indigenousstatus = s.dfa_indigenousstatus,
		t.dfa_indigenousstatuscardregistrynumber = s.dfa_indigenousstatuscardregistrynumber,
		t.dfa_indigenousstatusname = s.dfa_indigenousstatusname,
		t.dfa_ineligibleamounttotal = s.dfa_ineligibleamounttotal,
		t.dfa_ineligibleamounttotal_base = s.dfa_ineligibleamounttotal_base,
		t.dfa_ineligibleapplicationreason = s.dfa_ineligibleapplicationreason,
		t.dfa_ineligibleapplicationreasonname = s.dfa_ineligibleapplicationreasonname,
		t.dfa_insuranceletter = s.dfa_insuranceletter,
		t.dfa_insurancelettername = s.dfa_insurancelettername,
		t.dfa_insurancetemplatecompletedbyinsurerbroker = s.dfa_insurancetemplatecompletedbyinsurerbroker,
		t.dfa_insurancetemplatecompletedbyinsurerbrokername = s.dfa_insurancetemplatecompletedbyinsurerbrokername,
		t.dfa_issamemailingaddress = s.dfa_issamemailingaddress,
		t.dfa_issamemailingaddressname = s.dfa_issamemailingaddressname,
		t.dfa_isthispropertyyourprimaryresidence = s.dfa_isthispropertyyourprimaryresidence,
		t.dfa_isthispropertyyourprimaryresidencename = s.dfa_isthispropertyyourprimaryresidencename,
		t.dfa_landtitledocumentormobilehomeregistryinfo = s.dfa_landtitledocumentormobilehomeregistryinfo,
		t.dfa_landtitledocumentormobilehomeregistryinfoname = s.dfa_landtitledocumentormobilehomeregistryinfoname,
		t.dfa_legaldescription = s.dfa_legaldescription,
		t.dfa_less1000deductable = s.dfa_less1000deductable,
		t.dfa_less1000deductable_base = s.dfa_less1000deductable_base,
		t.dfa_letterofacknowledgement = s.dfa_letterofacknowledgement,
		t.dfa_listofdamageditemsassessed = s.dfa_listofdamageditemsassessed,
		t.dfa_listofdamageditemsassessedname = s.dfa_listofdamageditemsassessedname,
		t.dfa_listofdirectors = s.dfa_listofdirectors,
		t.dfa_listofdirectorsname = s.dfa_listofdirectorsname,
		t.dfa_localgoverningbodyid = s.dfa_localgoverningbodyid,
		t.dfa_localgoverningbodyidname = s.dfa_localgoverningbodyidname,
		t.dfa_localgoverningbodyidyominame = s.dfa_localgoverningbodyidyominame,
		t.dfa_mailingaddresspostalcode = s.dfa_mailingaddresspostalcode,
		t.dfa_mailingaddressprovince = s.dfa_mailingaddressprovince,
		t.dfa_mailingaddressstreet1 = s.dfa_mailingaddressstreet1,
		t.dfa_mailingaddressstreet2 = s.dfa_mailingaddressstreet2,
		t.dfa_mailingaddressstreet3 = s.dfa_mailingaddressstreet3,
		t.dfa_managerreviewrequired = s.dfa_managerreviewrequired,
		t.dfa_managerreviewrequiredname = s.dfa_managerreviewrequiredname,
		t.dfa_manufacturedhome = s.dfa_manufacturedhome,
		t.dfa_manufacturedhomename = s.dfa_manufacturedhomename,
		t.dfa_mostrecentcompletecorporateincometaxretur = s.dfa_mostrecentcompletecorporateincometaxretur,
		t.dfa_mostrecentcompletecorporateincometaxreturname = s.dfa_mostrecentcompletecorporateincometaxreturname,
		t.dfa_mostrecentlyfiledfinancialstatements = s.dfa_mostrecentlyfiledfinancialstatements,
		t.dfa_mostrecentlyfiledfinancialstatementsname = s.dfa_mostrecentlyfiledfinancialstatementsname,
		t.dfa_nameoffirstnationsreserve = s.dfa_nameoffirstnationsreserve,
		t.dfa_onfirstnationsreserve = s.dfa_onfirstnationsreserve,
		t.dfa_onfirstnationsreservename = s.dfa_onfirstnationsreservename,
		t.dfa_organizationstructureandpurposestatemente = s.dfa_organizationstructureandpurposestatemente,
		t.dfa_organizationstructureandpurposestatementename = s.dfa_organizationstructureandpurposestatementename,
		t.dfa_orgregistrationproofunderbcsocietya = s.dfa_orgregistrationproofunderbcsocietya,
		t.dfa_orgregistrationproofunderbcsocietyaname = s.dfa_orgregistrationproofunderbcsocietyaname,
		t.dfa_otherdamages = s.dfa_otherdamages,
		t.dfa_others = s.dfa_others,
		t.dfa_othersname = s.dfa_othersname,
		t.dfa_ownedandoperatedbya = s.dfa_ownedandoperatedbya,
		t.dfa_ownedandoperatedbyaname = s.dfa_ownedandoperatedbyaname,
		t.dfa_payableto = s.dfa_payableto,
		t.dfa_paymentletterissued = s.dfa_paymentletterissued,
		t.dfa_paymentletterissuedname = s.dfa_paymentletterissuedname,
		t.dfa_paymentletterready = s.dfa_paymentletterready,
		t.dfa_paymentletterreadyname = s.dfa_paymentletterreadyname,
		t.dfa_photos = s.dfa_photos,
		t.dfa_photosname = s.dfa_photosname,
		t.dfa_pid = s.dfa_pid,
		t.dfa_primaryapplicantprintname = s.dfa_primaryapplicantprintname,
		t.dfa_primaryapplicantsigned = s.dfa_primaryapplicantsigned,
		t.dfa_primaryapplicantsigneddate = s.dfa_primaryapplicantsigneddate,
		t.dfa_primaryapplicantsignedname = s.dfa_primaryapplicantsignedname,
		t.dfa_primarycontactid = s.dfa_primarycontactid,
		t.dfa_primarycontactidname = s.dfa_primarycontactidname,
		t.dfa_primarycontactidyominame = s.dfa_primarycontactidyominame,
		t.dfa_projectapprovedamountsubtotals = s.dfa_projectapprovedamountsubtotals,
		t.dfa_projectapprovedamountsubtotals_base = s.dfa_projectapprovedamountsubtotals_base,
		t.dfa_proofofownership = s.dfa_proofofownership,
		t.dfa_proofofownershipname = s.dfa_proofofownershipname,
		t.dfa_provincialeligibleamounttotal = s.dfa_provincialeligibleamounttotal,
		t.dfa_provincialeligibleamounttotal_base = s.dfa_provincialeligibleamounttotal_base,
		t.dfa_qrcomplete = s.dfa_qrcomplete,
		t.dfa_qrcompletename = s.dfa_qrcompletename,
		t.dfa_readyforinspection = s.dfa_readyforinspection,
		t.dfa_readyforinspectionname = s.dfa_readyforinspectionname,
		t.dfa_receiptsorinvoicespaidbyapplicant = s.dfa_receiptsorinvoicespaidbyapplicant,
		t.dfa_receiptsorinvoicespaidbyapplicantname = s.dfa_receiptsorinvoicespaidbyapplicantname,
		t.dfa_receivedcopyofrentalagreementorlease = s.dfa_receivedcopyofrentalagreementorlease,
		t.dfa_receivedcopyofrentalagreementorleasename = s.dfa_receivedcopyofrentalagreementorleasename,
		t.dfa_receivedrecoveryplan = s.dfa_receivedrecoveryplan,
		t.dfa_receivedrecoveryplanname = s.dfa_receivedrecoveryplanname,
		t.dfa_recoveryofficerreviewrequired = s.dfa_recoveryofficerreviewrequired,
		t.dfa_recoveryofficerreviewrequiredname = s.dfa_recoveryofficerreviewrequiredname,
		t.dfa_regionid = s.dfa_regionid,
		t.dfa_regionidname = s.dfa_regionidname,
		t.dfa_relatedbusiness = s.dfa_relatedbusiness,
		t.dfa_relatedbusinessname = s.dfa_relatedbusinessname,
		t.dfa_relatedbusinessyominame = s.dfa_relatedbusinessyominame,
		t.dfa_rentalleaseagreementorlandtitle = s.dfa_rentalleaseagreementorlandtitle,
		t.dfa_rentalleaseagreementorlandtitlename = s.dfa_rentalleaseagreementorlandtitlename,
		t.dfa_rentalorleaseagreement = s.dfa_rentalorleaseagreement,
		t.dfa_rentalorleaseagreementname = s.dfa_rentalorleaseagreementname,
		t.dfa_reviewchecksummary = s.dfa_reviewchecksummary,
		t.dfa_reviewchecksummaryname = s.dfa_reviewchecksummaryname,
		t.dfa_reviewedcleanuplog = s.dfa_reviewedcleanuplog,
		t.dfa_reviewedcleanuplogname = s.dfa_reviewedcleanuplogname,
		t.dfa_scopeandcalculationssheet = s.dfa_scopeandcalculationssheet,
		t.dfa_scopeandcalculationssheetname = s.dfa_scopeandcalculationssheetname,
		t.dfa_secondaryapplicantprintname = s.dfa_secondaryapplicantprintname,
		t.dfa_secondaryapplicantsigned = s.dfa_secondaryapplicantsigned,
		t.dfa_secondaryapplicantsigneddate = s.dfa_secondaryapplicantsigneddate,
		t.dfa_secondaryapplicantsignedname = s.dfa_secondaryapplicantsignedname,
		t.dfa_supplementaryproofofprincipalresidencyid = s.dfa_supplementaryproofofprincipalresidencyid,
		t.dfa_supplementaryproofofprincipalresidencyidname = s.dfa_supplementaryproofofprincipalresidencyidname,
		t.dfa_suppliernumberrequested = s.dfa_suppliernumberrequested,
		t.dfa_suppliernumberrequestedname = s.dfa_suppliernumberrequestedname,
		t.dfa_totalfederalclaimamount = s.dfa_totalfederalclaimamount,
		t.dfa_totalfederalclaimamount_base = s.dfa_totalfederalclaimamount_base,
		t.dfa_totalfederalclaimamount_date = s.dfa_totalfederalclaimamount_date,
		t.dfa_totalfederalclaimamount_state = s.dfa_totalfederalclaimamount_state,
		t.dfa_totalineligibleamount = s.dfa_totalineligibleamount,
		t.dfa_totalineligibleamount_base = s.dfa_totalineligibleamount_base,
		t.dfa_totalineligibleamount_date = s.dfa_totalineligibleamount_date,
		t.dfa_totalineligibleamount_state = s.dfa_totalineligibleamount_state,
		t.dfa_totalpaid = s.dfa_totalpaid,
		t.dfa_totalpaid_base = s.dfa_totalpaid_base,
		t.dfa_totalprovincialeligibleamount = s.dfa_totalprovincialeligibleamount,
		t.dfa_totalprovincialeligibleamount_base = s.dfa_totalprovincialeligibleamount_base,
		t.dfa_totalprovincialeligibleamount_date = s.dfa_totalprovincialeligibleamount_date,
		t.dfa_totalprovincialeligibleamount_state = s.dfa_totalprovincialeligibleamount_state,
		t.dfa_uploadfmreportpmtltr = s.dfa_uploadfmreportpmtltr,
		t.dfa_uploadfmreportpmtltrname = s.dfa_uploadfmreportpmtltrname,
		t.dfa_wereyouevacuatedduringtheevent = s.dfa_wereyouevacuatedduringtheevent,
		t.dfa_wereyouevacuatedduringtheeventname = s.dfa_wereyouevacuatedduringtheeventname,
		t.dfa_writtenconfirmationofinsurancenotpurchase = s.dfa_writtenconfirmationofinsurancenotpurchase,
		t.dfa_writtenconfirmationofinsurancenotpurchasename = s.dfa_writtenconfirmationofinsurancenotpurchasename,
		t.emailaddress = s.emailaddress,
		t.entitlementid = s.entitlementid,
		t.entitlementidname = s.entitlementidname,
		t.entityimage = s.entityimage,
		t.entityimage_timestamp = s.entityimage_timestamp,
		t.entityimage_url = s.entityimage_url,
		t.entityimageid = s.entityimageid,
		t.escalatedon = s.escalatedon,
		t.exchangerate = s.exchangerate,
		t.existingcase = s.existingcase,
		t.firstresponsebykpiid = s.firstresponsebykpiid,
		t.firstresponsebykpiidname = s.firstresponsebykpiidname,
		t.firstresponsesent = s.firstresponsesent,
		t.firstresponsesentname = s.firstresponsesentname,
		t.firstresponseslastatus = s.firstresponseslastatus,
		t.firstresponseslastatusname = s.firstresponseslastatusname,
		t.followupby = s.followupby,
		t.followuptaskcreated = s.followuptaskcreated,
		t.followuptaskcreatedname = s.followuptaskcreatedname,
		t.importsequencenumber = s.importsequencenumber,
		t.incidentstagecode = s.incidentstagecode,
		t.incidentstagecodename = s.incidentstagecodename,
		t.influencescore = s.influencescore,
		t.isdecrementing = s.isdecrementing,
		t.isdecrementingname = s.isdecrementingname,
		t.isescalated = s.isescalated,
		t.isescalatedname = s.isescalatedname,
		t.kbarticleid = s.kbarticleid,
		t.kbarticleidname = s.kbarticleidname,
		t.lastonholdtime = s.lastonholdtime,
		t.masterid = s.masterid,
		t.masteridname = s.masteridname,
		t.merged = s.merged,
		t.mergedname = s.mergedname,
		t.messagetypecode = s.messagetypecode,
		t.messagetypecodename = s.messagetypecodename,
		t.modifiedby = s.modifiedby,
		t.modifiedbyexternalparty = s.modifiedbyexternalparty,
		t.modifiedbyexternalpartyname = s.modifiedbyexternalpartyname,
		t.modifiedbyexternalpartyyominame = s.modifiedbyexternalpartyyominame,
		t.modifiedbyname = s.modifiedbyname,
		t.modifiedbyyominame = s.modifiedbyyominame,
		t.modifiedon = s.modifiedon,
		t.modifiedonbehalfby = s.modifiedonbehalfby,
		t.modifiedonbehalfbyname = s.modifiedonbehalfbyname,
		t.modifiedonbehalfbyyominame = s.modifiedonbehalfbyyominame,
		t.numberofchildincidents = s.numberofchildincidents,
		t.onholdtime = s.onholdtime,
		t.overriddencreatedon = s.overriddencreatedon,
		t.ownerid = s.ownerid,
		t.owneridname = s.owneridname,
		t.owneridtype = s.owneridtype,
		t.owneridyominame = s.owneridyominame,
		t.owningbusinessunit = s.owningbusinessunit,
		t.owningteam = s.owningteam,
		t.owninguser = s.owninguser,
		t.parentcaseid = s.parentcaseid,
		t.parentcaseidname = s.parentcaseidname,
		t.primarycontactid = s.primarycontactid,
		t.primarycontactidname = s.primarycontactidname,
		t.primarycontactidyominame = s.primarycontactidyominame,
		t.prioritycode = s.prioritycode,
		t.prioritycodename = s.prioritycodename,
		t.processid = s.processid,
		t.productid = s.productid,
		t.productidname = s.productidname,
		t.productserialnumber = s.productserialnumber,
		t.resolveby = s.resolveby,
		t.resolvebykpiid = s.resolvebykpiid,
		t.resolvebykpiidname = s.resolvebykpiidname,
		t.resolvebyslastatus = s.resolvebyslastatus,
		t.resolvebyslastatusname = s.resolvebyslastatusname,
		t.responseby = s.responseby,
		t.responsiblecontactid = s.responsiblecontactid,
		t.responsiblecontactidname = s.responsiblecontactidname,
		t.responsiblecontactidyominame = s.responsiblecontactidyominame,
		t.routecase = s.routecase,
		t.routecasename = s.routecasename,
		t.sentimentvalue = s.sentimentvalue,
		t.servicestage = s.servicestage,
		t.servicestagename = s.servicestagename,
		t.severitycode = s.severitycode,
		t.severitycodename = s.severitycodename,
		t.slaid = s.slaid,
		t.slainvokedid = s.slainvokedid,
		t.slainvokedidname = s.slainvokedidname,
		t.slaname = s.slaname,
		t.socialprofileid = s.socialprofileid,
		t.socialprofileidname = s.socialprofileidname,
		t.stageid = s.stageid,
		t.statecode = s.statecode,
		t.statecodename = s.statecodename,
		t.statuscode = s.statuscode,
		t.statuscodename = s.statuscodename,
		t.subjectid = s.subjectid,
		t.subjectidname = s.subjectidname,
		t.ticketnumber = s.ticketnumber,
		t.timezoneruleversionnumber = s.timezoneruleversionnumber,
		t.title = s.title,
		t.transactioncurrencyid = s.transactioncurrencyid,
		t.transactioncurrencyidname = s.transactioncurrencyidname,
		t.traversedpath = s.traversedpath,
		t.utcconversiontimezonecode = s.utcconversiontimezonecode,
		t.versionnumber = s.versionnumber,
		t.Created_Load_Id = s.Created_Load_Id,
		t.Modified_Load_Id = s.Modified_Load_Id,
		t.dfa_21dayletter = s.dfa_21dayletter,
		t.dfa_21daylettername = s.dfa_21daylettername,
		t.dfa_acknowledgementletter = s.dfa_acknowledgementletter,
		t.dfa_acknowledgementlettername = s.dfa_acknowledgementlettername,
		t.dfa_activeprojectnameandidfortemplates = s.dfa_activeprojectnameandidfortemplates,
		t.dfa_additionalapplicantsphonenumbersandemails = s.dfa_additionalapplicantsphonenumbersandemails,
		t.dfa_additionalinforequested = s.dfa_additionalinforequested,
		t.dfa_additionalinforequestedname = s.dfa_additionalinforequestedname,
		t.dfa_additionalinformationreceived = s.dfa_additionalinformationreceived,
		t.dfa_additionalinformationreceivedname = s.dfa_additionalinformationreceivedname,
		t.dfa_additionalinformationrequested = s.dfa_additionalinformationrequested,
		t.dfa_additionalinformationrequestedname = s.dfa_additionalinformationrequestedname,
		t.dfa_adjudicatorassigned = s.dfa_adjudicatorassigned,
		t.dfa_adjudicatorassignedname = s.dfa_adjudicatorassignedname,
		t.dfa_adjudicatorreviewcompleted = s.dfa_adjudicatorreviewcompleted,
		t.dfa_adjudicatorreviewcompletedname = s.dfa_adjudicatorreviewcompletedname,
		t.dfa_appapplication = s.dfa_appapplication,
		t.dfa_appapplicationname = s.dfa_appapplicationname,
		t.dfa_appealcloseddate = s.dfa_appealcloseddate,
		t.dfa_appealuploadedtoraft = s.dfa_appealuploadedtoraft,
		t.dfa_appealuploadedtoraftname = s.dfa_appealuploadedtoraftname,
		t.dfa_applicabledate = s.dfa_applicabledate,
		t.dfa_applicationcasebpfstages = s.dfa_applicationcasebpfstages,
		t.dfa_applicationcasebpfstagesname = s.dfa_applicationcasebpfstagesname,
		t.dfa_applicationcasebpfsubstages = s.dfa_applicationcasebpfsubstages,
		t.dfa_applicationcasebpfsubstagesname = s.dfa_applicationcasebpfsubstagesname,
		t.dfa_approved = s.dfa_approved,
		t.dfa_approvedpercentage = s.dfa_approvedpercentage,
		t.dfa_approvedtotal = s.dfa_approvedtotal,
		t.dfa_approvedtotal_base = s.dfa_approvedtotal_base,
		t.dfa_approvedtotal_date = s.dfa_approvedtotal_date,
		t.dfa_approvedtotal_state = s.dfa_approvedtotal_state,
		t.dfa_areyounowresidingintheresidence2 = s.dfa_areyounowresidingintheresidence2,
		t.dfa_areyounowresidingintheresidence2name = s.dfa_areyounowresidingintheresidence2name,
		t.dfa_awaitingfirstproject = s.dfa_awaitingfirstproject,
		t.dfa_awaitingfirstprojectname = s.dfa_awaitingfirstprojectname,
		t.dfa_bpffinisheddate = s.dfa_bpffinisheddate,
		t.dfa_builderlandlordcontactinformation = s.dfa_builderlandlordcontactinformation,
		t.dfa_caseupdated = s.dfa_caseupdated,
		t.dfa_caseupdatedname = s.dfa_caseupdatedname,
		t.dfa_caseupdatedon = s.dfa_caseupdatedon,
		t.dfa_charityexistsatleast12months = s.dfa_charityexistsatleast12months,
		t.dfa_charityexistsatleast12monthsname = s.dfa_charityexistsatleast12monthsname,
		t.dfa_charityprovidescommunitybenefit = s.dfa_charityprovidescommunitybenefit,
		t.dfa_charityprovidescommunitybenefitname = s.dfa_charityprovidescommunitybenefitname,
		t.dfa_charityregistered = s.dfa_charityregistered,
		t.dfa_charityregisteredname = s.dfa_charityregisteredname,
		t.dfa_cliffappealrequest = s.dfa_cliffappealrequest,
		t.dfa_cliffappealrequestname = s.dfa_cliffappealrequestname,
		t.dfa_confirmedsecondbuildinglandlord = s.dfa_confirmedsecondbuildinglandlord,
		t.dfa_confirmedsecondbuildinglandlordname = s.dfa_confirmedsecondbuildinglandlordname,
		t.dfa_corporateowned = s.dfa_corporateowned,
		t.dfa_corporateownedname = s.dfa_corporateownedname,
		t.dfa_costsharingappovaldate = s.dfa_costsharingappovaldate,
		t.dfa_costsharingapprover = s.dfa_costsharingapprover,
		t.dfa_costsharingapprovername = s.dfa_costsharingapprovername,
		t.dfa_costsharingapproveryominame = s.dfa_costsharingapproveryominame,
		t.dfa_createdonportal = s.dfa_createdonportal,
		t.dfa_createdonportalname = s.dfa_createdonportalname,
		t.dfa_currentapplicantname = s.dfa_currentapplicantname,
		t.dfa_currentapplicantnamename = s.dfa_currentapplicantnamename,
		t.dfa_currentstagename = s.dfa_currentstagename,
		t.dfa_dateofdamagefrom = s.dfa_dateofdamagefrom,
		t.dfa_datepicked = s.dfa_datepicked,
		t.dfa_decisionlettersenttoappellant = s.dfa_decisionlettersenttoappellant,
		t.dfa_decisionlettersenttoappellantname = s.dfa_decisionlettersenttoappellantname,
		t.dfa_decisionletteruploadedtoraft = s.dfa_decisionletteruploadedtoraft,
		t.dfa_decisionletteruploadedtoraftname = s.dfa_decisionletteruploadedtoraftname,
		t.dfa_dfa_areyounowresidingintheresidence2 = s.dfa_dfa_areyounowresidingintheresidence2,
		t.dfa_dfa_areyounowresidingintheresidence2name = s.dfa_dfa_areyounowresidingintheresidence2name,
		t.dfa_doyouhaveinsurancecoverage2 = s.dfa_doyouhaveinsurancecoverage2,
		t.dfa_doyouhaveinsurancecoverage2name = s.dfa_doyouhaveinsurancecoverage2name,
		t.dfa_doyouhaveinsurancecoverage3 = s.dfa_doyouhaveinsurancecoverage3,
		t.dfa_doyouhaveinsurancecoverage3name = s.dfa_doyouhaveinsurancecoverage3name,
		t.dfa_doyourlossestotalmorethan10002 = s.dfa_doyourlossestotalmorethan10002,
		t.dfa_doyourlossestotalmorethan10002name = s.dfa_doyourlossestotalmorethan10002name,
		t.dfa_eligibleforbchomegrantonthisproperty2 = s.dfa_eligibleforbchomegrantonthisproperty2,
		t.dfa_eligibleforbchomegrantonthisproperty2name = s.dfa_eligibleforbchomegrantonthisproperty2name,
		t.dfa_eligiblegst = s.dfa_eligiblegst,
		t.dfa_eligiblegstname = s.dfa_eligiblegstname,
		t.dfa_estimation = s.dfa_estimation,
		t.dfa_farmtype = s.dfa_farmtype,
		t.dfa_farmtypename = s.dfa_farmtypename,
		t.dfa_finalappealstatus = s.dfa_finalappealstatus,
		t.dfa_finalappealstatusname = s.dfa_finalappealstatusname,
		t.dfa_firstprojectreceived = s.dfa_firstprojectreceived,
		t.dfa_firstprojectreceivedname = s.dfa_firstprojectreceivedname,
		t.dfa_flooddamage = s.dfa_flooddamage,
		t.dfa_flooddamagename = s.dfa_flooddamagename,
		t.dfa_governmenttype = s.dfa_governmenttype,
		t.dfa_governmenttypename = s.dfa_governmenttypename,
		t.dfa_iamtheonlypersoninthehome = s.dfa_iamtheonlypersoninthehome,
		t.dfa_iamtheonlypersoninthehomename = s.dfa_iamtheonlypersoninthehomename,
		t.dfa_idonthaveanothercontact = s.dfa_idonthaveanothercontact,
		t.dfa_idonthaveanothercontactname = s.dfa_idonthaveanothercontactname,
		t.dfa_indigenousstatus2 = s.dfa_indigenousstatus2,
		t.dfa_indigenousstatus2name = s.dfa_indigenousstatus2name,
		t.dfa_ineligibilityreason = s.dfa_ineligibilityreason,
		t.dfa_ineligibilityreasonname = s.dfa_ineligibilityreasonname,
		t.dfa_intromtgwithcommunity = s.dfa_intromtgwithcommunity,
		t.dfa_intromtgwithcommunityname = s.dfa_intromtgwithcommunityname,
		t.dfa_isthedamagedpropertyonafirstnationreserve = s.dfa_isthedamagedpropertyonafirstnationreserve,
		t.dfa_isthedamagedpropertyonafirstnationreservename = s.dfa_isthedamagedpropertyonafirstnationreservename,
		t.dfa_isthispropertyyourprimaryresidence2 = s.dfa_isthispropertyyourprimaryresidence2,
		t.dfa_isthispropertyyourprimaryresidence2name = s.dfa_isthispropertyyourprimaryresidence2name,
		t.dfa_isyourhomeamanufacturedhome = s.dfa_isyourhomeamanufacturedhome,
		t.dfa_isyourhomeamanufacturedhomename = s.dfa_isyourhomeamanufacturedhomename,
		t.dfa_landlord = s.dfa_landlord,
		t.dfa_landlordname = s.dfa_landlordname,
		t.dfa_landslidedamage = s.dfa_landslidedamage,
		t.dfa_landslidedamagename = s.dfa_landslidedamagename,
		t.dfa_lgcaseupdated = s.dfa_lgcaseupdated,
		t.dfa_lgcaseupdatedname = s.dfa_lgcaseupdatedname,
		t.dfa_mailingaddresscity = s.dfa_mailingaddresscity,
		t.dfa_othercontactnames = s.dfa_othercontactnames,
		t.dfa_othercontactphonenumberandemails = s.dfa_othercontactphonenumberandemails,
		t.dfa_otherdamage = s.dfa_otherdamage,
		t.dfa_otherdamagename = s.dfa_otherdamagename,
		t.dfa_paidprojectamount = s.dfa_paidprojectamount,
		t.dfa_paidprojectamount_base = s.dfa_paidprojectamount_base,
		t.dfa_paidprojectamount_date = s.dfa_paidprojectamount_date,
		t.dfa_paidprojectamount_state = s.dfa_paidprojectamount_state,
		t.dfa_pleasespecifyifothersselected = s.dfa_pleasespecifyifothersselected,
		t.dfa_previousdfaapplication = s.dfa_previousdfaapplication,
		t.dfa_previousdfaapplicationdetails = s.dfa_previousdfaapplicationdetails,
		t.dfa_previousdfaapplicationname = s.dfa_previousdfaapplicationname,
		t.dfa_primarycontact = s.dfa_primarycontact,
		t.dfa_primarycontactidtype = s.dfa_primarycontactidtype,
		t.dfa_primarycontactname = s.dfa_primarycontactname,
		t.dfa_primarycontactyominame = s.dfa_primarycontactyominame,
		t.dfa_primarydate = s.dfa_primarydate,
		t.dfa_primaryinsurancename = s.dfa_primaryinsurancename,
		t.dfa_projectapprovedtotal = s.dfa_projectapprovedtotal,
		t.dfa_projectapprovedtotal_base = s.dfa_projectapprovedtotal_base,
		t.dfa_projectapprovedtotal_date = s.dfa_projectapprovedtotal_date,
		t.dfa_projectapprovedtotal_state = s.dfa_projectapprovedtotal_state,
		t.dfa_projectclaimtotal = s.dfa_projectclaimtotal,
		t.dfa_projectclaimtotal_base = s.dfa_projectclaimtotal_base,
		t.dfa_projectclaimtotal_date = s.dfa_projectclaimtotal_date,
		t.dfa_projectclaimtotal_state = s.dfa_projectclaimtotal_state,
		t.dfa_projectnames = s.dfa_projectnames,
		t.dfa_referredtocr = s.dfa_referredtocr,
		t.dfa_referredtocrname = s.dfa_referredtocrname,
		t.dfa_returnedfromevaluator = s.dfa_returnedfromevaluator,
		t.dfa_returnedfromevaluatorname = s.dfa_returnedfromevaluatorname,
		t.dfa_secondarydate = s.dfa_secondarydate,
		t.dfa_secondaryinsurancename = s.dfa_secondaryinsurancename,
		t.dfa_senttoevaluator = s.dfa_senttoevaluator,
		t.dfa_senttoevaluatorname = s.dfa_senttoevaluatorname,
		t.dfa_smallbusinesstype = s.dfa_smallbusinesstype,
		t.dfa_smallbusinesstypename = s.dfa_smallbusinesstypename,
		t.dfa_stagecasecreated = s.dfa_stagecasecreated,
		t.dfa_stagecaseinprogress = s.dfa_stagecaseinprogress,
		t.dfa_stagecreatingcasefile = s.dfa_stagecreatingcasefile,
		t.dfa_stagedraft = s.dfa_stagedraft,
		t.dfa_stagereviewingapplication = s.dfa_stagereviewingapplication,
		t.dfa_stagesubmitted = s.dfa_stagesubmitted,
		t.dfa_stormdamage = s.dfa_stormdamage,
		t.dfa_stormdamagename = s.dfa_stormdamagename,
		t.dfa_submittedtodirectorforreview = s.dfa_submittedtodirectorforreview,
		t.dfa_submittedtodirectorforreviewname = s.dfa_submittedtodirectorforreviewname,
		t.dfa_timelinenoteaddedappealclosed = s.dfa_timelinenoteaddedappealclosed,
		t.dfa_timelinenoteaddedappealclosedname = s.dfa_timelinenoteaddedappealclosedname,
		t.dfa_timelinenoteaddedappealrecieved = s.dfa_timelinenoteaddedappealrecieved,
		t.dfa_timelinenoteaddedappealrecievedname = s.dfa_timelinenoteaddedappealrecievedname,
		t.dfa_togglecontactinfopopulation = s.dfa_togglecontactinfopopulation,
		t.dfa_togglecontactinfopopulationname = s.dfa_togglecontactinfopopulationname,
		t.dfa_updatedon = s.dfa_updatedon,
		t.dfa_wereyouevacuatedduringtheevent2 = s.dfa_wereyouevacuatedduringtheevent2,
		t.dfa_wereyouevacuatedduringtheevent2name = s.dfa_wereyouevacuatedduringtheevent2name
    FROM dfa_stage.Incident AS t
    INNER JOIN ##Incident AS s
    ON t.incidentid=s.incidentid

    UPDATE t 
    SET  t.dfa_arbusinessphone=s.dfa_arbusinessphone,
		t.dfa_ardeclaration1=s.dfa_ardeclaration1,
		t.dfa_ardeclaration1name=s.dfa_ardeclaration1name,
		t.dfa_ardeclaration2=s.dfa_ardeclaration2,
		t.dfa_ardeclaration2name=s.dfa_ardeclaration2name,
		t.dfa_aremail=s.dfa_aremail,
		t.dfa_arfirstname=s.dfa_arfirstname,
		t.dfa_arlastname=s.dfa_arlastname,
		t.dfa_arpositiontitle=s.dfa_arpositiontitle,
		t.dfa_contactnotes=s.dfa_contactnotes,
		t.dfa_dfacasebusinessprocess=s.dfa_dfacasebusinessprocess,
		t.dfa_dfacasebusinessprocessname=s.dfa_dfacasebusinessprocessname,
		t.dfa_firstclaim=s.dfa_firstclaim,
		t.dfa_firstclaimname=s.dfa_firstclaimname,
		t.dfa_stageappealinprogress=s.dfa_stageappealinprogress,
		t.dfa_stageappealreceived=s.dfa_stageappealreceived,
		t.dfa_stageassessdamage=s.dfa_stageassessdamage,
		t.dfa_stagecheckingcriteria=s.dfa_stagecheckingcriteria,
		t.dfa_stageclosepay=s.dfa_stageclosepay,
		t.dfa_stagedevelopfiles=s.dfa_stagedevelopfiles,
		t.dfa_stagereviewreport=s.dfa_stagereviewreport,
		t.dfa_toreceivesupportaccessingdamage=s.dfa_toreceivesupportaccessingdamage,
		t.dfa_toreceivesupportaccessingdamagename=s.dfa_toreceivesupportaccessingdamagename,
		t.dfa_waitingonapplicantinformation=s.dfa_waitingonapplicantinformation,
		t.dfa_waitingonapplicantinformationname=s.dfa_waitingonapplicantinformationname,
		t.dfa_waitingoninsuranceinformation=s.dfa_waitingoninsuranceinformation,
		t.dfa_waitingoninsuranceinformationname=s.dfa_waitingoninsuranceinformationname,
		t.incidentid=s.incidentid,
		t.Modified_Load_Id=s.Modified_Load_Id 
	FROM dfa_stage.incident2 t 
	INNER JOIN ##incident2 s 
	ON t.incidentid = s.incidentid
GO
--PRINT N'Creating Permission...';


--GO
--GRANT SELECT
--    ON SCHEMA::[PBI_Training_DFA] TO [IDIR\EMCR_AP_BusinessIntelligence_DB_R];


--GO
--PRINT N'Creating Permission...';


--GO
--GRANT VIEW DEFINITION
--    ON SCHEMA::[PBI_Training_DFA] TO [IDIR\EMCR_AP_BusinessIntelligence_DB_R];


--GO
--PRINT N'Creating Permission...';


--GO
--GRANT SELECT
--    ON SCHEMA::[PBI_Training_DFA] TO [IDIR\LILYNG];


--GO
--PRINT N'Creating Permission...';


--GO
--GRANT SELECT
--    ON SCHEMA::[dbo] TO [IDIR\EMCR_AP_BusinessIntelligence_DB_R];


--GO
--PRINT N'Creating Permission...';


--GO
--GRANT VIEW DEFINITION
--    ON SCHEMA::[dbo] TO [IDIR\EMCR_AP_BusinessIntelligence_DB_R];


--GO
--PRINT N'Creating Permission...';


--GO
--GRANT SELECT
--    ON SCHEMA::[dfa_rpt] TO [IDIR\EMCR_AP_BusinessIntelligence_DB_R];


--GO
--PRINT N'Creating Permission...';


--GO
--GRANT SELECT
--    ON SCHEMA::[dfa_rpt] TO [IDIR\LILYNG];


--GO
--PRINT N'Creating Permission...';


--GO
--GRANT VIEW DEFINITION
--    ON SCHEMA::[dfa_rpt] TO [IDIR\EMCR_AP_BusinessIntelligence_DB_R];


--GO
PRINT N'Update complete.';


GO
